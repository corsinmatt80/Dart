var Yp=e=>{throw TypeError(e)};var dr=(e,t,n)=>t.has(e)?Yp("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n);function Wp(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function wi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ku={exports:{}},_i={},Cu={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ss=Symbol.for("react.element"),Xp=Symbol.for("react.portal"),Qp=Symbol.for("react.fragment"),Kp=Symbol.for("react.strict_mode"),Jp=Symbol.for("react.profiler"),Zp=Symbol.for("react.provider"),qp=Symbol.for("react.context"),eh=Symbol.for("react.forward_ref"),th=Symbol.for("react.suspense"),nh=Symbol.for("react.memo"),rh=Symbol.for("react.lazy"),Ra=Symbol.iterator;function sh(e){return e===null||typeof e!="object"?null:(e=Ra&&e[Ra]||e["@@iterator"],typeof e=="function"?e:null)}var Su={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bu=Object.assign,wu={};function or(e,t,n){this.props=e,this.context=t,this.refs=wu,this.updater=n||Su}or.prototype.isReactComponent={};or.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};or.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _u(){}_u.prototype=or.prototype;function Rl(e,t,n){this.props=e,this.context=t,this.refs=wu,this.updater=n||Su}var Ml=Rl.prototype=new _u;Ml.constructor=Rl;bu(Ml,or.prototype);Ml.isPureReactComponent=!0;var Ma=Array.isArray,ju=Object.prototype.hasOwnProperty,Il={current:null},Nu={key:!0,ref:!0,__self:!0,__source:!0};function Eu(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)ju.call(t,r)&&!Nu.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ss,type:e,key:i,ref:o,props:s,_owner:Il.current}}function ih(e,t){return{$$typeof:ss,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Al(e){return typeof e=="object"&&e!==null&&e.$$typeof===ss}function oh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ia=/\/+/g;function Yi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?oh(""+e.key):t.toString(36)}function Ps(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ss:case Xp:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Yi(o,0):r,Ma(s)?(n="",e!=null&&(n=e.replace(Ia,"$&/")+"/"),Ps(s,t,n,"",function(u){return u})):s!=null&&(Al(s)&&(s=ih(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ia,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Ma(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Yi(i,a);o+=Ps(i,t,n,l,s)}else if(l=sh(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Yi(i,a++),o+=Ps(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ds(e,t,n){if(e==null)return e;var r=[],s=0;return Ps(e,r,"","",function(i){return t.call(n,i,s++)}),r}function lh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ve={current:null},Rs={transition:null},ah={ReactCurrentDispatcher:Ve,ReactCurrentBatchConfig:Rs,ReactCurrentOwner:Il};function Tu(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:ds,forEach:function(e,t,n){ds(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ds(e,function(){t++}),t},toArray:function(e){return ds(e,function(t){return t})||[]},only:function(e){if(!Al(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=or;Q.Fragment=Qp;Q.Profiler=Jp;Q.PureComponent=Rl;Q.StrictMode=Kp;Q.Suspense=th;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ah;Q.act=Tu;Q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=bu({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Il.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)ju.call(t,l)&&!Nu.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ss,type:e.type,key:s,ref:i,props:r,_owner:o}};Q.createContext=function(e){return e={$$typeof:qp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Zp,_context:e},e.Consumer=e};Q.createElement=Eu;Q.createFactory=function(e){var t=Eu.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:eh,render:e}};Q.isValidElement=Al;Q.lazy=function(e){return{$$typeof:rh,_payload:{_status:-1,_result:e},_init:lh}};Q.memo=function(e,t){return{$$typeof:nh,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=Rs.transition;Rs.transition={};try{e()}finally{Rs.transition=t}};Q.unstable_act=Tu;Q.useCallback=function(e,t){return Ve.current.useCallback(e,t)};Q.useContext=function(e){return Ve.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return Ve.current.useDeferredValue(e)};Q.useEffect=function(e,t){return Ve.current.useEffect(e,t)};Q.useId=function(){return Ve.current.useId()};Q.useImperativeHandle=function(e,t,n){return Ve.current.useImperativeHandle(e,t,n)};Q.useInsertionEffect=function(e,t){return Ve.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return Ve.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return Ve.current.useMemo(e,t)};Q.useReducer=function(e,t,n){return Ve.current.useReducer(e,t,n)};Q.useRef=function(e){return Ve.current.useRef(e)};Q.useState=function(e){return Ve.current.useState(e)};Q.useSyncExternalStore=function(e,t,n){return Ve.current.useSyncExternalStore(e,t,n)};Q.useTransition=function(){return Ve.current.useTransition()};Q.version="18.3.1";Cu.exports=Q;var N=Cu.exports;const ie=wi(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ch=N,uh=Symbol.for("react.element"),dh=Symbol.for("react.fragment"),fh=Object.prototype.hasOwnProperty,ph=ch.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hh={key:!0,ref:!0,__self:!0,__source:!0};function Pu(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)fh.call(t,r)&&!hh.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:uh,type:e,key:i,ref:o,props:s,_owner:ph.current}}_i.Fragment=dh;_i.jsx=Pu;_i.jsxs=Pu;ku.exports=_i;var c=ku.exports,bo={},Ru={exports:{}},rt={},Mu={exports:{}},Iu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,H){var G=I.length;I.push(H);e:for(;0<G;){var re=G-1>>>1,fe=I[re];if(0<s(fe,H))I[re]=H,I[G]=fe,G=re;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var H=I[0],G=I.pop();if(G!==H){I[0]=G;e:for(var re=0,fe=I.length,Et=fe>>>1;re<Et;){var it=2*(re+1)-1,cr=I[it],kt=it+1,Ze=I[kt];if(0>s(cr,G))kt<fe&&0>s(Ze,cr)?(I[re]=Ze,I[kt]=G,re=kt):(I[re]=cr,I[it]=G,re=it);else if(kt<fe&&0>s(Ze,G))I[re]=Ze,I[kt]=G,re=kt;else break e}}return H}function s(I,H){var G=I.sortIndex-H.sortIndex;return G!==0?G:I.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,p=null,f=3,h=!1,g=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(I){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=I)r(u),H.sortIndex=H.expirationTime,t(l,H);else break;H=n(u)}}function k(I){if(v=!1,y(I),!g)if(n(l)!==null)g=!0,$e(S);else{var H=n(u);H!==null&&_e(k,H.startTime-I)}}function S(I,H){g=!1,v&&(v=!1,x(_),_=-1),h=!0;var G=f;try{for(y(H),p=n(l);p!==null&&(!(p.expirationTime>H)||I&&!O());){var re=p.callback;if(typeof re=="function"){p.callback=null,f=p.priorityLevel;var fe=re(p.expirationTime<=H);H=e.unstable_now(),typeof fe=="function"?p.callback=fe:p===n(l)&&r(l),y(H)}else r(l);p=n(l)}if(p!==null)var Et=!0;else{var it=n(u);it!==null&&_e(k,it.startTime-H),Et=!1}return Et}finally{p=null,f=G,h=!1}}var C=!1,w=null,_=-1,J=5,P=-1;function O(){return!(e.unstable_now()-P<J)}function R(){if(w!==null){var I=e.unstable_now();P=I;var H=!0;try{H=w(!0,I)}finally{H?L():(C=!1,w=null)}}else C=!1}var L;if(typeof m=="function")L=function(){m(R)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,K=Z.port2;Z.port1.onmessage=R,L=function(){K.postMessage(null)}}else L=function(){b(R,0)};function $e(I){w=I,C||(C=!0,L())}function _e(I,H){_=b(function(){I(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){g||h||(g=!0,$e(S))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(I){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var G=f;f=H;try{return I()}finally{f=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,H){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var G=f;f=I;try{return H()}finally{f=G}},e.unstable_scheduleCallback=function(I,H,G){var re=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?re+G:re):G=re,I){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=G+fe,I={id:d++,callback:H,priorityLevel:I,startTime:G,expirationTime:fe,sortIndex:-1},G>re?(I.sortIndex=G,t(u,I),n(l)===null&&I===n(u)&&(v?(x(_),_=-1):v=!0,_e(k,G-re))):(I.sortIndex=fe,t(l,I),g||h||(g=!0,$e(S))),I},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(I){var H=f;return function(){var G=f;f=H;try{return I.apply(this,arguments)}finally{f=G}}}})(Iu);Mu.exports=Iu;var mh=Mu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gh=N,nt=mh;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Au=new Set,zr={};function wn(e,t){Jn(e,t),Jn(e+"Capture",t)}function Jn(e,t){for(zr[e]=t,e=0;e<t.length;e++)Au.add(t[e])}var Ot=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wo=Object.prototype.hasOwnProperty,yh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Aa={},Da={};function xh(e){return wo.call(Da,e)?!0:wo.call(Aa,e)?!1:yh.test(e)?Da[e]=!0:(Aa[e]=!0,!1)}function vh(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function kh(e,t,n,r){if(t===null||typeof t>"u"||vh(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ge(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Me[e]=new Ge(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Me[t]=new Ge(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Me[e]=new Ge(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Me[e]=new Ge(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Me[e]=new Ge(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Me[e]=new Ge(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Me[e]=new Ge(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Me[e]=new Ge(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Me[e]=new Ge(e,5,!1,e.toLowerCase(),null,!1,!1)});var Dl=/[\-:]([a-z])/g;function Ol(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Dl,Ol);Me[t]=new Ge(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Dl,Ol);Me[t]=new Ge(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Dl,Ol);Me[t]=new Ge(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Me[e]=new Ge(e,1,!1,e.toLowerCase(),null,!1,!1)});Me.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Me[e]=new Ge(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ll(e,t,n,r){var s=Me.hasOwnProperty(t)?Me[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(kh(t,n,s,r)&&(n=null),r||s===null?xh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Bt=gh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fs=Symbol.for("react.element"),Rn=Symbol.for("react.portal"),Mn=Symbol.for("react.fragment"),zl=Symbol.for("react.strict_mode"),_o=Symbol.for("react.profiler"),Du=Symbol.for("react.provider"),Ou=Symbol.for("react.context"),$l=Symbol.for("react.forward_ref"),jo=Symbol.for("react.suspense"),No=Symbol.for("react.suspense_list"),Bl=Symbol.for("react.memo"),Ft=Symbol.for("react.lazy"),Lu=Symbol.for("react.offscreen"),Oa=Symbol.iterator;function fr(e){return e===null||typeof e!="object"?null:(e=Oa&&e[Oa]||e["@@iterator"],typeof e=="function"?e:null)}var me=Object.assign,Wi;function Sr(e){if(Wi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Wi=t&&t[1]||""}return`
`+Wi+e}var Xi=!1;function Qi(e,t){if(!e||Xi)return"";Xi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Xi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Sr(e):""}function Ch(e){switch(e.tag){case 5:return Sr(e.type);case 16:return Sr("Lazy");case 13:return Sr("Suspense");case 19:return Sr("SuspenseList");case 0:case 2:case 15:return e=Qi(e.type,!1),e;case 11:return e=Qi(e.type.render,!1),e;case 1:return e=Qi(e.type,!0),e;default:return""}}function Eo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Mn:return"Fragment";case Rn:return"Portal";case _o:return"Profiler";case zl:return"StrictMode";case jo:return"Suspense";case No:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ou:return(e.displayName||"Context")+".Consumer";case Du:return(e._context.displayName||"Context")+".Provider";case $l:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bl:return t=e.displayName||null,t!==null?t:Eo(e.type)||"Memo";case Ft:t=e._payload,e=e._init;try{return Eo(e(t))}catch{}}return null}function Sh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Eo(t);case 8:return t===zl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function sn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bh(e){var t=zu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ps(e){e._valueTracker||(e._valueTracker=bh(e))}function $u(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=zu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Xs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function To(e,t){var n=t.checked;return me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function La(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=sn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Bu(e,t){t=t.checked,t!=null&&Ll(e,"checked",t,!1)}function Po(e,t){Bu(e,t);var n=sn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ro(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ro(e,t.type,sn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function za(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ro(e,t,n){(t!=="number"||Xs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var br=Array.isArray;function Vn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+sn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Mo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $a(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(T(92));if(br(n)){if(1<n.length)throw Error(T(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:sn(n)}}function Uu(e,t){var n=sn(t.value),r=sn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ba(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Fu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Io(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Fu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hs,Hu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hs=hs||document.createElement("div"),hs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $r(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Nr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wh=["Webkit","ms","Moz","O"];Object.keys(Nr).forEach(function(e){wh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nr[t]=Nr[e]})});function Vu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Nr.hasOwnProperty(e)&&Nr[e]?(""+t).trim():t+"px"}function Gu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Vu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var _h=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ao(e,t){if(t){if(_h[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function Do(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oo=null;function Ul(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Lo=null,Gn=null,Yn=null;function Ua(e){if(e=ls(e)){if(typeof Lo!="function")throw Error(T(280));var t=e.stateNode;t&&(t=Pi(t),Lo(e.stateNode,e.type,t))}}function Yu(e){Gn?Yn?Yn.push(e):Yn=[e]:Gn=e}function Wu(){if(Gn){var e=Gn,t=Yn;if(Yn=Gn=null,Ua(e),t)for(e=0;e<t.length;e++)Ua(t[e])}}function Xu(e,t){return e(t)}function Qu(){}var Ki=!1;function Ku(e,t,n){if(Ki)return e(t,n);Ki=!0;try{return Xu(e,t,n)}finally{Ki=!1,(Gn!==null||Yn!==null)&&(Qu(),Wu())}}function Br(e,t){var n=e.stateNode;if(n===null)return null;var r=Pi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(T(231,t,typeof n));return n}var zo=!1;if(Ot)try{var pr={};Object.defineProperty(pr,"passive",{get:function(){zo=!0}}),window.addEventListener("test",pr,pr),window.removeEventListener("test",pr,pr)}catch{zo=!1}function jh(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Er=!1,Qs=null,Ks=!1,$o=null,Nh={onError:function(e){Er=!0,Qs=e}};function Eh(e,t,n,r,s,i,o,a,l){Er=!1,Qs=null,jh.apply(Nh,arguments)}function Th(e,t,n,r,s,i,o,a,l){if(Eh.apply(this,arguments),Er){if(Er){var u=Qs;Er=!1,Qs=null}else throw Error(T(198));Ks||(Ks=!0,$o=u)}}function _n(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ju(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Fa(e){if(_n(e)!==e)throw Error(T(188))}function Ph(e){var t=e.alternate;if(!t){if(t=_n(e),t===null)throw Error(T(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Fa(s),e;if(i===r)return Fa(s),t;i=i.sibling}throw Error(T(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?e:t}function Zu(e){return e=Ph(e),e!==null?qu(e):null}function qu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qu(e);if(t!==null)return t;e=e.sibling}return null}var ed=nt.unstable_scheduleCallback,Ha=nt.unstable_cancelCallback,Rh=nt.unstable_shouldYield,Mh=nt.unstable_requestPaint,xe=nt.unstable_now,Ih=nt.unstable_getCurrentPriorityLevel,Fl=nt.unstable_ImmediatePriority,td=nt.unstable_UserBlockingPriority,Js=nt.unstable_NormalPriority,Ah=nt.unstable_LowPriority,nd=nt.unstable_IdlePriority,ji=null,jt=null;function Dh(e){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(ji,e,void 0,(e.current.flags&128)===128)}catch{}}var yt=Math.clz32?Math.clz32:zh,Oh=Math.log,Lh=Math.LN2;function zh(e){return e>>>=0,e===0?32:31-(Oh(e)/Lh|0)|0}var ms=64,gs=4194304;function wr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=wr(a):(i&=o,i!==0&&(r=wr(i)))}else o=n&~s,o!==0?r=wr(o):i!==0&&(r=wr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-yt(t),s=1<<n,r|=e[n],t&=~s;return r}function $h(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-yt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=$h(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Bo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rd(){var e=ms;return ms<<=1,!(ms&4194240)&&(ms=64),e}function Ji(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function is(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yt(t),e[t]=n}function Uh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-yt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Hl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-yt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var se=0;function sd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var id,Vl,od,ld,ad,Uo=!1,ys=[],Qt=null,Kt=null,Jt=null,Ur=new Map,Fr=new Map,Vt=[],Fh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Va(e,t){switch(e){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":Kt=null;break;case"mouseover":case"mouseout":Jt=null;break;case"pointerover":case"pointerout":Ur.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fr.delete(t.pointerId)}}function hr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ls(t),t!==null&&Vl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Hh(e,t,n,r,s){switch(t){case"focusin":return Qt=hr(Qt,e,t,n,r,s),!0;case"dragenter":return Kt=hr(Kt,e,t,n,r,s),!0;case"mouseover":return Jt=hr(Jt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ur.set(i,hr(Ur.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Fr.set(i,hr(Fr.get(i)||null,e,t,n,r,s)),!0}return!1}function cd(e){var t=pn(e.target);if(t!==null){var n=_n(t);if(n!==null){if(t=n.tag,t===13){if(t=Ju(n),t!==null){e.blockedOn=t,ad(e.priority,function(){od(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ms(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Fo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Oo=r,n.target.dispatchEvent(r),Oo=null}else return t=ls(n),t!==null&&Vl(t),e.blockedOn=n,!1;t.shift()}return!0}function Ga(e,t,n){Ms(e)&&n.delete(t)}function Vh(){Uo=!1,Qt!==null&&Ms(Qt)&&(Qt=null),Kt!==null&&Ms(Kt)&&(Kt=null),Jt!==null&&Ms(Jt)&&(Jt=null),Ur.forEach(Ga),Fr.forEach(Ga)}function mr(e,t){e.blockedOn===t&&(e.blockedOn=null,Uo||(Uo=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,Vh)))}function Hr(e){function t(s){return mr(s,e)}if(0<ys.length){mr(ys[0],e);for(var n=1;n<ys.length;n++){var r=ys[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Qt!==null&&mr(Qt,e),Kt!==null&&mr(Kt,e),Jt!==null&&mr(Jt,e),Ur.forEach(t),Fr.forEach(t),n=0;n<Vt.length;n++)r=Vt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Vt.length&&(n=Vt[0],n.blockedOn===null);)cd(n),n.blockedOn===null&&Vt.shift()}var Wn=Bt.ReactCurrentBatchConfig,qs=!0;function Gh(e,t,n,r){var s=se,i=Wn.transition;Wn.transition=null;try{se=1,Gl(e,t,n,r)}finally{se=s,Wn.transition=i}}function Yh(e,t,n,r){var s=se,i=Wn.transition;Wn.transition=null;try{se=4,Gl(e,t,n,r)}finally{se=s,Wn.transition=i}}function Gl(e,t,n,r){if(qs){var s=Fo(e,t,n,r);if(s===null)lo(e,t,r,ei,n),Va(e,r);else if(Hh(s,e,t,n,r))r.stopPropagation();else if(Va(e,r),t&4&&-1<Fh.indexOf(e)){for(;s!==null;){var i=ls(s);if(i!==null&&id(i),i=Fo(e,t,n,r),i===null&&lo(e,t,r,ei,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else lo(e,t,r,null,n)}}var ei=null;function Fo(e,t,n,r){if(ei=null,e=Ul(r),e=pn(e),e!==null)if(t=_n(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ju(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ei=e,null}function ud(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ih()){case Fl:return 1;case td:return 4;case Js:case Ah:return 16;case nd:return 536870912;default:return 16}default:return 16}}var Yt=null,Yl=null,Is=null;function dd(){if(Is)return Is;var e,t=Yl,n=t.length,r,s="value"in Yt?Yt.value:Yt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Is=s.slice(e,1<r?1-r:void 0)}function As(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xs(){return!0}function Ya(){return!1}function st(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xs:Ya,this.isPropagationStopped=Ya,this}return me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),t}var lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wl=st(lr),os=me({},lr,{view:0,detail:0}),Wh=st(os),Zi,qi,gr,Ni=me({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gr&&(gr&&e.type==="mousemove"?(Zi=e.screenX-gr.screenX,qi=e.screenY-gr.screenY):qi=Zi=0,gr=e),Zi)},movementY:function(e){return"movementY"in e?e.movementY:qi}}),Wa=st(Ni),Xh=me({},Ni,{dataTransfer:0}),Qh=st(Xh),Kh=me({},os,{relatedTarget:0}),eo=st(Kh),Jh=me({},lr,{animationName:0,elapsedTime:0,pseudoElement:0}),Zh=st(Jh),qh=me({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),em=st(qh),tm=me({},lr,{data:0}),Xa=st(tm),nm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function im(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sm[e])?!!t[e]:!1}function Xl(){return im}var om=me({},os,{key:function(e){if(e.key){var t=nm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=As(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xl,charCode:function(e){return e.type==="keypress"?As(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?As(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lm=st(om),am=me({},Ni,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qa=st(am),cm=me({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xl}),um=st(cm),dm=me({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),fm=st(dm),pm=me({},Ni,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hm=st(pm),mm=[9,13,27,32],Ql=Ot&&"CompositionEvent"in window,Tr=null;Ot&&"documentMode"in document&&(Tr=document.documentMode);var gm=Ot&&"TextEvent"in window&&!Tr,fd=Ot&&(!Ql||Tr&&8<Tr&&11>=Tr),Ka=" ",Ja=!1;function pd(e,t){switch(e){case"keyup":return mm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var In=!1;function ym(e,t){switch(e){case"compositionend":return hd(t);case"keypress":return t.which!==32?null:(Ja=!0,Ka);case"textInput":return e=t.data,e===Ka&&Ja?null:e;default:return null}}function xm(e,t){if(In)return e==="compositionend"||!Ql&&pd(e,t)?(e=dd(),Is=Yl=Yt=null,In=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fd&&t.locale!=="ko"?null:t.data;default:return null}}var vm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Za(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vm[e.type]:t==="textarea"}function md(e,t,n,r){Yu(r),t=ti(t,"onChange"),0<t.length&&(n=new Wl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Pr=null,Vr=null;function km(e){jd(e,0)}function Ei(e){var t=On(e);if($u(t))return e}function Cm(e,t){if(e==="change")return t}var gd=!1;if(Ot){var to;if(Ot){var no="oninput"in document;if(!no){var qa=document.createElement("div");qa.setAttribute("oninput","return;"),no=typeof qa.oninput=="function"}to=no}else to=!1;gd=to&&(!document.documentMode||9<document.documentMode)}function ec(){Pr&&(Pr.detachEvent("onpropertychange",yd),Vr=Pr=null)}function yd(e){if(e.propertyName==="value"&&Ei(Vr)){var t=[];md(t,Vr,e,Ul(e)),Ku(km,t)}}function Sm(e,t,n){e==="focusin"?(ec(),Pr=t,Vr=n,Pr.attachEvent("onpropertychange",yd)):e==="focusout"&&ec()}function bm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ei(Vr)}function wm(e,t){if(e==="click")return Ei(t)}function _m(e,t){if(e==="input"||e==="change")return Ei(t)}function jm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vt=typeof Object.is=="function"?Object.is:jm;function Gr(e,t){if(vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!wo.call(t,s)||!vt(e[s],t[s]))return!1}return!0}function tc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nc(e,t){var n=tc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tc(n)}}function xd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vd(){for(var e=window,t=Xs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Xs(e.document)}return t}function Kl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Nm(e){var t=vd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&xd(n.ownerDocument.documentElement,n)){if(r!==null&&Kl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=nc(n,i);var o=nc(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Em=Ot&&"documentMode"in document&&11>=document.documentMode,An=null,Ho=null,Rr=null,Vo=!1;function rc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vo||An==null||An!==Xs(r)||(r=An,"selectionStart"in r&&Kl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Rr&&Gr(Rr,r)||(Rr=r,r=ti(Ho,"onSelect"),0<r.length&&(t=new Wl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=An)))}function vs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Dn={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionend:vs("Transition","TransitionEnd")},ro={},kd={};Ot&&(kd=document.createElement("div").style,"AnimationEvent"in window||(delete Dn.animationend.animation,delete Dn.animationiteration.animation,delete Dn.animationstart.animation),"TransitionEvent"in window||delete Dn.transitionend.transition);function Ti(e){if(ro[e])return ro[e];if(!Dn[e])return e;var t=Dn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in kd)return ro[e]=t[n];return e}var Cd=Ti("animationend"),Sd=Ti("animationiteration"),bd=Ti("animationstart"),wd=Ti("transitionend"),_d=new Map,sc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ln(e,t){_d.set(e,t),wn(t,[e])}for(var so=0;so<sc.length;so++){var io=sc[so],Tm=io.toLowerCase(),Pm=io[0].toUpperCase()+io.slice(1);ln(Tm,"on"+Pm)}ln(Cd,"onAnimationEnd");ln(Sd,"onAnimationIteration");ln(bd,"onAnimationStart");ln("dblclick","onDoubleClick");ln("focusin","onFocus");ln("focusout","onBlur");ln(wd,"onTransitionEnd");Jn("onMouseEnter",["mouseout","mouseover"]);Jn("onMouseLeave",["mouseout","mouseover"]);Jn("onPointerEnter",["pointerout","pointerover"]);Jn("onPointerLeave",["pointerout","pointerover"]);wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wn("onBeforeInput",["compositionend","keypress","textInput","paste"]);wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rm=new Set("cancel close invalid load scroll toggle".split(" ").concat(_r));function ic(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Th(r,t,void 0,e),e.currentTarget=null}function jd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;ic(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;ic(s,a,u),i=l}}}if(Ks)throw e=$o,Ks=!1,$o=null,e}function ce(e,t){var n=t[Qo];n===void 0&&(n=t[Qo]=new Set);var r=e+"__bubble";n.has(r)||(Nd(t,e,2,!1),n.add(r))}function oo(e,t,n){var r=0;t&&(r|=4),Nd(n,e,r,t)}var ks="_reactListening"+Math.random().toString(36).slice(2);function Yr(e){if(!e[ks]){e[ks]=!0,Au.forEach(function(n){n!=="selectionchange"&&(Rm.has(n)||oo(n,!1,e),oo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ks]||(t[ks]=!0,oo("selectionchange",!1,t))}}function Nd(e,t,n,r){switch(ud(t)){case 1:var s=Gh;break;case 4:s=Yh;break;default:s=Gl}n=s.bind(null,t,n,e),s=void 0,!zo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function lo(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=pn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Ku(function(){var u=i,d=Ul(n),p=[];e:{var f=_d.get(e);if(f!==void 0){var h=Wl,g=e;switch(e){case"keypress":if(As(n)===0)break e;case"keydown":case"keyup":h=lm;break;case"focusin":g="focus",h=eo;break;case"focusout":g="blur",h=eo;break;case"beforeblur":case"afterblur":h=eo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Wa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Qh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=um;break;case Cd:case Sd:case bd:h=Zh;break;case wd:h=fm;break;case"scroll":h=Wh;break;case"wheel":h=hm;break;case"copy":case"cut":case"paste":h=em;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Qa}var v=(t&4)!==0,b=!v&&e==="scroll",x=v?f!==null?f+"Capture":null:f;v=[];for(var m=u,y;m!==null;){y=m;var k=y.stateNode;if(y.tag===5&&k!==null&&(y=k,x!==null&&(k=Br(m,x),k!=null&&v.push(Wr(m,k,y)))),b)break;m=m.return}0<v.length&&(f=new h(f,g,null,n,d),p.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==Oo&&(g=n.relatedTarget||n.fromElement)&&(pn(g)||g[Lt]))break e;if((h||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=u,g=g?pn(g):null,g!==null&&(b=_n(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=u),h!==g)){if(v=Wa,k="onMouseLeave",x="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=Qa,k="onPointerLeave",x="onPointerEnter",m="pointer"),b=h==null?f:On(h),y=g==null?f:On(g),f=new v(k,m+"leave",h,n,d),f.target=b,f.relatedTarget=y,k=null,pn(d)===u&&(v=new v(x,m+"enter",g,n,d),v.target=y,v.relatedTarget=b,k=v),b=k,h&&g)t:{for(v=h,x=g,m=0,y=v;y;y=Pn(y))m++;for(y=0,k=x;k;k=Pn(k))y++;for(;0<m-y;)v=Pn(v),m--;for(;0<y-m;)x=Pn(x),y--;for(;m--;){if(v===x||x!==null&&v===x.alternate)break t;v=Pn(v),x=Pn(x)}v=null}else v=null;h!==null&&oc(p,f,h,v,!1),g!==null&&b!==null&&oc(p,b,g,v,!0)}}e:{if(f=u?On(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var S=Cm;else if(Za(f))if(gd)S=_m;else{S=bm;var C=Sm}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=wm);if(S&&(S=S(e,u))){md(p,S,n,d);break e}C&&C(e,f,u),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Ro(f,"number",f.value)}switch(C=u?On(u):window,e){case"focusin":(Za(C)||C.contentEditable==="true")&&(An=C,Ho=u,Rr=null);break;case"focusout":Rr=Ho=An=null;break;case"mousedown":Vo=!0;break;case"contextmenu":case"mouseup":case"dragend":Vo=!1,rc(p,n,d);break;case"selectionchange":if(Em)break;case"keydown":case"keyup":rc(p,n,d)}var w;if(Ql)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else In?pd(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(fd&&n.locale!=="ko"&&(In||_!=="onCompositionStart"?_==="onCompositionEnd"&&In&&(w=dd()):(Yt=d,Yl="value"in Yt?Yt.value:Yt.textContent,In=!0)),C=ti(u,_),0<C.length&&(_=new Xa(_,e,null,n,d),p.push({event:_,listeners:C}),w?_.data=w:(w=hd(n),w!==null&&(_.data=w)))),(w=gm?ym(e,n):xm(e,n))&&(u=ti(u,"onBeforeInput"),0<u.length&&(d=new Xa("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=w))}jd(p,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ti(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Br(e,n),i!=null&&r.unshift(Wr(e,i,s)),i=Br(e,t),i!=null&&r.push(Wr(e,i,s))),e=e.return}return r}function Pn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function oc(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Br(n,i),l!=null&&o.unshift(Wr(n,l,a))):s||(l=Br(n,i),l!=null&&o.push(Wr(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Mm=/\r\n?/g,Im=/\u0000|\uFFFD/g;function lc(e){return(typeof e=="string"?e:""+e).replace(Mm,`
`).replace(Im,"")}function Cs(e,t,n){if(t=lc(t),lc(e)!==t&&n)throw Error(T(425))}function ni(){}var Go=null,Yo=null;function Wo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xo=typeof setTimeout=="function"?setTimeout:void 0,Am=typeof clearTimeout=="function"?clearTimeout:void 0,ac=typeof Promise=="function"?Promise:void 0,Dm=typeof queueMicrotask=="function"?queueMicrotask:typeof ac<"u"?function(e){return ac.resolve(null).then(e).catch(Om)}:Xo;function Om(e){setTimeout(function(){throw e})}function ao(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Hr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Hr(t)}function Zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ar=Math.random().toString(36).slice(2),wt="__reactFiber$"+ar,Xr="__reactProps$"+ar,Lt="__reactContainer$"+ar,Qo="__reactEvents$"+ar,Lm="__reactListeners$"+ar,zm="__reactHandles$"+ar;function pn(e){var t=e[wt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Lt]||n[wt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cc(e);e!==null;){if(n=e[wt])return n;e=cc(e)}return t}e=n,n=e.parentNode}return null}function ls(e){return e=e[wt]||e[Lt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function On(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function Pi(e){return e[Xr]||null}var Ko=[],Ln=-1;function an(e){return{current:e}}function ue(e){0>Ln||(e.current=Ko[Ln],Ko[Ln]=null,Ln--)}function ae(e,t){Ln++,Ko[Ln]=e.current,e.current=t}var on={},Le=an(on),Qe=an(!1),xn=on;function Zn(e,t){var n=e.type.contextTypes;if(!n)return on;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ke(e){return e=e.childContextTypes,e!=null}function ri(){ue(Qe),ue(Le)}function uc(e,t,n){if(Le.current!==on)throw Error(T(168));ae(Le,t),ae(Qe,n)}function Ed(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(T(108,Sh(e)||"Unknown",s));return me({},n,r)}function si(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||on,xn=Le.current,ae(Le,e),ae(Qe,Qe.current),!0}function dc(e,t,n){var r=e.stateNode;if(!r)throw Error(T(169));n?(e=Ed(e,t,xn),r.__reactInternalMemoizedMergedChildContext=e,ue(Qe),ue(Le),ae(Le,e)):ue(Qe),ae(Qe,n)}var Mt=null,Ri=!1,co=!1;function Td(e){Mt===null?Mt=[e]:Mt.push(e)}function $m(e){Ri=!0,Td(e)}function cn(){if(!co&&Mt!==null){co=!0;var e=0,t=se;try{var n=Mt;for(se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Mt=null,Ri=!1}catch(s){throw Mt!==null&&(Mt=Mt.slice(e+1)),ed(Fl,cn),s}finally{se=t,co=!1}}return null}var zn=[],$n=0,ii=null,oi=0,ot=[],lt=0,vn=null,It=1,At="";function un(e,t){zn[$n++]=oi,zn[$n++]=ii,ii=e,oi=t}function Pd(e,t,n){ot[lt++]=It,ot[lt++]=At,ot[lt++]=vn,vn=e;var r=It;e=At;var s=32-yt(r)-1;r&=~(1<<s),n+=1;var i=32-yt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,It=1<<32-yt(t)+s|n<<s|r,At=i+e}else It=1<<i|n<<s|r,At=e}function Jl(e){e.return!==null&&(un(e,1),Pd(e,1,0))}function Zl(e){for(;e===ii;)ii=zn[--$n],zn[$n]=null,oi=zn[--$n],zn[$n]=null;for(;e===vn;)vn=ot[--lt],ot[lt]=null,At=ot[--lt],ot[lt]=null,It=ot[--lt],ot[lt]=null}var tt=null,et=null,de=!1,gt=null;function Rd(e,t){var n=at(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function fc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tt=e,et=Zt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tt=e,et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=vn!==null?{id:It,overflow:At}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=at(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,tt=e,et=null,!0):!1;default:return!1}}function Jo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zo(e){if(de){var t=et;if(t){var n=t;if(!fc(e,t)){if(Jo(e))throw Error(T(418));t=Zt(n.nextSibling);var r=tt;t&&fc(e,t)?Rd(r,n):(e.flags=e.flags&-4097|2,de=!1,tt=e)}}else{if(Jo(e))throw Error(T(418));e.flags=e.flags&-4097|2,de=!1,tt=e}}}function pc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tt=e}function Ss(e){if(e!==tt)return!1;if(!de)return pc(e),de=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Wo(e.type,e.memoizedProps)),t&&(t=et)){if(Jo(e))throw Md(),Error(T(418));for(;t;)Rd(e,t),t=Zt(t.nextSibling)}if(pc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){et=Zt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}et=null}}else et=tt?Zt(e.stateNode.nextSibling):null;return!0}function Md(){for(var e=et;e;)e=Zt(e.nextSibling)}function qn(){et=tt=null,de=!1}function ql(e){gt===null?gt=[e]:gt.push(e)}var Bm=Bt.ReactCurrentBatchConfig;function yr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,e))}return e}function bs(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hc(e){var t=e._init;return t(e._payload)}function Id(e){function t(x,m){if(e){var y=x.deletions;y===null?(x.deletions=[m],x.flags|=16):y.push(m)}}function n(x,m){if(!e)return null;for(;m!==null;)t(x,m),m=m.sibling;return null}function r(x,m){for(x=new Map;m!==null;)m.key!==null?x.set(m.key,m):x.set(m.index,m),m=m.sibling;return x}function s(x,m){return x=nn(x,m),x.index=0,x.sibling=null,x}function i(x,m,y){return x.index=y,e?(y=x.alternate,y!==null?(y=y.index,y<m?(x.flags|=2,m):y):(x.flags|=2,m)):(x.flags|=1048576,m)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function a(x,m,y,k){return m===null||m.tag!==6?(m=yo(y,x.mode,k),m.return=x,m):(m=s(m,y),m.return=x,m)}function l(x,m,y,k){var S=y.type;return S===Mn?d(x,m,y.props.children,k,y.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ft&&hc(S)===m.type)?(k=s(m,y.props),k.ref=yr(x,m,y),k.return=x,k):(k=Us(y.type,y.key,y.props,null,x.mode,k),k.ref=yr(x,m,y),k.return=x,k)}function u(x,m,y,k){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=xo(y,x.mode,k),m.return=x,m):(m=s(m,y.children||[]),m.return=x,m)}function d(x,m,y,k,S){return m===null||m.tag!==7?(m=yn(y,x.mode,k,S),m.return=x,m):(m=s(m,y),m.return=x,m)}function p(x,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=yo(""+m,x.mode,y),m.return=x,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case fs:return y=Us(m.type,m.key,m.props,null,x.mode,y),y.ref=yr(x,null,m),y.return=x,y;case Rn:return m=xo(m,x.mode,y),m.return=x,m;case Ft:var k=m._init;return p(x,k(m._payload),y)}if(br(m)||fr(m))return m=yn(m,x.mode,y,null),m.return=x,m;bs(x,m)}return null}function f(x,m,y,k){var S=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:a(x,m,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case fs:return y.key===S?l(x,m,y,k):null;case Rn:return y.key===S?u(x,m,y,k):null;case Ft:return S=y._init,f(x,m,S(y._payload),k)}if(br(y)||fr(y))return S!==null?null:d(x,m,y,k,null);bs(x,y)}return null}function h(x,m,y,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return x=x.get(y)||null,a(m,x,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case fs:return x=x.get(k.key===null?y:k.key)||null,l(m,x,k,S);case Rn:return x=x.get(k.key===null?y:k.key)||null,u(m,x,k,S);case Ft:var C=k._init;return h(x,m,y,C(k._payload),S)}if(br(k)||fr(k))return x=x.get(y)||null,d(m,x,k,S,null);bs(m,k)}return null}function g(x,m,y,k){for(var S=null,C=null,w=m,_=m=0,J=null;w!==null&&_<y.length;_++){w.index>_?(J=w,w=null):J=w.sibling;var P=f(x,w,y[_],k);if(P===null){w===null&&(w=J);break}e&&w&&P.alternate===null&&t(x,w),m=i(P,m,_),C===null?S=P:C.sibling=P,C=P,w=J}if(_===y.length)return n(x,w),de&&un(x,_),S;if(w===null){for(;_<y.length;_++)w=p(x,y[_],k),w!==null&&(m=i(w,m,_),C===null?S=w:C.sibling=w,C=w);return de&&un(x,_),S}for(w=r(x,w);_<y.length;_++)J=h(w,x,_,y[_],k),J!==null&&(e&&J.alternate!==null&&w.delete(J.key===null?_:J.key),m=i(J,m,_),C===null?S=J:C.sibling=J,C=J);return e&&w.forEach(function(O){return t(x,O)}),de&&un(x,_),S}function v(x,m,y,k){var S=fr(y);if(typeof S!="function")throw Error(T(150));if(y=S.call(y),y==null)throw Error(T(151));for(var C=S=null,w=m,_=m=0,J=null,P=y.next();w!==null&&!P.done;_++,P=y.next()){w.index>_?(J=w,w=null):J=w.sibling;var O=f(x,w,P.value,k);if(O===null){w===null&&(w=J);break}e&&w&&O.alternate===null&&t(x,w),m=i(O,m,_),C===null?S=O:C.sibling=O,C=O,w=J}if(P.done)return n(x,w),de&&un(x,_),S;if(w===null){for(;!P.done;_++,P=y.next())P=p(x,P.value,k),P!==null&&(m=i(P,m,_),C===null?S=P:C.sibling=P,C=P);return de&&un(x,_),S}for(w=r(x,w);!P.done;_++,P=y.next())P=h(w,x,_,P.value,k),P!==null&&(e&&P.alternate!==null&&w.delete(P.key===null?_:P.key),m=i(P,m,_),C===null?S=P:C.sibling=P,C=P);return e&&w.forEach(function(R){return t(x,R)}),de&&un(x,_),S}function b(x,m,y,k){if(typeof y=="object"&&y!==null&&y.type===Mn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case fs:e:{for(var S=y.key,C=m;C!==null;){if(C.key===S){if(S=y.type,S===Mn){if(C.tag===7){n(x,C.sibling),m=s(C,y.props.children),m.return=x,x=m;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ft&&hc(S)===C.type){n(x,C.sibling),m=s(C,y.props),m.ref=yr(x,C,y),m.return=x,x=m;break e}n(x,C);break}else t(x,C);C=C.sibling}y.type===Mn?(m=yn(y.props.children,x.mode,k,y.key),m.return=x,x=m):(k=Us(y.type,y.key,y.props,null,x.mode,k),k.ref=yr(x,m,y),k.return=x,x=k)}return o(x);case Rn:e:{for(C=y.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(x,m.sibling),m=s(m,y.children||[]),m.return=x,x=m;break e}else{n(x,m);break}else t(x,m);m=m.sibling}m=xo(y,x.mode,k),m.return=x,x=m}return o(x);case Ft:return C=y._init,b(x,m,C(y._payload),k)}if(br(y))return g(x,m,y,k);if(fr(y))return v(x,m,y,k);bs(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(x,m.sibling),m=s(m,y),m.return=x,x=m):(n(x,m),m=yo(y,x.mode,k),m.return=x,x=m),o(x)):n(x,m)}return b}var er=Id(!0),Ad=Id(!1),li=an(null),ai=null,Bn=null,ea=null;function ta(){ea=Bn=ai=null}function na(e){var t=li.current;ue(li),e._currentValue=t}function qo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xn(e,t){ai=e,ea=Bn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xe=!0),e.firstContext=null)}function ut(e){var t=e._currentValue;if(ea!==e)if(e={context:e,memoizedValue:t,next:null},Bn===null){if(ai===null)throw Error(T(308));Bn=e,ai.dependencies={lanes:0,firstContext:e}}else Bn=Bn.next=e;return t}var hn=null;function ra(e){hn===null?hn=[e]:hn.push(e)}function Dd(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,ra(t)):(n.next=s.next,s.next=n),t.interleaved=n,zt(e,r)}function zt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ht=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Od(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ee&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,zt(e,n)}return s=r.interleaved,s===null?(t.next=t,ra(r)):(t.next=s.next,s.next=t),r.interleaved=t,zt(e,n)}function Ds(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hl(e,n)}}function mc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ci(e,t,n,r){var s=e.updateQueue;Ht=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var p=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,h=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,v=a;switch(f=t,h=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){p=g.call(h,p,f);break e}p=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(h,p,f):g,f==null)break e;p=me({},p,f);break e;case 2:Ht=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=h,l=p):d=d.next=h,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=p),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Cn|=o,e.lanes=o,e.memoizedState=p}}function gc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(T(191,s));s.call(r)}}}var as={},Nt=an(as),Qr=an(as),Kr=an(as);function mn(e){if(e===as)throw Error(T(174));return e}function ia(e,t){switch(ae(Kr,t),ae(Qr,e),ae(Nt,as),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Io(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Io(t,e)}ue(Nt),ae(Nt,t)}function tr(){ue(Nt),ue(Qr),ue(Kr)}function Ld(e){mn(Kr.current);var t=mn(Nt.current),n=Io(t,e.type);t!==n&&(ae(Qr,e),ae(Nt,n))}function oa(e){Qr.current===e&&(ue(Nt),ue(Qr))}var pe=an(0);function ui(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uo=[];function la(){for(var e=0;e<uo.length;e++)uo[e]._workInProgressVersionPrimary=null;uo.length=0}var Os=Bt.ReactCurrentDispatcher,fo=Bt.ReactCurrentBatchConfig,kn=0,he=null,be=null,Ee=null,di=!1,Mr=!1,Jr=0,Um=0;function Ie(){throw Error(T(321))}function aa(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vt(e[n],t[n]))return!1;return!0}function ca(e,t,n,r,s,i){if(kn=i,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Os.current=e===null||e.memoizedState===null?Gm:Ym,e=n(r,s),Mr){i=0;do{if(Mr=!1,Jr=0,25<=i)throw Error(T(301));i+=1,Ee=be=null,t.updateQueue=null,Os.current=Wm,e=n(r,s)}while(Mr)}if(Os.current=fi,t=be!==null&&be.next!==null,kn=0,Ee=be=he=null,di=!1,t)throw Error(T(300));return e}function ua(){var e=Jr!==0;return Jr=0,e}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?he.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function dt(){if(be===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var t=Ee===null?he.memoizedState:Ee.next;if(t!==null)Ee=t,be=e;else{if(e===null)throw Error(T(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Ee===null?he.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function Zr(e,t){return typeof t=="function"?t(e):t}function po(e){var t=dt(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=be,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((kn&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,he.lanes|=d,Cn|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,vt(r,t.memoizedState)||(Xe=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,he.lanes|=i,Cn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ho(e){var t=dt(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);vt(i,t.memoizedState)||(Xe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function zd(){}function $d(e,t){var n=he,r=dt(),s=t(),i=!vt(r.memoizedState,s);if(i&&(r.memoizedState=s,Xe=!0),r=r.queue,da(Fd.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ee!==null&&Ee.memoizedState.tag&1){if(n.flags|=2048,qr(9,Ud.bind(null,n,r,s,t),void 0,null),Te===null)throw Error(T(349));kn&30||Bd(n,t,s)}return s}function Bd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ud(e,t,n,r){t.value=n,t.getSnapshot=r,Hd(t)&&Vd(e)}function Fd(e,t,n){return n(function(){Hd(t)&&Vd(e)})}function Hd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vt(e,n)}catch{return!0}}function Vd(e){var t=zt(e,1);t!==null&&xt(t,e,1,-1)}function yc(e){var t=bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:e},t.queue=e,e=e.dispatch=Vm.bind(null,he,e),[t.memoizedState,e]}function qr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Gd(){return dt().memoizedState}function Ls(e,t,n,r){var s=bt();he.flags|=e,s.memoizedState=qr(1|t,n,void 0,r===void 0?null:r)}function Mi(e,t,n,r){var s=dt();r=r===void 0?null:r;var i=void 0;if(be!==null){var o=be.memoizedState;if(i=o.destroy,r!==null&&aa(r,o.deps)){s.memoizedState=qr(t,n,i,r);return}}he.flags|=e,s.memoizedState=qr(1|t,n,i,r)}function xc(e,t){return Ls(8390656,8,e,t)}function da(e,t){return Mi(2048,8,e,t)}function Yd(e,t){return Mi(4,2,e,t)}function Wd(e,t){return Mi(4,4,e,t)}function Xd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qd(e,t,n){return n=n!=null?n.concat([e]):null,Mi(4,4,Xd.bind(null,t,e),n)}function fa(){}function Kd(e,t){var n=dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jd(e,t){var n=dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&aa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zd(e,t,n){return kn&21?(vt(n,t)||(n=rd(),he.lanes|=n,Cn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xe=!0),e.memoizedState=n)}function Fm(e,t){var n=se;se=n!==0&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{se=n,fo.transition=r}}function qd(){return dt().memoizedState}function Hm(e,t,n){var r=tn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ef(e))tf(t,n);else if(n=Dd(e,t,n,r),n!==null){var s=Fe();xt(n,e,r,s),nf(n,t,r)}}function Vm(e,t,n){var r=tn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ef(e))tf(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,vt(a,o)){var l=t.interleaved;l===null?(s.next=s,ra(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Dd(e,t,s,r),n!==null&&(s=Fe(),xt(n,e,r,s),nf(n,t,r))}}function ef(e){var t=e.alternate;return e===he||t!==null&&t===he}function tf(e,t){Mr=di=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function nf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hl(e,n)}}var fi={readContext:ut,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},Gm={readContext:ut,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:xc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ls(4194308,4,Xd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ls(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ls(4,2,e,t)},useMemo:function(e,t){var n=bt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Hm.bind(null,he,e),[r.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:yc,useDebugValue:fa,useDeferredValue:function(e){return bt().memoizedState=e},useTransition:function(){var e=yc(!1),t=e[0];return e=Fm.bind(null,e[1]),bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=he,s=bt();if(de){if(n===void 0)throw Error(T(407));n=n()}else{if(n=t(),Te===null)throw Error(T(349));kn&30||Bd(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,xc(Fd.bind(null,r,i,e),[e]),r.flags|=2048,qr(9,Ud.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=bt(),t=Te.identifierPrefix;if(de){var n=At,r=It;n=(r&~(1<<32-yt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Jr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Um++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ym={readContext:ut,useCallback:Kd,useContext:ut,useEffect:da,useImperativeHandle:Qd,useInsertionEffect:Yd,useLayoutEffect:Wd,useMemo:Jd,useReducer:po,useRef:Gd,useState:function(){return po(Zr)},useDebugValue:fa,useDeferredValue:function(e){var t=dt();return Zd(t,be.memoizedState,e)},useTransition:function(){var e=po(Zr)[0],t=dt().memoizedState;return[e,t]},useMutableSource:zd,useSyncExternalStore:$d,useId:qd,unstable_isNewReconciler:!1},Wm={readContext:ut,useCallback:Kd,useContext:ut,useEffect:da,useImperativeHandle:Qd,useInsertionEffect:Yd,useLayoutEffect:Wd,useMemo:Jd,useReducer:ho,useRef:Gd,useState:function(){return ho(Zr)},useDebugValue:fa,useDeferredValue:function(e){var t=dt();return be===null?t.memoizedState=e:Zd(t,be.memoizedState,e)},useTransition:function(){var e=ho(Zr)[0],t=dt().memoizedState;return[e,t]},useMutableSource:zd,useSyncExternalStore:$d,useId:qd,unstable_isNewReconciler:!1};function ht(e,t){if(e&&e.defaultProps){t=me({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function el(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:me({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ii={isMounted:function(e){return(e=e._reactInternals)?_n(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Fe(),s=tn(e),i=Dt(r,s);i.payload=t,n!=null&&(i.callback=n),t=qt(e,i,s),t!==null&&(xt(t,e,s,r),Ds(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Fe(),s=tn(e),i=Dt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=qt(e,i,s),t!==null&&(xt(t,e,s,r),Ds(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Fe(),r=tn(e),s=Dt(n,r);s.tag=2,t!=null&&(s.callback=t),t=qt(e,s,r),t!==null&&(xt(t,e,r,n),Ds(t,e,r))}};function vc(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Gr(n,r)||!Gr(s,i):!0}function rf(e,t,n){var r=!1,s=on,i=t.contextType;return typeof i=="object"&&i!==null?i=ut(i):(s=Ke(t)?xn:Le.current,r=t.contextTypes,i=(r=r!=null)?Zn(e,s):on),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ii,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function kc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ii.enqueueReplaceState(t,t.state,null)}function tl(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},sa(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ut(i):(i=Ke(t)?xn:Le.current,s.context=Zn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(el(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ii.enqueueReplaceState(s,s.state,null),ci(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function nr(e,t){try{var n="",r=t;do n+=Ch(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function mo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function nl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Xm=typeof WeakMap=="function"?WeakMap:Map;function sf(e,t,n){n=Dt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){hi||(hi=!0,fl=r),nl(e,t)},n}function of(e,t,n){n=Dt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){nl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){nl(e,t),typeof r!="function"&&(en===null?en=new Set([this]):en.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Cc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Xm;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=a0.bind(null,e,t,n),t.then(e,e))}function Sc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function bc(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Dt(-1,1),t.tag=2,qt(n,t,1))),n.lanes|=1),e)}var Qm=Bt.ReactCurrentOwner,Xe=!1;function Ue(e,t,n,r){t.child=e===null?Ad(t,null,n,r):er(t,e.child,n,r)}function wc(e,t,n,r,s){n=n.render;var i=t.ref;return Xn(t,s),r=ca(e,t,n,r,i,s),n=ua(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,$t(e,t,s)):(de&&n&&Jl(t),t.flags|=1,Ue(e,t,r,s),t.child)}function _c(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!ka(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,lf(e,t,i,r,s)):(e=Us(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Gr,n(o,r)&&e.ref===t.ref)return $t(e,t,s)}return t.flags|=1,e=nn(i,r),e.ref=t.ref,e.return=t,t.child=e}function lf(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Gr(i,r)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Xe=!0);else return t.lanes=e.lanes,$t(e,t,s)}return rl(e,t,n,r,s)}function af(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(Fn,qe),qe|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ae(Fn,qe),qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ae(Fn,qe),qe|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ae(Fn,qe),qe|=r;return Ue(e,t,s,n),t.child}function cf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function rl(e,t,n,r,s){var i=Ke(n)?xn:Le.current;return i=Zn(t,i),Xn(t,s),n=ca(e,t,n,r,i,s),r=ua(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,$t(e,t,s)):(de&&r&&Jl(t),t.flags|=1,Ue(e,t,n,s),t.child)}function jc(e,t,n,r,s){if(Ke(n)){var i=!0;si(t)}else i=!1;if(Xn(t,s),t.stateNode===null)zs(e,t),rf(t,n,r),tl(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ut(u):(u=Ke(n)?xn:Le.current,u=Zn(t,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&kc(t,o,r,u),Ht=!1;var f=t.memoizedState;o.state=f,ci(t,r,o,s),l=t.memoizedState,a!==r||f!==l||Qe.current||Ht?(typeof d=="function"&&(el(t,n,d,r),l=t.memoizedState),(a=Ht||vc(t,n,a,r,f,l,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Od(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:ht(t.type,a),o.props=u,p=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ut(l):(l=Ke(n)?xn:Le.current,l=Zn(t,l));var h=n.getDerivedStateFromProps;(d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||f!==l)&&kc(t,o,r,l),Ht=!1,f=t.memoizedState,o.state=f,ci(t,r,o,s);var g=t.memoizedState;a!==p||f!==g||Qe.current||Ht?(typeof h=="function"&&(el(t,n,h,r),g=t.memoizedState),(u=Ht||vc(t,n,u,r,f,g,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return sl(e,t,n,r,i,s)}function sl(e,t,n,r,s,i){cf(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&dc(t,n,!1),$t(e,t,i);r=t.stateNode,Qm.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=er(t,e.child,null,i),t.child=er(t,null,a,i)):Ue(e,t,a,i),t.memoizedState=r.state,s&&dc(t,n,!0),t.child}function uf(e){var t=e.stateNode;t.pendingContext?uc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&uc(e,t.context,!1),ia(e,t.containerInfo)}function Nc(e,t,n,r,s){return qn(),ql(s),t.flags|=256,Ue(e,t,n,r),t.child}var il={dehydrated:null,treeContext:null,retryLane:0};function ol(e){return{baseLanes:e,cachePool:null,transitions:null}}function df(e,t,n){var r=t.pendingProps,s=pe.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ae(pe,s&1),e===null)return Zo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Oi(o,r,0,null),e=yn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ol(n),t.memoizedState=il,e):pa(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Km(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=nn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=nn(a,i):(i=yn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?ol(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=il,r}return i=e.child,e=i.sibling,r=nn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function pa(e,t){return t=Oi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ws(e,t,n,r){return r!==null&&ql(r),er(t,e.child,null,n),e=pa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Km(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=mo(Error(T(422))),ws(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Oi({mode:"visible",children:r.children},s,0,null),i=yn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&er(t,e.child,null,o),t.child.memoizedState=ol(o),t.memoizedState=il,i);if(!(t.mode&1))return ws(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(T(419)),r=mo(i,r,void 0),ws(e,t,o,r)}if(a=(o&e.childLanes)!==0,Xe||a){if(r=Te,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,zt(e,s),xt(r,e,s,-1))}return va(),r=mo(Error(T(421))),ws(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=c0.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,et=Zt(s.nextSibling),tt=t,de=!0,gt=null,e!==null&&(ot[lt++]=It,ot[lt++]=At,ot[lt++]=vn,It=e.id,At=e.overflow,vn=t),t=pa(t,r.children),t.flags|=4096,t)}function Ec(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),qo(e.return,t,n)}function go(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function ff(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ue(e,t,r.children,n),r=pe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ec(e,n,t);else if(e.tag===19)Ec(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ae(pe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ui(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),go(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ui(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}go(t,!0,n,null,i);break;case"together":go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $t(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Cn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,n=nn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=nn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Jm(e,t,n){switch(t.tag){case 3:uf(t),qn();break;case 5:Ld(t);break;case 1:Ke(t.type)&&si(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ae(li,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ae(pe,pe.current&1),t.flags|=128,null):n&t.child.childLanes?df(e,t,n):(ae(pe,pe.current&1),e=$t(e,t,n),e!==null?e.sibling:null);ae(pe,pe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ff(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ae(pe,pe.current),r)break;return null;case 22:case 23:return t.lanes=0,af(e,t,n)}return $t(e,t,n)}var pf,ll,hf,mf;pf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ll=function(){};hf=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,mn(Nt.current);var i=null;switch(n){case"input":s=To(e,s),r=To(e,r),i=[];break;case"select":s=me({},s,{value:void 0}),r=me({},r,{value:void 0}),i=[];break;case"textarea":s=Mo(e,s),r=Mo(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ni)}Ao(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zr.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ce("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};mf=function(e,t,n,r){n!==r&&(t.flags|=4)};function xr(e,t){if(!de)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Zm(e,t,n){var r=t.pendingProps;switch(Zl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(t),null;case 1:return Ke(t.type)&&ri(),Ae(t),null;case 3:return r=t.stateNode,tr(),ue(Qe),ue(Le),la(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ss(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,gt!==null&&(ml(gt),gt=null))),ll(e,t),Ae(t),null;case 5:oa(t);var s=mn(Kr.current);if(n=t.type,e!==null&&t.stateNode!=null)hf(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(T(166));return Ae(t),null}if(e=mn(Nt.current),Ss(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[wt]=t,r[Xr]=i,e=(t.mode&1)!==0,n){case"dialog":ce("cancel",r),ce("close",r);break;case"iframe":case"object":case"embed":ce("load",r);break;case"video":case"audio":for(s=0;s<_r.length;s++)ce(_r[s],r);break;case"source":ce("error",r);break;case"img":case"image":case"link":ce("error",r),ce("load",r);break;case"details":ce("toggle",r);break;case"input":La(r,i),ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ce("invalid",r);break;case"textarea":$a(r,i),ce("invalid",r)}Ao(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Cs(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Cs(r.textContent,a,e),s=["children",""+a]):zr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ce("scroll",r)}switch(n){case"input":ps(r),za(r,i,!0);break;case"textarea":ps(r),Ba(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ni)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[wt]=t,e[Xr]=r,pf(e,t,!1,!1),t.stateNode=e;e:{switch(o=Do(n,r),n){case"dialog":ce("cancel",e),ce("close",e),s=r;break;case"iframe":case"object":case"embed":ce("load",e),s=r;break;case"video":case"audio":for(s=0;s<_r.length;s++)ce(_r[s],e);s=r;break;case"source":ce("error",e),s=r;break;case"img":case"image":case"link":ce("error",e),ce("load",e),s=r;break;case"details":ce("toggle",e),s=r;break;case"input":La(e,r),s=To(e,r),ce("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=me({},r,{value:void 0}),ce("invalid",e);break;case"textarea":$a(e,r),s=Mo(e,r),ce("invalid",e);break;default:s=r}Ao(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Gu(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Hu(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&$r(e,l):typeof l=="number"&&$r(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zr.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ce("scroll",e):l!=null&&Ll(e,i,l,o))}switch(n){case"input":ps(e),za(e,r,!1);break;case"textarea":ps(e),Ba(e);break;case"option":r.value!=null&&e.setAttribute("value",""+sn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Vn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Vn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ni)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ae(t),null;case 6:if(e&&t.stateNode!=null)mf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(T(166));if(n=mn(Kr.current),mn(Nt.current),Ss(t)){if(r=t.stateNode,n=t.memoizedProps,r[wt]=t,(i=r.nodeValue!==n)&&(e=tt,e!==null))switch(e.tag){case 3:Cs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cs(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wt]=t,t.stateNode=r}return Ae(t),null;case 13:if(ue(pe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(de&&et!==null&&t.mode&1&&!(t.flags&128))Md(),qn(),t.flags|=98560,i=!1;else if(i=Ss(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(T(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[wt]=t}else qn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ae(t),i=!1}else gt!==null&&(ml(gt),gt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?we===0&&(we=3):va())),t.updateQueue!==null&&(t.flags|=4),Ae(t),null);case 4:return tr(),ll(e,t),e===null&&Yr(t.stateNode.containerInfo),Ae(t),null;case 10:return na(t.type._context),Ae(t),null;case 17:return Ke(t.type)&&ri(),Ae(t),null;case 19:if(ue(pe),i=t.memoizedState,i===null)return Ae(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)xr(i,!1);else{if(we!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ui(e),o!==null){for(t.flags|=128,xr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ae(pe,pe.current&1|2),t.child}e=e.sibling}i.tail!==null&&xe()>rr&&(t.flags|=128,r=!0,xr(i,!1),t.lanes=4194304)}else{if(!r)if(e=ui(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),xr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!de)return Ae(t),null}else 2*xe()-i.renderingStartTime>rr&&n!==1073741824&&(t.flags|=128,r=!0,xr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=xe(),t.sibling=null,n=pe.current,ae(pe,r?n&1|2:n&1),t):(Ae(t),null);case 22:case 23:return xa(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?qe&1073741824&&(Ae(t),t.subtreeFlags&6&&(t.flags|=8192)):Ae(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function qm(e,t){switch(Zl(t),t.tag){case 1:return Ke(t.type)&&ri(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tr(),ue(Qe),ue(Le),la(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return oa(t),null;case 13:if(ue(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));qn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(pe),null;case 4:return tr(),null;case 10:return na(t.type._context),null;case 22:case 23:return xa(),null;case 24:return null;default:return null}}var _s=!1,Oe=!1,e0=typeof WeakSet=="function"?WeakSet:Set,D=null;function Un(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ye(e,t,r)}else n.current=null}function al(e,t,n){try{n()}catch(r){ye(e,t,r)}}var Tc=!1;function t0(e,t){if(Go=qs,e=vd(),Kl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,p=e,f=null;t:for(;;){for(var h;p!==n||s!==0&&p.nodeType!==3||(a=o+s),p!==i||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(h=p.firstChild)!==null;)f=p,p=h;for(;;){if(p===e)break t;if(f===n&&++u===s&&(a=o),f===i&&++d===r&&(l=o),(h=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yo={focusedElem:e,selectionRange:n},qs=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,b=g.memoizedState,x=t.stateNode,m=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:ht(t.type,v),b);x.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(k){ye(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return g=Tc,Tc=!1,g}function Ir(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&al(t,n,i)}s=s.next}while(s!==r)}}function Ai(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function cl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function gf(e){var t=e.alternate;t!==null&&(e.alternate=null,gf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wt],delete t[Xr],delete t[Qo],delete t[Lm],delete t[zm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yf(e){return e.tag===5||e.tag===3||e.tag===4}function Pc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ni));else if(r!==4&&(e=e.child,e!==null))for(ul(e,t,n),e=e.sibling;e!==null;)ul(e,t,n),e=e.sibling}function dl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(dl(e,t,n),e=e.sibling;e!==null;)dl(e,t,n),e=e.sibling}var Pe=null,mt=!1;function Ut(e,t,n){for(n=n.child;n!==null;)xf(e,t,n),n=n.sibling}function xf(e,t,n){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(ji,n)}catch{}switch(n.tag){case 5:Oe||Un(n,t);case 6:var r=Pe,s=mt;Pe=null,Ut(e,t,n),Pe=r,mt=s,Pe!==null&&(mt?(e=Pe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pe.removeChild(n.stateNode));break;case 18:Pe!==null&&(mt?(e=Pe,n=n.stateNode,e.nodeType===8?ao(e.parentNode,n):e.nodeType===1&&ao(e,n),Hr(e)):ao(Pe,n.stateNode));break;case 4:r=Pe,s=mt,Pe=n.stateNode.containerInfo,mt=!0,Ut(e,t,n),Pe=r,mt=s;break;case 0:case 11:case 14:case 15:if(!Oe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&al(n,t,o),s=s.next}while(s!==r)}Ut(e,t,n);break;case 1:if(!Oe&&(Un(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ye(n,t,a)}Ut(e,t,n);break;case 21:Ut(e,t,n);break;case 22:n.mode&1?(Oe=(r=Oe)||n.memoizedState!==null,Ut(e,t,n),Oe=r):Ut(e,t,n);break;default:Ut(e,t,n)}}function Rc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new e0),t.forEach(function(r){var s=u0.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function pt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pe=a.stateNode,mt=!1;break e;case 3:Pe=a.stateNode.containerInfo,mt=!0;break e;case 4:Pe=a.stateNode.containerInfo,mt=!0;break e}a=a.return}if(Pe===null)throw Error(T(160));xf(i,o,s),Pe=null,mt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ye(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)vf(t,e),t=t.sibling}function vf(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pt(t,e),St(e),r&4){try{Ir(3,e,e.return),Ai(3,e)}catch(v){ye(e,e.return,v)}try{Ir(5,e,e.return)}catch(v){ye(e,e.return,v)}}break;case 1:pt(t,e),St(e),r&512&&n!==null&&Un(n,n.return);break;case 5:if(pt(t,e),St(e),r&512&&n!==null&&Un(n,n.return),e.flags&32){var s=e.stateNode;try{$r(s,"")}catch(v){ye(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Bu(s,i),Do(a,o);var u=Do(a,i);for(o=0;o<l.length;o+=2){var d=l[o],p=l[o+1];d==="style"?Gu(s,p):d==="dangerouslySetInnerHTML"?Hu(s,p):d==="children"?$r(s,p):Ll(s,d,p,u)}switch(a){case"input":Po(s,i);break;case"textarea":Uu(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Vn(s,!!i.multiple,h,!1):f!==!!i.multiple&&(i.defaultValue!=null?Vn(s,!!i.multiple,i.defaultValue,!0):Vn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Xr]=i}catch(v){ye(e,e.return,v)}}break;case 6:if(pt(t,e),St(e),r&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){ye(e,e.return,v)}}break;case 3:if(pt(t,e),St(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hr(t.containerInfo)}catch(v){ye(e,e.return,v)}break;case 4:pt(t,e),St(e);break;case 13:pt(t,e),St(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ga=xe())),r&4&&Rc(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Oe=(u=Oe)||d,pt(t,e),Oe=u):pt(t,e),St(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(D=e,d=e.child;d!==null;){for(p=D=d;D!==null;){switch(f=D,h=f.child,f.tag){case 0:case 11:case 14:case 15:Ir(4,f,f.return);break;case 1:Un(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){ye(r,n,v)}}break;case 5:Un(f,f.return);break;case 22:if(f.memoizedState!==null){Ic(p);continue}}h!==null?(h.return=f,D=h):Ic(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Vu("display",o))}catch(v){ye(e,e.return,v)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(v){ye(e,e.return,v)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:pt(t,e),St(e),r&4&&Rc(e);break;case 21:break;default:pt(t,e),St(e)}}function St(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(yf(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&($r(s,""),r.flags&=-33);var i=Pc(e);dl(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Pc(e);ul(e,a,o);break;default:throw Error(T(161))}}catch(l){ye(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function n0(e,t,n){D=e,kf(e)}function kf(e,t,n){for(var r=(e.mode&1)!==0;D!==null;){var s=D,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||_s;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Oe;a=_s;var u=Oe;if(_s=o,(Oe=l)&&!u)for(D=s;D!==null;)o=D,l=o.child,o.tag===22&&o.memoizedState!==null?Ac(s):l!==null?(l.return=o,D=l):Ac(s);for(;i!==null;)D=i,kf(i),i=i.sibling;D=s,_s=a,Oe=u}Mc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,D=i):Mc(e)}}function Mc(e){for(;D!==null;){var t=D;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Oe||Ai(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Oe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ht(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&gc(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}gc(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Hr(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Oe||t.flags&512&&cl(t)}catch(f){ye(t,t.return,f)}}if(t===e){D=null;break}if(n=t.sibling,n!==null){n.return=t.return,D=n;break}D=t.return}}function Ic(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var n=t.sibling;if(n!==null){n.return=t.return,D=n;break}D=t.return}}function Ac(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ai(4,t)}catch(l){ye(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ye(t,s,l)}}var i=t.return;try{cl(t)}catch(l){ye(t,i,l)}break;case 5:var o=t.return;try{cl(t)}catch(l){ye(t,o,l)}}}catch(l){ye(t,t.return,l)}if(t===e){D=null;break}var a=t.sibling;if(a!==null){a.return=t.return,D=a;break}D=t.return}}var r0=Math.ceil,pi=Bt.ReactCurrentDispatcher,ha=Bt.ReactCurrentOwner,ct=Bt.ReactCurrentBatchConfig,ee=0,Te=null,Ce=null,Re=0,qe=0,Fn=an(0),we=0,es=null,Cn=0,Di=0,ma=0,Ar=null,We=null,ga=0,rr=1/0,Rt=null,hi=!1,fl=null,en=null,js=!1,Wt=null,mi=0,Dr=0,pl=null,$s=-1,Bs=0;function Fe(){return ee&6?xe():$s!==-1?$s:$s=xe()}function tn(e){return e.mode&1?ee&2&&Re!==0?Re&-Re:Bm.transition!==null?(Bs===0&&(Bs=rd()),Bs):(e=se,e!==0||(e=window.event,e=e===void 0?16:ud(e.type)),e):1}function xt(e,t,n,r){if(50<Dr)throw Dr=0,pl=null,Error(T(185));is(e,n,r),(!(ee&2)||e!==Te)&&(e===Te&&(!(ee&2)&&(Di|=n),we===4&&Gt(e,Re)),Je(e,r),n===1&&ee===0&&!(t.mode&1)&&(rr=xe()+500,Ri&&cn()))}function Je(e,t){var n=e.callbackNode;Bh(e,t);var r=Zs(e,e===Te?Re:0);if(r===0)n!==null&&Ha(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ha(n),t===1)e.tag===0?$m(Dc.bind(null,e)):Td(Dc.bind(null,e)),Dm(function(){!(ee&6)&&cn()}),n=null;else{switch(sd(r)){case 1:n=Fl;break;case 4:n=td;break;case 16:n=Js;break;case 536870912:n=nd;break;default:n=Js}n=Ef(n,Cf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Cf(e,t){if($s=-1,Bs=0,ee&6)throw Error(T(327));var n=e.callbackNode;if(Qn()&&e.callbackNode!==n)return null;var r=Zs(e,e===Te?Re:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=gi(e,r);else{t=r;var s=ee;ee|=2;var i=bf();(Te!==e||Re!==t)&&(Rt=null,rr=xe()+500,gn(e,t));do try{o0();break}catch(a){Sf(e,a)}while(!0);ta(),pi.current=i,ee=s,Ce!==null?t=0:(Te=null,Re=0,t=we)}if(t!==0){if(t===2&&(s=Bo(e),s!==0&&(r=s,t=hl(e,s))),t===1)throw n=es,gn(e,0),Gt(e,r),Je(e,xe()),n;if(t===6)Gt(e,r);else{if(s=e.current.alternate,!(r&30)&&!s0(s)&&(t=gi(e,r),t===2&&(i=Bo(e),i!==0&&(r=i,t=hl(e,i))),t===1))throw n=es,gn(e,0),Gt(e,r),Je(e,xe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(T(345));case 2:dn(e,We,Rt);break;case 3:if(Gt(e,r),(r&130023424)===r&&(t=ga+500-xe(),10<t)){if(Zs(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Fe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Xo(dn.bind(null,e,We,Rt),t);break}dn(e,We,Rt);break;case 4:if(Gt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-yt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*r0(r/1960))-r,10<r){e.timeoutHandle=Xo(dn.bind(null,e,We,Rt),r);break}dn(e,We,Rt);break;case 5:dn(e,We,Rt);break;default:throw Error(T(329))}}}return Je(e,xe()),e.callbackNode===n?Cf.bind(null,e):null}function hl(e,t){var n=Ar;return e.current.memoizedState.isDehydrated&&(gn(e,t).flags|=256),e=gi(e,t),e!==2&&(t=We,We=n,t!==null&&ml(t)),e}function ml(e){We===null?We=e:We.push.apply(We,e)}function s0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!vt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gt(e,t){for(t&=~ma,t&=~Di,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-yt(t),r=1<<n;e[n]=-1,t&=~r}}function Dc(e){if(ee&6)throw Error(T(327));Qn();var t=Zs(e,0);if(!(t&1))return Je(e,xe()),null;var n=gi(e,t);if(e.tag!==0&&n===2){var r=Bo(e);r!==0&&(t=r,n=hl(e,r))}if(n===1)throw n=es,gn(e,0),Gt(e,t),Je(e,xe()),n;if(n===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,dn(e,We,Rt),Je(e,xe()),null}function ya(e,t){var n=ee;ee|=1;try{return e(t)}finally{ee=n,ee===0&&(rr=xe()+500,Ri&&cn())}}function Sn(e){Wt!==null&&Wt.tag===0&&!(ee&6)&&Qn();var t=ee;ee|=1;var n=ct.transition,r=se;try{if(ct.transition=null,se=1,e)return e()}finally{se=r,ct.transition=n,ee=t,!(ee&6)&&cn()}}function xa(){qe=Fn.current,ue(Fn)}function gn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Am(n)),Ce!==null)for(n=Ce.return;n!==null;){var r=n;switch(Zl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ri();break;case 3:tr(),ue(Qe),ue(Le),la();break;case 5:oa(r);break;case 4:tr();break;case 13:ue(pe);break;case 19:ue(pe);break;case 10:na(r.type._context);break;case 22:case 23:xa()}n=n.return}if(Te=e,Ce=e=nn(e.current,null),Re=qe=t,we=0,es=null,ma=Di=Cn=0,We=Ar=null,hn!==null){for(t=0;t<hn.length;t++)if(n=hn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}hn=null}return e}function Sf(e,t){do{var n=Ce;try{if(ta(),Os.current=fi,di){for(var r=he.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}di=!1}if(kn=0,Ee=be=he=null,Mr=!1,Jr=0,ha.current=null,n===null||n.return===null){we=1,es=t,Ce=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=Re,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=Sc(o);if(h!==null){h.flags&=-257,bc(h,o,a,i,t),h.mode&1&&Cc(i,u,t),t=h,l=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(l),t.updateQueue=v}else g.add(l);break e}else{if(!(t&1)){Cc(i,u,t),va();break e}l=Error(T(426))}}else if(de&&a.mode&1){var b=Sc(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),bc(b,o,a,i,t),ql(nr(l,a));break e}}i=l=nr(l,a),we!==4&&(we=2),Ar===null?Ar=[i]:Ar.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=sf(i,l,t);mc(i,x);break e;case 1:a=l;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(en===null||!en.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=of(i,a,t);mc(i,k);break e}}i=i.return}while(i!==null)}_f(n)}catch(S){t=S,Ce===n&&n!==null&&(Ce=n=n.return);continue}break}while(!0)}function bf(){var e=pi.current;return pi.current=fi,e===null?fi:e}function va(){(we===0||we===3||we===2)&&(we=4),Te===null||!(Cn&268435455)&&!(Di&268435455)||Gt(Te,Re)}function gi(e,t){var n=ee;ee|=2;var r=bf();(Te!==e||Re!==t)&&(Rt=null,gn(e,t));do try{i0();break}catch(s){Sf(e,s)}while(!0);if(ta(),ee=n,pi.current=r,Ce!==null)throw Error(T(261));return Te=null,Re=0,we}function i0(){for(;Ce!==null;)wf(Ce)}function o0(){for(;Ce!==null&&!Rh();)wf(Ce)}function wf(e){var t=Nf(e.alternate,e,qe);e.memoizedProps=e.pendingProps,t===null?_f(e):Ce=t,ha.current=null}function _f(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=qm(n,t),n!==null){n.flags&=32767,Ce=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{we=6,Ce=null;return}}else if(n=Zm(n,t,qe),n!==null){Ce=n;return}if(t=t.sibling,t!==null){Ce=t;return}Ce=t=e}while(t!==null);we===0&&(we=5)}function dn(e,t,n){var r=se,s=ct.transition;try{ct.transition=null,se=1,l0(e,t,n,r)}finally{ct.transition=s,se=r}return null}function l0(e,t,n,r){do Qn();while(Wt!==null);if(ee&6)throw Error(T(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Uh(e,i),e===Te&&(Ce=Te=null,Re=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||js||(js=!0,Ef(Js,function(){return Qn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ct.transition,ct.transition=null;var o=se;se=1;var a=ee;ee|=4,ha.current=null,t0(e,n),vf(n,e),Nm(Yo),qs=!!Go,Yo=Go=null,e.current=n,n0(n),Mh(),ee=a,se=o,ct.transition=i}else e.current=n;if(js&&(js=!1,Wt=e,mi=s),i=e.pendingLanes,i===0&&(en=null),Dh(n.stateNode),Je(e,xe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(hi)throw hi=!1,e=fl,fl=null,e;return mi&1&&e.tag!==0&&Qn(),i=e.pendingLanes,i&1?e===pl?Dr++:(Dr=0,pl=e):Dr=0,cn(),null}function Qn(){if(Wt!==null){var e=sd(mi),t=ct.transition,n=se;try{if(ct.transition=null,se=16>e?16:e,Wt===null)var r=!1;else{if(e=Wt,Wt=null,mi=0,ee&6)throw Error(T(331));var s=ee;for(ee|=4,D=e.current;D!==null;){var i=D,o=i.child;if(D.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(D=u;D!==null;){var d=D;switch(d.tag){case 0:case 11:case 15:Ir(8,d,i)}var p=d.child;if(p!==null)p.return=d,D=p;else for(;D!==null;){d=D;var f=d.sibling,h=d.return;if(gf(d),d===u){D=null;break}if(f!==null){f.return=h,D=f;break}D=h}}}var g=i.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}D=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,D=o;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ir(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,D=x;break e}D=i.return}}var m=e.current;for(D=m;D!==null;){o=D;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,D=y;else e:for(o=m;D!==null;){if(a=D,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ai(9,a)}}catch(S){ye(a,a.return,S)}if(a===o){D=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,D=k;break e}D=a.return}}if(ee=s,cn(),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(ji,e)}catch{}r=!0}return r}finally{se=n,ct.transition=t}}return!1}function Oc(e,t,n){t=nr(n,t),t=sf(e,t,1),e=qt(e,t,1),t=Fe(),e!==null&&(is(e,1,t),Je(e,t))}function ye(e,t,n){if(e.tag===3)Oc(e,e,n);else for(;t!==null;){if(t.tag===3){Oc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(en===null||!en.has(r))){e=nr(n,e),e=of(t,e,1),t=qt(t,e,1),e=Fe(),t!==null&&(is(t,1,e),Je(t,e));break}}t=t.return}}function a0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Fe(),e.pingedLanes|=e.suspendedLanes&n,Te===e&&(Re&n)===n&&(we===4||we===3&&(Re&130023424)===Re&&500>xe()-ga?gn(e,0):ma|=n),Je(e,t)}function jf(e,t){t===0&&(e.mode&1?(t=gs,gs<<=1,!(gs&130023424)&&(gs=4194304)):t=1);var n=Fe();e=zt(e,t),e!==null&&(is(e,t,n),Je(e,n))}function c0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),jf(e,n)}function u0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(t),jf(e,n)}var Nf;Nf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qe.current)Xe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xe=!1,Jm(e,t,n);Xe=!!(e.flags&131072)}else Xe=!1,de&&t.flags&1048576&&Pd(t,oi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zs(e,t),e=t.pendingProps;var s=Zn(t,Le.current);Xn(t,n),s=ca(null,t,r,e,s,n);var i=ua();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ke(r)?(i=!0,si(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,sa(t),s.updater=Ii,t.stateNode=s,s._reactInternals=t,tl(t,r,e,n),t=sl(null,t,r,!0,i,n)):(t.tag=0,de&&i&&Jl(t),Ue(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zs(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=f0(r),e=ht(r,e),s){case 0:t=rl(null,t,r,e,n);break e;case 1:t=jc(null,t,r,e,n);break e;case 11:t=wc(null,t,r,e,n);break e;case 14:t=_c(null,t,r,ht(r.type,e),n);break e}throw Error(T(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ht(r,s),rl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ht(r,s),jc(e,t,r,s,n);case 3:e:{if(uf(t),e===null)throw Error(T(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Od(e,t),ci(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=nr(Error(T(423)),t),t=Nc(e,t,r,n,s);break e}else if(r!==s){s=nr(Error(T(424)),t),t=Nc(e,t,r,n,s);break e}else for(et=Zt(t.stateNode.containerInfo.firstChild),tt=t,de=!0,gt=null,n=Ad(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qn(),r===s){t=$t(e,t,n);break e}Ue(e,t,r,n)}t=t.child}return t;case 5:return Ld(t),e===null&&Zo(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Wo(r,s)?o=null:i!==null&&Wo(r,i)&&(t.flags|=32),cf(e,t),Ue(e,t,o,n),t.child;case 6:return e===null&&Zo(t),null;case 13:return df(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=er(t,null,r,n):Ue(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ht(r,s),wc(e,t,r,s,n);case 7:return Ue(e,t,t.pendingProps,n),t.child;case 8:return Ue(e,t,t.pendingProps.children,n),t.child;case 12:return Ue(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ae(li,r._currentValue),r._currentValue=o,i!==null)if(vt(i.value,o)){if(i.children===s.children&&!Qe.current){t=$t(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Dt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),qo(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(T(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),qo(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ue(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Xn(t,n),s=ut(s),r=r(s),t.flags|=1,Ue(e,t,r,n),t.child;case 14:return r=t.type,s=ht(r,t.pendingProps),s=ht(r.type,s),_c(e,t,r,s,n);case 15:return lf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ht(r,s),zs(e,t),t.tag=1,Ke(r)?(e=!0,si(t)):e=!1,Xn(t,n),rf(t,r,s),tl(t,r,s,n),sl(null,t,r,!0,e,n);case 19:return ff(e,t,n);case 22:return af(e,t,n)}throw Error(T(156,t.tag))};function Ef(e,t){return ed(e,t)}function d0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function at(e,t,n,r){return new d0(e,t,n,r)}function ka(e){return e=e.prototype,!(!e||!e.isReactComponent)}function f0(e){if(typeof e=="function")return ka(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$l)return 11;if(e===Bl)return 14}return 2}function nn(e,t){var n=e.alternate;return n===null?(n=at(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Us(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")ka(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Mn:return yn(n.children,s,i,t);case zl:o=8,s|=8;break;case _o:return e=at(12,n,t,s|2),e.elementType=_o,e.lanes=i,e;case jo:return e=at(13,n,t,s),e.elementType=jo,e.lanes=i,e;case No:return e=at(19,n,t,s),e.elementType=No,e.lanes=i,e;case Lu:return Oi(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Du:o=10;break e;case Ou:o=9;break e;case $l:o=11;break e;case Bl:o=14;break e;case Ft:o=16,r=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=at(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function yn(e,t,n,r){return e=at(7,e,r,t),e.lanes=n,e}function Oi(e,t,n,r){return e=at(22,e,r,t),e.elementType=Lu,e.lanes=n,e.stateNode={isHidden:!1},e}function yo(e,t,n){return e=at(6,e,null,t),e.lanes=n,e}function xo(e,t,n){return t=at(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function p0(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ji(0),this.expirationTimes=Ji(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ji(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ca(e,t,n,r,s,i,o,a,l){return e=new p0(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=at(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sa(i),e}function h0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Tf(e){if(!e)return on;e=e._reactInternals;e:{if(_n(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ke(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var n=e.type;if(Ke(n))return Ed(e,n,t)}return t}function Pf(e,t,n,r,s,i,o,a,l){return e=Ca(n,r,!0,e,s,i,o,a,l),e.context=Tf(null),n=e.current,r=Fe(),s=tn(n),i=Dt(r,s),i.callback=t??null,qt(n,i,s),e.current.lanes=s,is(e,s,r),Je(e,r),e}function Li(e,t,n,r){var s=t.current,i=Fe(),o=tn(s);return n=Tf(n),t.context===null?t.context=n:t.pendingContext=n,t=Dt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=qt(s,t,o),e!==null&&(xt(e,s,o,i),Ds(e,s,o)),o}function yi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Lc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Sa(e,t){Lc(e,t),(e=e.alternate)&&Lc(e,t)}function m0(){return null}var Rf=typeof reportError=="function"?reportError:function(e){console.error(e)};function ba(e){this._internalRoot=e}zi.prototype.render=ba.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));Li(e,t,null,null)};zi.prototype.unmount=ba.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sn(function(){Li(null,e,null,null)}),t[Lt]=null}};function zi(e){this._internalRoot=e}zi.prototype.unstable_scheduleHydration=function(e){if(e){var t=ld();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Vt.length&&t!==0&&t<Vt[n].priority;n++);Vt.splice(n,0,e),n===0&&cd(e)}};function wa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $i(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zc(){}function g0(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=yi(o);i.call(u)}}var o=Pf(t,r,e,0,null,!1,!1,"",zc);return e._reactRootContainer=o,e[Lt]=o.current,Yr(e.nodeType===8?e.parentNode:e),Sn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=yi(l);a.call(u)}}var l=Ca(e,0,!1,null,null,!1,!1,"",zc);return e._reactRootContainer=l,e[Lt]=l.current,Yr(e.nodeType===8?e.parentNode:e),Sn(function(){Li(t,l,n,r)}),l}function Bi(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=yi(o);a.call(l)}}Li(t,o,e,s)}else o=g0(n,t,e,s,r);return yi(o)}id=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=wr(t.pendingLanes);n!==0&&(Hl(t,n|1),Je(t,xe()),!(ee&6)&&(rr=xe()+500,cn()))}break;case 13:Sn(function(){var r=zt(e,1);if(r!==null){var s=Fe();xt(r,e,1,s)}}),Sa(e,1)}};Vl=function(e){if(e.tag===13){var t=zt(e,134217728);if(t!==null){var n=Fe();xt(t,e,134217728,n)}Sa(e,134217728)}};od=function(e){if(e.tag===13){var t=tn(e),n=zt(e,t);if(n!==null){var r=Fe();xt(n,e,t,r)}Sa(e,t)}};ld=function(){return se};ad=function(e,t){var n=se;try{return se=e,t()}finally{se=n}};Lo=function(e,t,n){switch(t){case"input":if(Po(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Pi(r);if(!s)throw Error(T(90));$u(r),Po(r,s)}}}break;case"textarea":Uu(e,n);break;case"select":t=n.value,t!=null&&Vn(e,!!n.multiple,t,!1)}};Xu=ya;Qu=Sn;var y0={usingClientEntryPoint:!1,Events:[ls,On,Pi,Yu,Wu,ya]},vr={findFiberByHostInstance:pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},x0={bundleType:vr.bundleType,version:vr.version,rendererPackageName:vr.rendererPackageName,rendererConfig:vr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zu(e),e===null?null:e.stateNode},findFiberByHostInstance:vr.findFiberByHostInstance||m0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ns=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ns.isDisabled&&Ns.supportsFiber)try{ji=Ns.inject(x0),jt=Ns}catch{}}rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y0;rt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wa(t))throw Error(T(200));return h0(e,t,null,n)};rt.createRoot=function(e,t){if(!wa(e))throw Error(T(299));var n=!1,r="",s=Rf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ca(e,1,!1,null,null,n,!1,r,s),e[Lt]=t.current,Yr(e.nodeType===8?e.parentNode:e),new ba(t)};rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=Zu(t),e=e===null?null:e.stateNode,e};rt.flushSync=function(e){return Sn(e)};rt.hydrate=function(e,t,n){if(!$i(t))throw Error(T(200));return Bi(null,e,t,!0,n)};rt.hydrateRoot=function(e,t,n){if(!wa(e))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Rf;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Pf(t,null,e,1,n??null,s,!1,i,o),e[Lt]=t.current,Yr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new zi(t)};rt.render=function(e,t,n){if(!$i(t))throw Error(T(200));return Bi(null,e,t,!1,n)};rt.unmountComponentAtNode=function(e){if(!$i(e))throw Error(T(40));return e._reactRootContainer?(Sn(function(){Bi(null,null,e,!1,function(){e._reactRootContainer=null,e[Lt]=null})}),!0):!1};rt.unstable_batchedUpdates=ya;rt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$i(n))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return Bi(e,t,n,!1,r)};rt.version="18.3.1-next-f1338f8080-20240426";function Mf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mf)}catch(e){console.error(e)}}Mf(),Ru.exports=rt;var v0=Ru.exports,$c=v0;bo.createRoot=$c.createRoot,bo.hydrateRoot=$c.hydrateRoot;const k0={},Bc=e=>{let t;const n=new Set,r=(d,p)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const h=t;t=p??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(g=>g(t,h))}},s=()=>t,l={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(k0?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,s,l);return l},C0=e=>e?Bc(e):Bc;var If={exports:{}},Af={},Df={exports:{}},Of={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sr=N;function S0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var b0=typeof Object.is=="function"?Object.is:S0,w0=sr.useState,_0=sr.useEffect,j0=sr.useLayoutEffect,N0=sr.useDebugValue;function E0(e,t){var n=t(),r=w0({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return j0(function(){s.value=n,s.getSnapshot=t,vo(s)&&i({inst:s})},[e,n,t]),_0(function(){return vo(s)&&i({inst:s}),e(function(){vo(s)&&i({inst:s})})},[e]),N0(n),n}function vo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!b0(e,n)}catch{return!0}}function T0(e,t){return t()}var P0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?T0:E0;Of.useSyncExternalStore=sr.useSyncExternalStore!==void 0?sr.useSyncExternalStore:P0;Df.exports=Of;var R0=Df.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ui=N,M0=R0;function I0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var A0=typeof Object.is=="function"?Object.is:I0,D0=M0.useSyncExternalStore,O0=Ui.useRef,L0=Ui.useEffect,z0=Ui.useMemo,$0=Ui.useDebugValue;Af.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=O0(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=z0(function(){function l(h){if(!u){if(u=!0,d=h,h=r(h),s!==void 0&&o.hasValue){var g=o.value;if(s(g,h))return p=g}return p=h}if(g=p,A0(d,h))return g;var v=r(h);return s!==void 0&&s(g,v)?(d=h,g):(d=h,p=v)}var u=!1,d,p,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,r,s]);var a=D0(e,i[0],i[1]);return L0(function(){o.hasValue=!0,o.value=a},[a]),$0(a),a};If.exports=Af;var B0=If.exports;const U0=wi(B0),Lf={},{useDebugValue:F0}=ie,{useSyncExternalStoreWithSelector:H0}=U0;let Uc=!1;const V0=e=>e;function G0(e,t=V0,n){(Lf?"production":void 0)!=="production"&&n&&!Uc&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Uc=!0);const r=H0(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return F0(r),r}const Fc=e=>{(Lf?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?C0(e):e,n=(r,s)=>G0(t,r,s);return Object.assign(n,t),n},Y0=e=>e?Fc(e):Fc;function Hc(e){const t=W0(e.length);return{players:e.map((n,r)=>({...n,randomNumber:t[r],hits:0,killer:!1,shots:0})),currentPlayerIndex:0,winner:null,gamePhase:"playing"}}function W0(e){const t=[20,1,18,4,13,6,10,15,2,17,3,19,7,16,8,11,14,9,12,5],n=[],r=new Set;for(let s=0;s<e;s++){let i;do i=t[Math.floor(Math.random()*t.length)];while(r.has(i));n.push(i),r.add(i);const o=t.indexOf(i);for(let a=Math.max(0,o-2);a<=Math.min(19,o+2);a++)r.add(t[a])}return n}function X0(e,t){const n=JSON.parse(JSON.stringify(e)),r=n.players[n.currentPlayerIndex];if(r.shots+=1,r.hits<3&&(r.hits+=t.multiplier,r.hits>=3&&(r.hits=3,r.killer=!0)),r.killer){for(const i of n.players)if(i.randomNumber===t.value&&i.id!==r.id&&!i.eliminated){i.hits-=t.multiplier,i.hits<0&&(i.eliminated=!0);break}}const s=n.players.filter(i=>!i.eliminated);return s.length===1&&(n.winner=s[0],n.gamePhase="ended"),n}const Q0={inMode:"straight",outMode:"double",startScore:501};function ko(e,t,n){const r=n??Q0;return{players:e.map((s,i)=>{var o;return{...s,score:r.startScore,shots:0,legsWon:((o=t==null?void 0:t[i])==null?void 0:o.legsWon)??0,hasStarted:r.inMode==="straight"}}),currentPlayerIndex:0,winner:null,gamePhase:"playing",options:r}}function K0(e,t){const n=JSON.parse(JSON.stringify(e)),r=n.players[n.currentPlayerIndex],{inMode:s,outMode:i}=n.options;r.shots===0&&(r.scoreAtTurnStart=r.score,r.turnBusted=!1),r.shots+=1;const o=t.points;if(s==="double"&&!r.hasStarted)if(t.multiplier===2)r.hasStarted=!0;else return r.shots===3?Es(n):n;const a=r.score-o;return a<0||a===1?(r.score=r.scoreAtTurnStart,r.turnBusted=!0,Es(n)):a===0?J0(t.multiplier,i)?(r.score=0,r.legsWon+=1,n.winner=r,n.gamePhase="ended",n):(r.score=r.scoreAtTurnStart,r.turnBusted=!0,Es(n)):(r.score=a,r.shots===3?Es(n):n)}function J0(e,t){switch(t){case"straight":return!0;case"double":return e===2;case"master":return e===2||e===3;default:return e===2}}function Es(e){const t=JSON.parse(JSON.stringify(e));return t.currentPlayerIndex=(t.currentPlayerIndex+1)%t.players.length,t.players[t.currentPlayerIndex].shots=0,t.players[t.currentPlayerIndex].turnBusted=!1,t}const xi=[20,19,18,17,16,15,25];function Vc(e){const t={20:0,19:0,18:0,17:0,16:0,15:0,25:0};return{players:e.map(n=>({...n,marks:{...t},points:0,shots:0})),currentPlayerIndex:0,round:1,maxRounds:20,winner:null,gamePhase:"playing"}}function Z0(e,t){const n=JSON.parse(JSON.stringify(e)),r=n.players[n.currentPlayerIndex];r.shots+=1;const s=t.value,i=t.multiplier;if(!xi.includes(s))return r.shots===3?Gc(n):n;const o=r.marks[s];if(o<3){const l=Math.min(3-o,i),u=i-l;if(r.marks[s]=Math.min(o+i,3),u>0){const d=s===25?25:s;n.players.forEach((p,f)=>{f!==n.currentPlayerIndex&&p.marks[s]<3&&(p.points+=u*d)})}}else{const l=s===25?25:s;n.players.forEach((u,d)=>{d!==n.currentPlayerIndex&&u.marks[s]<3&&(u.points+=i*l)})}if(xi.every(l=>r.marks[l]>=3)){const l=Math.min(...n.players.filter((u,d)=>d!==n.currentPlayerIndex).map(u=>u.points));if(r.points<=l)return n.winner=r,n.gamePhase="ended",n}return r.shots===3?Gc(n):n}function Gc(e){const t=JSON.parse(JSON.stringify(e)),n=(t.currentPlayerIndex+1)%t.players.length;if(n===0&&(t.round+=1,t.round>t.maxRounds)){const r=[...t.players].sort((s,i)=>s.points-i.points);return t.winner=r[0],t.gamePhase="ended",t}return t.currentPlayerIndex=n,t.players[t.currentPlayerIndex].shots=0,t}function Yc(e,t=120,n=3){return{players:e.map(r=>({...r,lives:n,lastThrow:null,shots:0,currentThrows:[]})),currentPlayerIndex:0,currentLimit:t,startLimit:t,maxLives:n,lastPlayerWhoSet:null,winner:null,gamePhase:"playing",message:null}}function q0(e,t){const n=JSON.parse(JSON.stringify(e)),r=n.players[n.currentPlayerIndex],s=t.points===0?25:t.points;r.currentThrows.push(s),r.shots+=1;const i=r.currentThrows.reduce((a,l)=>a+l,0),o=r.currentThrows.map((a,l)=>t.points===0&&l===r.currentThrows.length-1?"25 (miss)":a).join(" + ");if(n.message=`${r.name}: ${o} = ${i}`,r.shots===3){r.lastThrow=i,i<n.currentLimit?(n.currentLimit=i,n.lastPlayerWhoSet=r.id,n.message=`${r.name} threw ${i}! New limit: ${i}`):(r.lives-=1,n.message=`${r.name} threw ${i} - BUST! (Limit was ${n.currentLimit})`,n.currentLimit=n.startLimit,n.lastPlayerWhoSet=null,r.lives<=0&&(r.eliminated=!0,n.message+=" - ELIMINATED!"));const a=n.players.filter(u=>u.lives>0);if(a.length===1)return n.winner=a[0],n.gamePhase="ended",n.message=`${a[0].name} wins!`,n;if(a.length===0)return n.gamePhase="ended",n;let l=(n.currentPlayerIndex+1)%n.players.length;for(;n.players[l].lives<=0;)l=(l+1)%n.players.length;n.currentPlayerIndex=l,n.players[l].shots=0,n.players[l].currentThrows=[]}return n}const jn=Y0(e=>({currentGame:null,players:[],gameState:null,initialGameState:null,darts501Options:null,limboOptions:null,inputMode:"manual",history:[],setCurrentGame:t=>e({currentGame:t}),setPlayers:t=>e({players:t}),initializeGame:(t,n)=>{let r=null;t==="killer"&&(r=Hc(n)),e({currentGame:t,players:n,gameState:r,initialGameState:JSON.parse(JSON.stringify(r)),history:[]})},initializeDarts501:(t,n)=>{const r=ko(t,void 0,n);e({currentGame:"darts501",players:t,gameState:r,darts501Options:n,initialGameState:JSON.parse(JSON.stringify(r)),history:[]})},initializeCricket:t=>{const n=Vc(t);e({currentGame:"cricket",players:t,gameState:n,initialGameState:JSON.parse(JSON.stringify(n)),history:[]})},initializeLimbo:(t,n,r)=>{const s=Yc(t,n,r);e({currentGame:"limbo",players:t,gameState:s,limboOptions:{startLimit:n,lives:r},initialGameState:JSON.parse(JSON.stringify(s)),history:[]})},recordHit:t=>e(n=>{if(!n.gameState||!n.currentGame)return n;const r=[...n.history,JSON.parse(JSON.stringify(n.gameState))];let s=null;return n.currentGame==="killer"?s=X0(n.gameState,t):n.currentGame==="darts501"?s=K0(n.gameState,t):n.currentGame==="cricket"?s=Z0(n.gameState,t):n.currentGame==="limbo"&&(s=q0(n.gameState,t)),{gameState:s,history:r}}),endTurn:()=>e(t=>{if(!t.gameState||!t.currentGame)return t;const n=JSON.parse(JSON.stringify(t.gameState));if(t.currentGame==="killer"){const r=n;do r.currentPlayerIndex=(r.currentPlayerIndex+1)%r.players.length;while(r.players[r.currentPlayerIndex].eliminated);r.players[r.currentPlayerIndex].shots=0}else if(t.currentGame==="darts501"){const r=n;do r.currentPlayerIndex=(r.currentPlayerIndex+1)%r.players.length;while(r.players[r.currentPlayerIndex].eliminated);r.players[r.currentPlayerIndex].shots=0}return{gameState:n}}),resetGame:()=>e({currentGame:null,gameState:null,initialGameState:null,history:[],darts501Options:null,limboOptions:null}),clearPlayers:()=>e({currentGame:null,gameState:null,initialGameState:null,players:[],history:[],darts501Options:null,limboOptions:null}),restartGame:()=>e(t=>{if(!t.currentGame||t.players.length===0)return t;let n=null;return t.currentGame==="killer"?n=Hc(t.players):t.currentGame==="darts501"&&t.darts501Options?n=ko(t.players,void 0,t.darts501Options):t.currentGame==="cricket"?n=Vc(t.players):t.currentGame==="limbo"&&t.limboOptions&&(n=Yc(t.players,t.limboOptions.startLimit,t.limboOptions.lives)),{gameState:n,initialGameState:JSON.parse(JSON.stringify(n)),history:[]}}),startNewLeg:()=>e(t=>{if(!t.gameState||t.currentGame!=="darts501")return t;const n=t.gameState;return{gameState:ko(t.players,n.players,t.darts501Options??n.options),history:[]}}),setInputMode:t=>e({inputMode:t}),undo:()=>e(t=>{if(t.history.length===0)return t;const n=t.history[t.history.length-1],r=t.history.slice(0,-1);return n?{gameState:n,history:r}:t})}));var eg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const tg=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ne=(e,t)=>{const n=N.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:a,...l},u)=>N.createElement("svg",{ref:u,...eg,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:`lucide lucide-${tg(e)}`,...l},[...t.map(([d,p])=>N.createElement(d,p)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${e}`,n},Fi=ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),ng=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),ts=ne("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),ir=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),rg=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),sg=ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),ig=ne("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]),Wc=ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),og=ne("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),vi=ne("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Xc=ne("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Ts=ne("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]),lg=ne("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),ag=ne("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),cg=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),_a=ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),ft=ne("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),ns=ne("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]),ug=ne("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),cs=ne("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),dg=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),zf=ne("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),fg=ne("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]),pg=ne("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.34l1 1L22 8v8",key:"ubwiq0"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2l10 10Z",key:"1l10zd"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),$f=ne("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),Hi=ne("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),Vi=ne("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),Bf=ne("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),ki=ne("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Uf=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Qc=ne("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Kc=ne("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function hg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function mg(){const{setPlayers:e}=jn(),[t,n]=N.useState(["Player 1","Player 2"]),[r,s]=N.useState(""),i=()=>{r.trim()&&(n([...t,r]),s(""))},o=u=>{t.length>2&&n(t.filter((d,p)=>p!==u))},a=(u,d)=>{const p=[...t];p[u]=d,n(p)},l=()=>{const u=t.filter(d=>d.trim()).map(d=>({id:hg(),name:d.trim()}));u.length>=2?e(u):alert("Please enter at least 2 player names")};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-dark via-blue-900 to-dark flex items-center justify-center p-4",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsx("h1",{className:"text-4xl font-bold text-center mb-2 text-accent",children:"Dart Game Hub"}),c.jsx("p",{className:"text-center text-gray-400 mb-8",children:"Enter player names"}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-6 space-y-4",children:[t.map((u,d)=>c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:u,onChange:p=>a(d,p.target.value),className:"flex-1 px-4 py-2 bg-white/20 text-white placeholder-gray-400 rounded-lg border border-white/30 focus:outline-none focus:border-accent focus:ring-2 focus:ring-accent/50",placeholder:`Player ${d+1}`}),c.jsx("button",{onClick:()=>o(d),disabled:t.length<=2,className:"px-3 py-2 bg-danger/80 hover:bg-danger disabled:bg-gray-600 rounded-lg transition text-white",children:c.jsx(dg,{size:18})})]},d)),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:r,onChange:u=>s(u.target.value),onKeyPress:u=>u.key==="Enter"&&i(),className:"flex-1 px-4 py-2 bg-white/20 text-white placeholder-gray-400 rounded-lg border border-white/30 focus:outline-none focus:border-accent focus:ring-2 focus:ring-accent/50",placeholder:"Add new player..."}),c.jsxs("button",{onClick:i,className:"px-4 py-2 bg-success/80 hover:bg-success rounded-lg transition text-white font-medium flex items-center gap-2",children:[c.jsx(cg,{size:18})," Add"]})]})]}),c.jsx("button",{onClick:l,className:"w-full mt-8 px-6 py-3 bg-gradient-to-r from-primary to-accent hover:from-primary/80 hover:to-accent/80 rounded-lg font-bold text-white text-lg transition transform hover:scale-105",children:"Start Game"})]})})}var gg=Object.defineProperty,Ci=Object.getOwnPropertySymbols,Ff=Object.prototype.hasOwnProperty,Hf=Object.prototype.propertyIsEnumerable,Jc=(e,t,n)=>t in e?gg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gl=(e,t)=>{for(var n in t||(t={}))Ff.call(t,n)&&Jc(e,n,t[n]);if(Ci)for(var n of Ci(t))Hf.call(t,n)&&Jc(e,n,t[n]);return e},yl=(e,t)=>{var n={};for(var r in e)Ff.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Ci)for(var r of Ci(e))t.indexOf(r)<0&&Hf.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var bn;(e=>{const t=class X{constructor(l,u,d,p){if(this.version=l,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],l<X.MIN_VERSION||l>X.MAX_VERSION)throw new RangeError("Version value out of range");if(p<-1||p>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let f=[];for(let g=0;g<this.size;g++)f.push(!1);for(let g=0;g<this.size;g++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const h=this.addEccAndInterleave(d);if(this.drawCodewords(h),p==-1){let g=1e9;for(let v=0;v<8;v++){this.applyMask(v),this.drawFormatBits(v);const b=this.getPenaltyScore();b<g&&(p=v,g=b),this.applyMask(v)}}s(0<=p&&p<=7),this.mask=p,this.applyMask(p),this.drawFormatBits(p),this.isFunction=[]}static encodeText(l,u){const d=e.QrSegment.makeSegments(l);return X.encodeSegments(d,u)}static encodeBinary(l,u){const d=e.QrSegment.makeBytes(l);return X.encodeSegments([d],u)}static encodeSegments(l,u,d=1,p=40,f=-1,h=!0){if(!(X.MIN_VERSION<=d&&d<=p&&p<=X.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let g,v;for(g=d;;g++){const y=X.getNumDataCodewords(g,u)*8,k=o.getTotalBits(l,g);if(k<=y){v=k;break}if(g>=p)throw new RangeError("Data too long")}for(const y of[X.Ecc.MEDIUM,X.Ecc.QUARTILE,X.Ecc.HIGH])h&&v<=X.getNumDataCodewords(g,y)*8&&(u=y);let b=[];for(const y of l){n(y.mode.modeBits,4,b),n(y.numChars,y.mode.numCharCountBits(g),b);for(const k of y.getData())b.push(k)}s(b.length==v);const x=X.getNumDataCodewords(g,u)*8;s(b.length<=x),n(0,Math.min(4,x-b.length),b),n(0,(8-b.length%8)%8,b),s(b.length%8==0);for(let y=236;b.length<x;y^=253)n(y,8,b);let m=[];for(;m.length*8<b.length;)m.push(0);return b.forEach((y,k)=>m[k>>>3]|=y<<7-(k&7)),new X(g,u,m,f)}getModule(l,u){return 0<=l&&l<this.size&&0<=u&&u<this.size&&this.modules[u][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),u=l.length;for(let d=0;d<u;d++)for(let p=0;p<u;p++)d==0&&p==0||d==0&&p==u-1||d==u-1&&p==0||this.drawAlignmentPattern(l[d],l[p]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const u=this.errorCorrectionLevel.formatBits<<3|l;let d=u;for(let f=0;f<10;f++)d=d<<1^(d>>>9)*1335;const p=(u<<10|d)^21522;s(p>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,r(p,f));this.setFunctionModule(8,7,r(p,6)),this.setFunctionModule(8,8,r(p,7)),this.setFunctionModule(7,8,r(p,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,r(p,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,r(p,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,r(p,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let d=0;d<12;d++)l=l<<1^(l>>>11)*7973;const u=this.version<<12|l;s(u>>>18==0);for(let d=0;d<18;d++){const p=r(u,d),f=this.size-11+d%3,h=Math.floor(d/3);this.setFunctionModule(f,h,p),this.setFunctionModule(h,f,p)}}drawFinderPattern(l,u){for(let d=-4;d<=4;d++)for(let p=-4;p<=4;p++){const f=Math.max(Math.abs(p),Math.abs(d)),h=l+p,g=u+d;0<=h&&h<this.size&&0<=g&&g<this.size&&this.setFunctionModule(h,g,f!=2&&f!=4)}}drawAlignmentPattern(l,u){for(let d=-2;d<=2;d++)for(let p=-2;p<=2;p++)this.setFunctionModule(l+p,u+d,Math.max(Math.abs(p),Math.abs(d))!=1)}setFunctionModule(l,u,d){this.modules[u][l]=d,this.isFunction[u][l]=!0}addEccAndInterleave(l){const u=this.version,d=this.errorCorrectionLevel;if(l.length!=X.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const p=X.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],f=X.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],h=Math.floor(X.getNumRawDataModules(u)/8),g=p-h%p,v=Math.floor(h/p);let b=[];const x=X.reedSolomonComputeDivisor(f);for(let y=0,k=0;y<p;y++){let S=l.slice(k,k+v-f+(y<g?0:1));k+=S.length;const C=X.reedSolomonComputeRemainder(S,x);y<g&&S.push(0),b.push(S.concat(C))}let m=[];for(let y=0;y<b[0].length;y++)b.forEach((k,S)=>{(y!=v-f||S>=g)&&m.push(k[y])});return s(m.length==h),m}drawCodewords(l){if(l.length!=Math.floor(X.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let p=0;p<this.size;p++)for(let f=0;f<2;f++){const h=d-f,v=(d+1&2)==0?this.size-1-p:p;!this.isFunction[v][h]&&u<l.length*8&&(this.modules[v][h]=r(l[u>>>3],7-(u&7)),u++)}}s(u==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let p;switch(l){case 0:p=(d+u)%2==0;break;case 1:p=u%2==0;break;case 2:p=d%3==0;break;case 3:p=(d+u)%3==0;break;case 4:p=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:p=d*u%2+d*u%3==0;break;case 6:p=(d*u%2+d*u%3)%2==0;break;case 7:p=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&p&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let l=0;for(let f=0;f<this.size;f++){let h=!1,g=0,v=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[f][b]==h?(g++,g==5?l+=X.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,v),h||(l+=this.finderPenaltyCountPatterns(v)*X.PENALTY_N3),h=this.modules[f][b],g=1);l+=this.finderPenaltyTerminateAndCount(h,g,v)*X.PENALTY_N3}for(let f=0;f<this.size;f++){let h=!1,g=0,v=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[b][f]==h?(g++,g==5?l+=X.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,v),h||(l+=this.finderPenaltyCountPatterns(v)*X.PENALTY_N3),h=this.modules[b][f],g=1);l+=this.finderPenaltyTerminateAndCount(h,g,v)*X.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let h=0;h<this.size-1;h++){const g=this.modules[f][h];g==this.modules[f][h+1]&&g==this.modules[f+1][h]&&g==this.modules[f+1][h+1]&&(l+=X.PENALTY_N2)}let u=0;for(const f of this.modules)u=f.reduce((h,g)=>h+(g?1:0),u);const d=this.size*this.size,p=Math.ceil(Math.abs(u*20-d*10)/d)-1;return s(0<=p&&p<=9),l+=p*X.PENALTY_N4,s(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let d=[6];for(let p=this.size-7;d.length<l;p-=u)d.splice(1,0,p);return d}}static getNumRawDataModules(l){if(l<X.MIN_VERSION||l>X.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*l+128)*l+64;if(l>=2){const d=Math.floor(l/7)+2;u-=(25*d-10)*d-55,l>=7&&(u-=36)}return s(208<=u&&u<=29648),u}static getNumDataCodewords(l,u){return Math.floor(X.getNumRawDataModules(l)/8)-X.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l]*X.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let u=[];for(let p=0;p<l-1;p++)u.push(0);u.push(1);let d=1;for(let p=0;p<l;p++){for(let f=0;f<u.length;f++)u[f]=X.reedSolomonMultiply(u[f],d),f+1<u.length&&(u[f]^=u[f+1]);d=X.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(l,u){let d=u.map(p=>0);for(const p of l){const f=p^d.shift();d.push(0),u.forEach((h,g)=>d[g]^=X.reedSolomonMultiply(h,f))}return d}static reedSolomonMultiply(l,u){if(l>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let p=7;p>=0;p--)d=d<<1^(d>>>7)*285,d^=(u>>>p&1)*l;return s(d>>>8==0),d}finderPenaltyCountPatterns(l){const u=l[1];s(u<=this.size*3);const d=u>0&&l[2]==u&&l[3]==u*3&&l[4]==u&&l[5]==u;return(d&&l[0]>=u*4&&l[6]>=u?1:0)+(d&&l[6]>=u*4&&l[0]>=u?1:0)}finderPenaltyTerminateAndCount(l,u,d){return l&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(l,u){u[0]==0&&(l+=this.size),u.pop(),u.unshift(l)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(a,l,u){if(l<0||l>31||a>>>l)throw new RangeError("Value out of range");for(let d=l-1;d>=0;d--)u.push(a>>>d&1)}function r(a,l){return(a>>>l&1)!=0}function s(a){if(!a)throw new Error("Assertion error")}const i=class ge{constructor(l,u,d){if(this.mode=l,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(l){let u=[];for(const d of l)n(d,8,u);return new ge(ge.Mode.BYTE,l.length,u)}static makeNumeric(l){if(!ge.isNumeric(l))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<l.length;){const p=Math.min(l.length-d,3);n(parseInt(l.substring(d,d+p),10),p*3+1,u),d+=p}return new ge(ge.Mode.NUMERIC,l.length,u)}static makeAlphanumeric(l){if(!ge.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=l.length;d+=2){let p=ge.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d))*45;p+=ge.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d+1)),n(p,11,u)}return d<l.length&&n(ge.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d)),6,u),new ge(ge.Mode.ALPHANUMERIC,l.length,u)}static makeSegments(l){return l==""?[]:ge.isNumeric(l)?[ge.makeNumeric(l)]:ge.isAlphanumeric(l)?[ge.makeAlphanumeric(l)]:[ge.makeBytes(ge.toUtf8ByteArray(l))]}static makeEci(l){let u=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,u);else if(l<16384)n(2,2,u),n(l,14,u);else if(l<1e6)n(6,3,u),n(l,21,u);else throw new RangeError("ECI assignment value out of range");return new ge(ge.Mode.ECI,0,u)}static isNumeric(l){return ge.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return ge.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,u){let d=0;for(const p of l){const f=p.mode.numCharCountBits(u);if(p.numChars>=1<<f)return 1/0;d+=4+f+p.bitData.length}return d}static toUtf8ByteArray(l){l=encodeURI(l);let u=[];for(let d=0;d<l.length;d++)l.charAt(d)!="%"?u.push(l.charCodeAt(d)):(u.push(parseInt(l.substring(d+1,d+3),16)),d+=2);return u}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=i;e.QrSegment=i})(bn||(bn={}));(e=>{(t=>{const n=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(bn||(bn={}));(e=>{(t=>{const n=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(bn||(bn={}));var Hn=bn;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var yg={L:Hn.QrCode.Ecc.LOW,M:Hn.QrCode.Ecc.MEDIUM,Q:Hn.QrCode.Ecc.QUARTILE,H:Hn.QrCode.Ecc.HIGH},Vf=128,Gf="L",Yf="#FFFFFF",Wf="#000000",Xf=!1,Qf=1,xg=4,vg=0,kg=.1;function Kf(e,t=0){const n=[];return e.forEach(function(r,s){let i=null;r.forEach(function(o,a){if(!o&&i!==null){n.push(`M${i+t} ${s+t}h${a-i}v1H${i+t}z`),i=null;return}if(a===r.length-1){if(!o)return;i===null?n.push(`M${a+t},${s+t} h1v1H${a+t}z`):n.push(`M${i+t},${s+t} h${a+1-i}v1H${i+t}z`);return}o&&i===null&&(i=a)})}),n.join("")}function Jf(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((s,i)=>i<t.x||i>=t.x+t.w?s:!1))}function Cg(e,t,n,r){if(r==null)return null;const s=e.length+n*2,i=Math.floor(t*kg),o=s/t,a=(r.width||i)*o,l=(r.height||i)*o,u=r.x==null?e.length/2-a/2:r.x*o,d=r.y==null?e.length/2-l/2:r.y*o,p=r.opacity==null?1:r.opacity;let f=null;if(r.excavate){let g=Math.floor(u),v=Math.floor(d),b=Math.ceil(a+u-g),x=Math.ceil(l+d-v);f={x:g,y:v,w:b,h:x}}const h=r.crossOrigin;return{x:u,y:d,h:l,w:a,excavation:f,opacity:p,crossOrigin:h}}function Sg(e,t){return t!=null?Math.max(Math.floor(t),0):e?xg:vg}function Zf({value:e,level:t,minVersion:n,includeMargin:r,marginSize:s,imageSettings:i,size:o,boostLevel:a}){let l=ie.useMemo(()=>{const g=(Array.isArray(e)?e:[e]).reduce((v,b)=>(v.push(...Hn.QrSegment.makeSegments(b)),v),[]);return Hn.QrCode.encodeSegments(g,yg[t],n,void 0,void 0,a)},[e,t,n,a]);const{cells:u,margin:d,numCells:p,calculatedImageSettings:f}=ie.useMemo(()=>{let h=l.getModules();const g=Sg(r,s),v=h.length+g*2,b=Cg(h,o,g,i);return{cells:h,margin:g,numCells:v,calculatedImageSettings:b}},[l,o,i,r,s]);return{qrcode:l,margin:d,cells:u,numCells:p,calculatedImageSettings:f}}var bg=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),wg=ie.forwardRef(function(t,n){const r=t,{value:s,size:i=Vf,level:o=Gf,bgColor:a=Yf,fgColor:l=Wf,includeMargin:u=Xf,minVersion:d=Qf,boostLevel:p,marginSize:f,imageSettings:h}=r,v=yl(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:b}=v,x=yl(v,["style"]),m=h==null?void 0:h.src,y=ie.useRef(null),k=ie.useRef(null),S=ie.useCallback(Z=>{y.current=Z,typeof n=="function"?n(Z):n&&(n.current=Z)},[n]),[C,w]=ie.useState(!1),{margin:_,cells:J,numCells:P,calculatedImageSettings:O}=Zf({value:s,level:o,minVersion:d,boostLevel:p,includeMargin:u,marginSize:f,imageSettings:h,size:i});ie.useEffect(()=>{if(y.current!=null){const Z=y.current,K=Z.getContext("2d");if(!K)return;let $e=J;const _e=k.current,I=O!=null&&_e!==null&&_e.complete&&_e.naturalHeight!==0&&_e.naturalWidth!==0;I&&O.excavation!=null&&($e=Jf(J,O.excavation));const H=window.devicePixelRatio||1;Z.height=Z.width=i*H;const G=i/P*H;K.scale(G,G),K.fillStyle=a,K.fillRect(0,0,P,P),K.fillStyle=l,bg?K.fill(new Path2D(Kf($e,_))):J.forEach(function(re,fe){re.forEach(function(Et,it){Et&&K.fillRect(it+_,fe+_,1,1)})}),O&&(K.globalAlpha=O.opacity),I&&K.drawImage(_e,O.x+_,O.y+_,O.w,O.h)}}),ie.useEffect(()=>{w(!1)},[m]);const R=gl({height:i,width:i},b);let L=null;return m!=null&&(L=ie.createElement("img",{src:m,key:m,style:{display:"none"},onLoad:()=>{w(!0)},ref:k,crossOrigin:O==null?void 0:O.crossOrigin})),ie.createElement(ie.Fragment,null,ie.createElement("canvas",gl({style:R,height:i,width:i,ref:S,role:"img"},x)),L)});wg.displayName="QRCodeCanvas";var qf=ie.forwardRef(function(t,n){const r=t,{value:s,size:i=Vf,level:o=Gf,bgColor:a=Yf,fgColor:l=Wf,includeMargin:u=Xf,minVersion:d=Qf,boostLevel:p,title:f,marginSize:h,imageSettings:g}=r,v=yl(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:b,cells:x,numCells:m,calculatedImageSettings:y}=Zf({value:s,level:o,minVersion:d,boostLevel:p,includeMargin:u,marginSize:h,imageSettings:g,size:i});let k=x,S=null;g!=null&&y!=null&&(y.excavation!=null&&(k=Jf(x,y.excavation)),S=ie.createElement("image",{href:g.src,height:y.h,width:y.w,x:y.x+b,y:y.y+b,preserveAspectRatio:"none",opacity:y.opacity,crossOrigin:y.crossOrigin}));const C=Kf(k,b);return ie.createElement("svg",gl({height:i,width:i,viewBox:`0 0 ${m} ${m}`,ref:n,role:"img"},v),!!f&&ie.createElement("title",null,f),ie.createElement("path",{fill:a,d:`M0,0 h${m}v${m}H0z`,shapeRendering:"crispEdges"}),ie.createElement("path",{fill:l,d:C,shapeRendering:"crispEdges"}),S)});qf.displayName="QRCodeSVG";var ep={exports:{}};(function(e){var t=function(){var n=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={};function o(l,u){if(!i[l]){i[l]={};for(var d=0;d<l.length;d++)i[l][l.charAt(d)]=d}return i[l][u]}var a={compressToBase64:function(l){if(l==null)return"";var u=a._compress(l,6,function(d){return r.charAt(d)});switch(u.length%4){default:case 0:return u;case 1:return u+"===";case 2:return u+"==";case 3:return u+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:a._decompress(l.length,32,function(u){return o(r,l.charAt(u))})},compressToUTF16:function(l){return l==null?"":a._compress(l,15,function(u){return n(u+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:a._decompress(l.length,16384,function(u){return l.charCodeAt(u)-32})},compressToUint8Array:function(l){for(var u=a.compress(l),d=new Uint8Array(u.length*2),p=0,f=u.length;p<f;p++){var h=u.charCodeAt(p);d[p*2]=h>>>8,d[p*2+1]=h%256}return d},decompressFromUint8Array:function(l){if(l==null)return a.decompress(l);for(var u=new Array(l.length/2),d=0,p=u.length;d<p;d++)u[d]=l[d*2]*256+l[d*2+1];var f=[];return u.forEach(function(h){f.push(n(h))}),a.decompress(f.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":a._compress(l,6,function(u){return s.charAt(u)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),a._decompress(l.length,32,function(u){return o(s,l.charAt(u))}))},compress:function(l){return a._compress(l,16,function(u){return n(u)})},_compress:function(l,u,d){if(l==null)return"";var p,f,h={},g={},v="",b="",x="",m=2,y=3,k=2,S=[],C=0,w=0,_;for(_=0;_<l.length;_+=1)if(v=l.charAt(_),Object.prototype.hasOwnProperty.call(h,v)||(h[v]=y++,g[v]=!0),b=x+v,Object.prototype.hasOwnProperty.call(h,b))x=b;else{if(Object.prototype.hasOwnProperty.call(g,x)){if(x.charCodeAt(0)<256){for(p=0;p<k;p++)C=C<<1,w==u-1?(w=0,S.push(d(C)),C=0):w++;for(f=x.charCodeAt(0),p=0;p<8;p++)C=C<<1|f&1,w==u-1?(w=0,S.push(d(C)),C=0):w++,f=f>>1}else{for(f=1,p=0;p<k;p++)C=C<<1|f,w==u-1?(w=0,S.push(d(C)),C=0):w++,f=0;for(f=x.charCodeAt(0),p=0;p<16;p++)C=C<<1|f&1,w==u-1?(w=0,S.push(d(C)),C=0):w++,f=f>>1}m--,m==0&&(m=Math.pow(2,k),k++),delete g[x]}else for(f=h[x],p=0;p<k;p++)C=C<<1|f&1,w==u-1?(w=0,S.push(d(C)),C=0):w++,f=f>>1;m--,m==0&&(m=Math.pow(2,k),k++),h[b]=y++,x=String(v)}if(x!==""){if(Object.prototype.hasOwnProperty.call(g,x)){if(x.charCodeAt(0)<256){for(p=0;p<k;p++)C=C<<1,w==u-1?(w=0,S.push(d(C)),C=0):w++;for(f=x.charCodeAt(0),p=0;p<8;p++)C=C<<1|f&1,w==u-1?(w=0,S.push(d(C)),C=0):w++,f=f>>1}else{for(f=1,p=0;p<k;p++)C=C<<1|f,w==u-1?(w=0,S.push(d(C)),C=0):w++,f=0;for(f=x.charCodeAt(0),p=0;p<16;p++)C=C<<1|f&1,w==u-1?(w=0,S.push(d(C)),C=0):w++,f=f>>1}m--,m==0&&(m=Math.pow(2,k),k++),delete g[x]}else for(f=h[x],p=0;p<k;p++)C=C<<1|f&1,w==u-1?(w=0,S.push(d(C)),C=0):w++,f=f>>1;m--,m==0&&(m=Math.pow(2,k),k++)}for(f=2,p=0;p<k;p++)C=C<<1|f&1,w==u-1?(w=0,S.push(d(C)),C=0):w++,f=f>>1;for(;;)if(C=C<<1,w==u-1){S.push(d(C));break}else w++;return S.join("")},decompress:function(l){return l==null?"":l==""?null:a._decompress(l.length,32768,function(u){return l.charCodeAt(u)})},_decompress:function(l,u,d){var p=[],f=4,h=4,g=3,v="",b=[],x,m,y,k,S,C,w,_={val:d(0),position:u,index:1};for(x=0;x<3;x+=1)p[x]=x;for(y=0,S=Math.pow(2,2),C=1;C!=S;)k=_.val&_.position,_.position>>=1,_.position==0&&(_.position=u,_.val=d(_.index++)),y|=(k>0?1:0)*C,C<<=1;switch(y){case 0:for(y=0,S=Math.pow(2,8),C=1;C!=S;)k=_.val&_.position,_.position>>=1,_.position==0&&(_.position=u,_.val=d(_.index++)),y|=(k>0?1:0)*C,C<<=1;w=n(y);break;case 1:for(y=0,S=Math.pow(2,16),C=1;C!=S;)k=_.val&_.position,_.position>>=1,_.position==0&&(_.position=u,_.val=d(_.index++)),y|=(k>0?1:0)*C,C<<=1;w=n(y);break;case 2:return""}for(p[3]=w,m=w,b.push(w);;){if(_.index>l)return"";for(y=0,S=Math.pow(2,g),C=1;C!=S;)k=_.val&_.position,_.position>>=1,_.position==0&&(_.position=u,_.val=d(_.index++)),y|=(k>0?1:0)*C,C<<=1;switch(w=y){case 0:for(y=0,S=Math.pow(2,8),C=1;C!=S;)k=_.val&_.position,_.position>>=1,_.position==0&&(_.position=u,_.val=d(_.index++)),y|=(k>0?1:0)*C,C<<=1;p[h++]=n(y),w=h-1,f--;break;case 1:for(y=0,S=Math.pow(2,16),C=1;C!=S;)k=_.val&_.position,_.position>>=1,_.position==0&&(_.position=u,_.val=d(_.index++)),y|=(k>0?1:0)*C,C<<=1;p[h++]=n(y),w=h-1,f--;break;case 2:return b.join("")}if(f==0&&(f=Math.pow(2,g),g++),p[w])v=p[w];else if(w===h)v=m+m.charAt(0);else return null;b.push(v),p[h++]=m+v.charAt(0),f--,m=v,f==0&&(f=Math.pow(2,g),g++)}}};return a}();e!=null?e.exports=t:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return t})})(ep);var _g=ep.exports;const tp=wi(_g);function Zc(e){const t=e.split(`
`).filter(n=>!n.startsWith("a=extmap")&&!n.startsWith("a=rtcp-rsize")).join(`
`);return tp.compressToEncodedURIComponent(t)}function qc(e){return tp.decompressFromEncodedURIComponent(e)||""}function np({mode:e,onStreamReceived:t,onConnectionChange:n}){const r=N.useRef(null),s=N.useRef(null),i=N.useRef(null),o=N.useRef(null),[a,l]=N.useState("idle"),[u,d]=N.useState(""),[p,f]=N.useState(""),[h,g]=N.useState(""),[v,b]=N.useState(!1),[x,m]=N.useState(""),[y,k]=N.useState(!1),S={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"},{urls:"stun:stun4.l.google.com:19302"}]},C=N.useCallback(()=>{const R=new RTCPeerConnection(S);return R.onicecandidate=L=>{L.candidate||(e==="desktop"&&R.localDescription?d(Zc(JSON.stringify(R.localDescription))):e==="camera"&&R.localDescription&&f(Zc(JSON.stringify(R.localDescription))))},R.onconnectionstatechange=()=>{console.log("Connection state:",R.connectionState),R.connectionState==="connected"?(l("connected"),n==null||n(!0)):(R.connectionState==="failed"||R.connectionState==="disconnected")&&(l("error"),m("Verbindung fehlgeschlagen"),n==null||n(!1))},R.ontrack=L=>{console.log("Received remote track:",L.streams),L.streams[0]&&(i.current=L.streams[0],o.current&&(o.current.srcObject=L.streams[0],o.current.play().catch(console.error)),t==null||t(L.streams[0]),k(!0))},r.current=R,R},[e,n,t]),w=N.useCallback(async()=>{try{r.current&&(r.current.close(),r.current=null),d(""),g(""),m("");const R=C();R.addTransceiver("video",{direction:"recvonly"});const L=await R.createOffer();await R.setLocalDescription(L),l("offer_ready")}catch(R){console.error("Error creating offer:",R),m(R.message),l("error")}},[C]),_=N.useCallback(async()=>{if(!h.trim()){m("Bitte Angebot-Code einfgen");return}if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){m(` Kamera-API nicht verfgbar!

Die Kamera funktioniert nur ber HTTPS.

Bitte nutze die GitHub Pages Version:
`+window.location.origin.replace("http://","https://").replace(/:\d+/,"")+`/Dart/#/manual-camera

Oder ffne die Seite ber https://`),l("error");return}try{r.current&&(r.current.close(),r.current=null),s.current&&(s.current.getTracks().forEach($e=>$e.stop()),s.current=null),f(""),m("");const R=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}},audio:!1});s.current=R,o.current&&(o.current.srcObject=R,await o.current.play());const L=C();R.getTracks().forEach($e=>{L.addTrack($e,R)});const Z=JSON.parse(qc(h.trim()));await L.setRemoteDescription(new RTCSessionDescription(Z));const K=await L.createAnswer();await L.setLocalDescription(K),l("offer_ready")}catch(R){console.error("Error processing offer:",R),m("Ungltiger Code: "+R.message),l("error")}},[h,C]),J=N.useCallback(async()=>{if(!h.trim()){m("Bitte Antwort-Code einfgen");return}try{const R=r.current;if(!R){m("Keine Verbindung initialisiert");return}const L=JSON.parse(qc(h.trim()));await R.setRemoteDescription(new RTCSessionDescription(L)),l("waiting_answer")}catch(R){console.error("Error processing answer:",R),m("Ungltiger Code: "+R.message),l("error")}},[h]),P=async R=>{try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(R),b(!0),setTimeout(()=>b(!1),2e3);else{const L=document.createElement("textarea");L.value=R,L.style.position="fixed",L.style.left="-9999px",L.style.top="-9999px",document.body.appendChild(L),L.focus(),L.select();try{document.execCommand("copy"),b(!0),setTimeout(()=>b(!1),2e3)}catch{prompt("Kopiere diesen Code:",R)}document.body.removeChild(L)}}catch{prompt("Kopiere diesen Code:",R)}},O=()=>{r.current&&(r.current.close(),r.current=null),s.current&&(s.current.getTracks().forEach(R=>R.stop()),s.current=null),i.current=null,o.current&&(o.current.srcObject=null),l("idle"),d(""),f(""),g(""),m(""),k(!1),n==null||n(!1)};return N.useEffect(()=>()=>{r.current&&r.current.close(),s.current&&s.current.getTracks().forEach(R=>R.stop())},[]),N.useEffect(()=>{o.current&&i.current&&e==="desktop"&&(console.log("Attaching remote stream to video element"),o.current.srcObject=i.current,o.current.play().catch(console.error))},[y,e]),e==="desktop"?c.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[c.jsxs("h3",{className:"text-white font-bold mb-4 flex items-center gap-2",children:[c.jsx(ts,{size:20,className:"text-blue-400"}),"Manuelle Kamera-Verbindung"]}),a==="idle"&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("p",{className:"text-gray-400 text-sm",children:'Klicke "Angebot erstellen" und kopiere den Code auf dein Handy.'}),c.jsx("button",{onClick:w,className:"w-full py-3 bg-blue-600 hover:bg-blue-500 rounded-lg text-white font-bold",children:"1. Angebot erstellen"})]}),a==="offer_ready"&&u&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("p",{className:"text-green-400 text-sm",children:" Angebot erstellt! Kopiere diesen Code:"}),c.jsx("textarea",{readOnly:!0,value:u,onClick:R=>R.target.select(),className:"w-full p-2 bg-gray-900 border border-gray-600 rounded text-white text-xs font-mono h-20 select-all cursor-pointer"}),c.jsx("p",{className:"text-gray-500 text-xs",children:"Tippe auf das Textfeld um alles zu markieren"}),c.jsxs("button",{onClick:()=>P(u),className:"w-full py-2 bg-green-600 hover:bg-green-500 rounded-lg text-white font-bold flex items-center justify-center gap-2",children:[v?c.jsx(ir,{size:18}):c.jsx(Wc,{size:18}),v?"Kopiert!":"Angebot kopieren"]}),c.jsxs("div",{className:"border-t border-gray-700 pt-3 mt-3",children:[c.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Fge hier die Antwort vom Handy ein:"}),c.jsx("textarea",{value:h,onChange:R=>g(R.target.value),placeholder:"Antwort-Code hier einfgen...",className:"w-full p-2 bg-gray-900 border border-gray-600 rounded text-white text-xs font-mono h-20"}),c.jsxs("button",{onClick:J,className:"w-full py-2 mt-2 bg-purple-600 hover:bg-purple-500 rounded-lg text-white font-bold flex items-center justify-center gap-2",children:[c.jsx(ng,{size:18}),"2. Antwort verarbeiten"]})]})]}),a==="connected"&&c.jsx("div",{className:"space-y-3",children:c.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[c.jsx(ki,{size:20}),c.jsx("span",{className:"font-bold",children:"Verbunden!"})]})}),c.jsx("video",{ref:o,autoPlay:!0,playsInline:!0,muted:!0,className:`w-full rounded-lg bg-black mt-3 ${y?"":"hidden"}`,style:{minHeight:y?"200px":"0"}}),a==="waiting_answer"&&c.jsx("div",{className:"text-center py-4",children:c.jsx("div",{className:"animate-pulse text-yellow-400",children:"Warte auf Verbindung..."})}),x&&c.jsx("div",{className:"mt-3 p-2 bg-red-600/20 border border-red-500 rounded text-red-400 text-sm",children:x}),a!=="idle"&&c.jsxs("button",{onClick:O,className:"w-full mt-3 py-2 bg-gray-600 hover:bg-gray-500 rounded-lg text-white flex items-center justify-center gap-2",children:[c.jsx(ft,{size:16}),"Zurcksetzen"]})]}):c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-900 p-4",children:[c.jsxs("h1",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[c.jsx(ts,{size:28,className:"text-blue-400"}),"Dart Kamera"]}),a==="idle"&&c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[c.jsx("p",{className:"text-gray-300 text-sm mb-3",children:"1. Fge den Angebot-Code vom Desktop hier ein:"}),c.jsx("textarea",{value:h,onChange:R=>g(R.target.value),placeholder:"Angebot-Code hier einfgen...",className:"w-full p-3 bg-gray-900 border border-gray-600 rounded-lg text-white text-xs font-mono h-32"}),c.jsxs("button",{onClick:_,className:"w-full py-3 mt-3 bg-blue-600 hover:bg-blue-500 rounded-lg text-white font-bold flex items-center justify-center gap-2",children:[c.jsx($f,{size:20}),"Kamera starten & Antwort erstellen"]})]})}),a==="offer_ready"&&p&&c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[c.jsx("video",{ref:o,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full rounded-lg bg-black mb-4"}),c.jsx("p",{className:"text-green-400 text-sm mb-2",children:" Antwort erstellt! Kopiere diesen Code zum Desktop:"}),c.jsx("textarea",{readOnly:!0,value:p,onClick:R=>R.target.select(),className:"w-full p-2 bg-gray-900 border border-gray-600 rounded text-white text-xs font-mono h-20 select-all cursor-pointer"}),c.jsx("p",{className:"text-gray-400 text-xs mb-2",children:"Tippe auf das Textfeld um alles zu markieren"}),c.jsxs("button",{onClick:()=>P(p),className:"w-full py-3 bg-green-600 hover:bg-green-500 rounded-lg text-white font-bold flex items-center justify-center gap-2",children:[v?c.jsx(ir,{size:20}):c.jsx(Wc,{size:20}),v?"Kopiert!":"Antwort kopieren"]}),c.jsx("p",{className:"text-yellow-400 text-sm mt-3 text-center",children:"Warte auf Verbindung nach Einfgen am Desktop..."})]})}),a==="connected"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-green-600/20 border border-green-500 rounded-lg p-4 flex items-center gap-3",children:[c.jsx(ki,{size:24,className:"text-green-400"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-green-400 font-bold",children:"Verbunden!"}),c.jsx("p",{className:"text-green-300 text-sm",children:"Video wird gestreamt"})]})]}),c.jsx("video",{ref:o,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full rounded-lg bg-black"}),y&&c.jsxs("div",{className:"absolute top-4 right-4 px-3 py-1 bg-red-600 rounded-full text-white text-sm font-bold flex items-center gap-2",children:[c.jsx("span",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),"LIVE"]})]}),x&&c.jsx("div",{className:"mt-4 p-3 bg-red-600/20 border border-red-500 rounded-lg text-red-400",children:x}),c.jsxs("button",{onClick:O,className:"w-full mt-4 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg text-white flex items-center justify-center gap-2",children:[c.jsx(ft,{size:18}),"Zurcksetzen"]})]})}const jg=.032,Ng=.074,Eg=.428,Tg=.474,Pg=.715,eu=1,Rg=[20,1,18,4,13,6,10,15,2,17,3,19,7,16,8,11,14,9,12,5],tu=18,Mg=25,Ig=50,Ag=5e3;function Dg(e,t,n){e/=255,t/=255,n/=255;const r=Math.max(e,t,n),s=Math.min(e,t,n),i=r-s;let o=0;const a=r===0?0:i/r,l=r;if(i!==0)switch(r){case e:o=((t-n)/i+(t<n?6:0))/6;break;case t:o=((n-e)/i+2)/6;break;case n:o=((e-t)/i+4)/6;break}return{h:o*360,s:a*100,v:l*100}}function xl(e,t,n=0){const r=e.x-t.centerX,s=e.y-t.centerY,i=Math.cos(-t.rotation),o=Math.sin(-t.rotation),a=r*i-s*o,l=r*o+s*i,u=a/t.radiusX,d=l/t.radiusY,p=Math.sqrt(u*u+d*d);let f=Math.atan2(a,-l)*(180/Math.PI);return f<0&&(f+=360),f=(f+n+360)%360,{r:p,theta:f}}function nu(e){const{r:t,theta:n}=e;if(t>eu*1.05)return{value:0,multiplier:0,points:0};if(t<=jg)return{value:50,multiplier:2,points:50};if(t<=Ng)return{value:25,multiplier:1,points:25};const r=(n+tu/2)%360,s=Math.floor(r/tu)%20,i=Rg[s];let o=1;return t>=Pg&&t<=eu?o=2:t>=Eg&&t<=Tg&&(o=3),{value:i,multiplier:o,points:i*o}}function Og(e){const{width:t,height:n,data:r}=e,s=new Uint8Array(t*n);for(let i=0;i<r.length;i+=4){const o=r[i],a=r[i+1],l=r[i+2],u=Dg(o,a,l),d=i/4,p=(u.h>=0&&u.h<=15||u.h>=345&&u.h<=360)&&u.s>=30&&u.v>=20,f=u.h>=80&&u.h<=160&&u.s>=30&&u.v>=20,h=u.v<=30,g=u.v>=70&&u.s<=30;s[d]=p||f||h||g?255:0}return s}function Lg(e,t,n,r=5){const s=Math.floor(r/2),i=new Uint8Array(t*n),o=new Uint8Array(t*n);for(let a=0;a<n;a++)for(let l=0;l<t;l++){let u=0;for(let d=-s;d<=s;d++)for(let p=-s;p<=s;p++){const f=a+d,h=l+p;f>=0&&f<n&&h>=0&&h<t&&(u=Math.max(u,e[f*t+h]))}i[a*t+l]=u}for(let a=0;a<n;a++)for(let l=0;l<t;l++){let u=255;for(let d=-s;d<=s;d++)for(let p=-s;p<=s;p++){const f=a+d,h=l+p;f>=0&&f<n&&h>=0&&h<t&&(u=Math.min(u,i[f*t+h]))}o[a*t+l]=u}return o}function zg(e,t,n){const r=new Uint8Array(t*n);let s=[],i={minX:0,minY:0,maxX:0,maxY:0};const o=(a,l)=>{const u=[],d={minX:a,minY:l,maxX:a,maxY:l},p=[{x:a,y:l}];for(;p.length>0;){const{x:f,y:h}=p.pop(),g=h*t+f;f<0||f>=t||h<0||h>=n||r[g]||e[g]===0||(r[g]=1,u.push({x:f,y:h}),d.minX=Math.min(d.minX,f),d.minY=Math.min(d.minY,h),d.maxX=Math.max(d.maxX,f),d.maxY=Math.max(d.maxY,h),p.push({x:f+1,y:h},{x:f-1,y:h},{x:f,y:h+1},{x:f,y:h-1}))}return{points:u,bounds:d}};for(let a=0;a<n;a++)for(let l=0;l<t;l++){const u=a*t+l;if(e[u]>0&&!r[u]){const d=o(l,a);d.points.length>s.length&&(s=d.points,i=d.bounds)}}return s.length>0?{points:s,bounds:i}:null}function $g(e){if(e.length<6)return null;let t=e;if(e.length>500){t=[];const y=Math.floor(e.length/500);for(let k=0;k<e.length;k+=y)t.push(e[k])}let n=0,r=0;for(const y of t)n+=y.x,r+=y.y;n/=t.length,r/=t.length;const s=t.length;let i=0,o=0,a=0;for(const y of t){const k=y.x-n,S=y.y-r;i+=k*k,o+=S*S,a+=k*S}const l=i/s,u=o/s,d=a/s,p=.5*Math.atan2(2*d,l-u),f=Math.cos(p),h=Math.sin(p),g=[],v=[];for(const y of t){const k=y.x-n,S=y.y-r;g.push(Math.abs(k*f+S*h)),v.push(Math.abs(-k*h+S*f))}g.sort((y,k)=>y-k),v.sort((y,k)=>y-k);const b=Math.floor(t.length*.95),x=g[b]||g[g.length-1],m=v[b]||v[v.length-1];return x<10||m<10?null:{centerX:n,centerY:r,radiusX:x,radiusY:m,rotation:p}}function Bg(e){const{width:t,height:n}=e,r=Og(e),s=Lg(r,t,n,5),i=zg(s,t,n);if(!i||i.points.length<1e3)return null;const o=[];for(let a=i.bounds.minY;a<=i.bounds.maxY;a++)for(let l=i.bounds.minX;l<=i.bounds.maxX;l++){const u=a*t+l;if(s[u]===0)continue;let d=!1;for(const[p,f]of[[0,1],[0,-1],[1,0],[-1,0]]){const h=l+p,g=a+f;if(h<0||h>=t||g<0||g>=n||s[g*t+h]===0){d=!0;break}}d&&o.push({x:l,y:a})}return o.length<100?null:$g(o)}function ru(e,t,n,r=Mg){const{width:s,height:i,data:o}=e,a=t.data,l=Math.max(n.radiusX,n.radiusY)*1.1,u=Math.max(0,Math.floor(n.centerX-l)),d=Math.min(s,Math.ceil(n.centerX+l)),p=Math.max(0,Math.floor(n.centerY-l)),f=Math.min(i,Math.ceil(n.centerY+l)),h=[];for(let m=p;m<f;m++)for(let y=u;y<d;y++){const k=(m*s+y)*4,S=Math.abs(o[k]-a[k]),C=Math.abs(o[k+1]-a[k+1]),w=Math.abs(o[k+2]-a[k+2]);(S+C+w)/3>r&&xl({x:y,y:m},n).r<1.1&&h.push({x:y,y:m})}if(h.length<Ig||h.length>Ag)return null;const g=h.map(m=>({point:m,dist:Math.sqrt((m.x-n.centerX)**2+(m.y-n.centerY)**2)})).sort((m,y)=>m.dist-y.dist),v=g.slice(0,Math.max(5,Math.floor(g.length*.1)));let b=0,x=0;for(const m of v)b+=m.point.x,x+=m.point.y;return{x:b/v.length,y:x/v.length}}function Ug({videoStream:e,onDartDetected:t}){const n=N.useRef(null),r=N.useRef(null),s=N.useRef(null),i=N.useRef(null),o=N.useRef(null),a=N.useRef(0),[l,u]=N.useState(!1),[d,p]=N.useState(!1),[f,h]=N.useState(null),[g,v]=N.useState([]),[b,x]=N.useState(!0);N.useEffect(()=>{n.current&&e&&(n.current.srcObject=e,n.current.play().catch(console.error))},[e]);const m=N.useCallback(P=>{console.log("[DartDetection]",P),v(O=>[...O.slice(-9),`${new Date().toLocaleTimeString()}: ${P}`])},[]),y=N.useCallback(()=>{const P=n.current,O=r.current;if(!P||!O||P.readyState<2)return null;const R=O.getContext("2d");return R?(O.width=P.videoWidth,O.height=P.videoHeight,R.drawImage(P,0,0),R.getImageData(0,0,O.width,O.height)):null},[]),k=N.useCallback(()=>{m("Kalibriere Dartscheibe...");const P=y();if(!P){m(" Kein Video-Frame verfgbar");return}const O=Bg(P);if(!O){m(" Dartscheibe nicht erkannt - stelle sicher, dass die ganze Scheibe sichtbar ist");return}o.current=O,i.current=P,u(!0),m(` Kalibriert! Zentrum: (${Math.round(O.centerX)}, ${Math.round(O.centerY)}), Radius: ${Math.round(O.radiusX)}`),S(O)},[y,m]),S=N.useCallback(P=>{const O=s.current,R=n.current;if(!O||!R)return;O.width=R.videoWidth,O.height=R.videoHeight;const L=O.getContext("2d");if(!L)return;L.clearRect(0,0,O.width,O.height),L.strokeStyle="lime",L.lineWidth=3,L.beginPath(),L.ellipse(P.centerX,P.centerY,P.radiusX,P.radiusY,P.rotation,0,Math.PI*2),L.stroke();const Z=20;L.strokeStyle="red",L.lineWidth=2,L.beginPath(),L.moveTo(P.centerX-Z,P.centerY),L.lineTo(P.centerX+Z,P.centerY),L.moveTo(P.centerX,P.centerY-Z),L.lineTo(P.centerX,P.centerY+Z),L.stroke(),L.strokeStyle="rgba(255, 255, 0, 0.5)",L.lineWidth=2,L.beginPath(),L.ellipse(P.centerX,P.centerY,P.radiusX*.474,P.radiusY*.474,P.rotation,0,Math.PI*2),L.stroke()},[]),C=N.useCallback(()=>{const P=y();if(!P){m(" Kein Frame verfgbar");return}i.current=P,m(" Referenz-Frame gesetzt - wirf jetzt den Dart!")},[y,m]),w=N.useCallback(()=>{var R;if(!o.current||!i.current){m(" Erst kalibrieren!");return}const P=y();if(!P){m(" Kein Frame verfgbar");return}const O=ru(P,i.current,o.current);if(O){const L=xl(O,o.current),Z=nu(L);h(Z),m(` Dart erkannt! ${Z.points} Punkte (${Z.multiplier}x${Z.value})`),t==null||t(Z);const K=(R=s.current)==null?void 0:R.getContext("2d");K&&o.current&&(S(o.current),K.fillStyle="magenta",K.beginPath(),K.arc(O.x,O.y,8,0,Math.PI*2),K.fill(),K.strokeStyle="white",K.lineWidth=2,K.stroke(),K.font="bold 24px sans-serif",K.fillStyle="white",K.strokeStyle="black",K.lineWidth=3,K.strokeText(`${Z.points}`,O.x+15,O.y-10),K.fillText(`${Z.points}`,O.x+15,O.y-10))}else m("Kein Dart erkannt - versuche es nochmal")},[y,m,t,S]),_=N.useCallback(()=>{p(!0),m(" Auto-Erkennung gestartet");let P=0;const O=500,R=()=>{const L=Date.now();if(L-P>O&&o.current&&i.current){const Z=y();if(Z){const K=ru(Z,i.current,o.current);if(K){const $e=xl(K,o.current),_e=nu($e);h(_e),m(` ${_e.points} Punkte (${_e.multiplier}x${_e.value})`),t==null||t(_e),i.current=Z,P=L}}}a.current=requestAnimationFrame(R)};R()},[y,m,t]),J=N.useCallback(()=>{p(!1),cancelAnimationFrame(a.current),m(" Auto-Erkennung gestoppt")},[m]);return N.useEffect(()=>()=>{cancelAnimationFrame(a.current)},[]),e?c.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 space-y-4",children:[c.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:[c.jsx(cs,{size:20,className:"text-yellow-400"}),"Dart-Erkennung Test"]}),c.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[c.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full"}),b&&c.jsx("canvas",{ref:s,className:"absolute inset-0 w-full h-full pointer-events-none"}),c.jsx("canvas",{ref:r,className:"hidden"}),f&&c.jsxs("div",{className:"absolute top-4 right-4 bg-green-600 px-4 py-2 rounded-lg text-white font-bold text-xl",children:[f.points," Punkte",c.jsxs("div",{className:"text-sm font-normal opacity-80",children:[f.multiplier>1?`${f.multiplier}`:"",f.value]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:k,className:`flex-1 py-2 rounded-lg font-bold flex items-center justify-center gap-2 ${l?"bg-green-600/20 text-green-400 border border-green-600":"bg-blue-600 text-white hover:bg-blue-500"}`,children:[l?c.jsx(ir,{size:18}):c.jsx(og,{size:18}),l?"Kalibriert ":"1. Kalibrieren"]}),c.jsx("button",{onClick:()=>x(!b),className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 rounded-lg text-white",title:"Overlay umschalten",children:b?c.jsx(ir,{size:18}):c.jsx(Uf,{size:18})})]}),l&&c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:C,className:"flex-1 py-2 bg-yellow-600 hover:bg-yellow-500 rounded-lg text-white font-bold",children:" 2. Referenz setzen"}),c.jsx("button",{onClick:w,className:"flex-1 py-2 bg-green-600 hover:bg-green-500 rounded-lg text-white font-bold",children:" 3. Dart erkennen"})]}),l&&c.jsxs("button",{onClick:d?J:_,className:`w-full py-2 rounded-lg font-bold flex items-center justify-center gap-2 ${d?"bg-red-600 hover:bg-red-500 text-white":"bg-purple-600 hover:bg-purple-500 text-white"}`,children:[d?c.jsx(lg,{size:18}):c.jsx(ag,{size:18}),d?"Auto-Erkennung stoppen":"Auto-Erkennung starten"]}),c.jsxs("button",{onClick:()=>{var P;u(!1),h(null),o.current=null,i.current=null,s.current&&((P=s.current.getContext("2d"))==null||P.clearRect(0,0,s.current.width,s.current.height)),m(" Reset")},className:"w-full py-2 bg-gray-600 hover:bg-gray-500 rounded-lg text-white flex items-center justify-center gap-2",children:[c.jsx(ft,{size:16}),"Zurcksetzen"]})]}),c.jsxs("div",{className:"bg-gray-900 rounded p-2 h-32 overflow-auto",children:[c.jsx("p",{className:"text-gray-500 text-xs font-mono",children:"Protokoll:"}),g.map((P,O)=>c.jsx("p",{className:"text-gray-300 text-xs font-mono",children:P},O)),g.length===0&&c.jsx("p",{className:"text-gray-500 text-xs",children:"Noch keine Aktivitt"})]})]}):c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 text-center",children:[c.jsx(ts,{size:48,className:"mx-auto text-gray-500 mb-4"}),c.jsx("p",{className:"text-gray-400",children:"Verbinde zuerst die Kamera"})]})}function Fg(){const{players:e,clearPlayers:t}=jn(),[n,r]=N.useState(!1),[s,i]=N.useState(!1),[o,a]=N.useState(null),[l,u]=N.useState(!1),d=()=>`${window.location.origin+window.location.pathname}#/manual-camera`,p=f=>{Ry(f)};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-dark via-blue-900 to-dark flex items-center justify-center p-4",children:c.jsxs("div",{className:"w-full max-w-2xl",children:[c.jsx("h1",{className:"text-4xl font-bold text-center mb-2 text-accent",children:"Game Selection"}),c.jsx("p",{className:"text-center text-gray-400 mb-8",children:"Choose your Dart game"}),c.jsxs("div",{className:`border rounded-lg mb-8 overflow-hidden ${n?"bg-green-600/30 border-green-500":"bg-blue-600/30 border-blue-500"}`,children:[c.jsxs("button",{onClick:()=>i(!s),className:"w-full p-4 flex items-center justify-between hover:bg-white/5 transition",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(ug,{className:n?"text-green-400":"text-blue-400",size:24}),c.jsxs("div",{className:"text-left",children:[c.jsx("h3",{className:"text-white font-bold",children:" Connect Smartphone Camera"}),c.jsx("p",{className:`text-sm ${n?"text-green-300":"text-gray-400"}`,children:n?" Connected!":"Click to connect"})]})]}),s?c.jsx(sg,{className:"text-gray-400",size:20}):c.jsx(rg,{className:"text-gray-400",size:20})]}),s&&c.jsxs("div",{className:"px-4 pb-4 border-t border-white/10",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-4",children:[c.jsxs("div",{className:"bg-white rounded-lg p-4 flex flex-col items-center justify-center",children:[c.jsx("p",{className:"text-gray-600 text-sm mb-2 font-medium",children:"Scan QR code:"}),c.jsx(qf,{value:d(),size:150,level:"M",includeMargin:!1}),c.jsxs("p",{className:"text-gray-500 text-xs mt-2",children:["Oder: ",c.jsx("span",{className:"font-mono bg-gray-100 px-1 rounded",children:"#/manual-camera"})]})]}),c.jsx("div",{children:c.jsx(np,{mode:"desktop",onConnectionChange:f=>r(f),onStreamReceived:f=>a(f)})})]}),n&&o&&c.jsxs("div",{className:"mt-4",children:[c.jsxs("button",{onClick:()=>u(!l),className:"w-full py-2 bg-yellow-600 hover:bg-yellow-500 rounded-lg text-white font-bold mb-4",children:[" ",l?"Hide Dart Detection":"Test Dart Detection"]}),l&&c.jsx(Ug,{videoStream:o,onDartDetected:f=>console.log("Detected:",f)})]})]})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[c.jsxs("div",{onClick:()=>p("killer"),className:"bg-white/10 backdrop-blur-md rounded-lg p-6 cursor-pointer hover:bg-white/20 transition transform hover:scale-105 border border-white/30",children:[c.jsx(ns,{className:"text-red-500 mb-4",size:40}),c.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Killer"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Hit your numbers, eliminate opponents. Strategy & precision required!"})]}),c.jsxs("div",{onClick:()=>p("darts501"),className:"bg-white/10 backdrop-blur-md rounded-lg p-6 cursor-pointer hover:bg-white/20 transition transform hover:scale-105 border border-white/30",children:[c.jsx(cs,{className:"text-green-500 mb-4",size:40}),c.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"501"}),c.jsx("p",{className:"text-sm text-gray-400",children:"The classic  start at 501, finish with double-out!"})]}),c.jsxs("div",{onClick:()=>p("cricket"),className:"bg-white/10 backdrop-blur-md rounded-lg p-6 cursor-pointer hover:bg-white/20 transition transform hover:scale-105 border border-white/30",children:[c.jsx(ig,{className:"text-yellow-500 mb-4",size:40}),c.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Cricket"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Close 15-20 & Bull  score on opponent's open numbers!"})]}),c.jsxs("div",{onClick:()=>p("limbo"),className:"bg-white/10 backdrop-blur-md rounded-lg p-6 cursor-pointer hover:bg-white/20 transition transform hover:scale-105 border border-white/30",children:[c.jsx(zf,{className:"text-purple-500 mb-4",size:40}),c.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Limbo"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Throw under the target  the lower, the better!"})]})]}),c.jsx("div",{className:"text-center",children:c.jsxs("button",{onClick:t,className:"text-gray-500 hover:text-white transition flex items-center justify-center gap-2 mx-auto",children:[c.jsx(ft,{size:16}),"Reset players"]})}),c.jsxs("div",{className:"mt-8 bg-white/5 rounded-lg p-4",children:[c.jsxs("p",{className:"text-gray-400 text-sm text-center mb-3",children:[e.length," ",e.length===1?"player":"players"," ready"]}),c.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:e.map((f,h)=>c.jsxs("div",{className:"px-4 py-2 bg-gradient-to-r from-blue-600/50 to-purple-600/50 rounded-full border border-white/20 flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white font-bold text-sm",children:f.name.charAt(0).toUpperCase()}),c.jsx("span",{className:"text-white font-medium",children:f.name})]},f.id||h))})]})]})})}function ja({onHit:e,onUndo:t,undoAvailable:n=!1,disabled:r=!1}){const[s,i]=N.useState(1),[o,a]=N.useState([]),l=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],u=h=>{const g=h*s;e({x:0,y:0,value:h,multiplier:s,points:g}),a([...o,{value:h,multiplier:s,points:g}])},d=h=>{e({x:0,y:0,value:h,multiplier:1,points:h}),a([...o,{value:h,multiplier:1,points:h}])},p=()=>{e({x:0,y:0,value:0,multiplier:0,points:0}),a([...o,{value:0,multiplier:0,points:0}])},f=()=>{if(n&&t){t();const h=[...o];h.pop(),a(h)}};return c.jsxs("div",{className:"w-full space-y-4 p-4 bg-gradient-to-b from-gray-900 to-black rounded-lg",children:[c.jsx("div",{className:"grid grid-cols-3 gap-3",children:[1,2,3].map(h=>c.jsxs("button",{onClick:()=>i(h),disabled:r,className:`py-3 px-3 rounded text-base font-bold transition ${s===h?"bg-gradient-to-r from-blue-600 to-purple-600 text-white ring-1 ring-yellow-400":"bg-gray-700 hover:bg-gray-600 text-gray-200 disabled:opacity-50"}`,children:[h,"x"]},h))}),c.jsx("div",{className:"grid grid-cols-5 gap-1.5",children:l.map(h=>c.jsx("button",{onClick:()=>u(h),disabled:r,className:"aspect-square bg-gradient-to-br from-gray-700 to-gray-800 hover:from-blue-600 hover:to-purple-600 text-white font-bold text-base rounded transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:h},h))}),c.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[c.jsx("button",{onClick:()=>d(25),disabled:r,className:"py-3 bg-red-600 hover:bg-red-700 text-white font-bold text-base rounded transition disabled:opacity-50",children:"25"}),c.jsx("button",{onClick:()=>d(50),disabled:r,className:"py-3 bg-red-700 hover:bg-red-800 text-white font-bold text-base rounded transition disabled:opacity-50",children:"50"}),c.jsx("button",{onClick:p,disabled:r,className:"py-3 bg-gray-600 hover:bg-gray-500 text-white font-bold text-base rounded transition disabled:opacity-50",children:"Miss"}),c.jsx("button",{onClick:f,disabled:!n,className:"py-3 bg-orange-600 hover:bg-orange-700 text-white font-bold text-base rounded transition disabled:opacity-50",children:" Undo"})]})]})}function rp({gameState:e,gameType:t,onReset:n,onNewLeg:r,onRestart:s}){var o,a;const i=(o=e==null?void 0:e.players)==null?void 0:o[e==null?void 0:e.currentPlayerIndex];return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:`rounded-lg p-6 text-white transition ${i!=null&&i.killer?"bg-gradient-to-r from-red-600 to-orange-600 ring-2 ring-yellow-400 shadow-lg shadow-red-500":"bg-gradient-to-r from-primary to-accent"}`,children:[c.jsx("p",{className:"text-sm text-gray-200 mb-1",children:"Current Player"}),c.jsx("h2",{className:"text-3xl font-bold mb-4",children:i==null?void 0:i.name}),t==="killer"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-4 border-2 border-white/50",children:[c.jsx("p",{className:"text-xs text-gray-200 mb-1 font-bold",children:"TARGET NUMBER"}),c.jsx("p",{className:"text-6xl font-black text-center",children:i==null?void 0:i.randomNumber})]}),i!=null&&i.killer?c.jsxs("div",{className:"bg-yellow-400/30 border-2 border-yellow-400 rounded-lg p-4 text-center shadow-lg shadow-yellow-500/50 animate-pulse",children:[c.jsx("p",{className:"text-xs text-yellow-200 font-bold uppercase mb-1",children:"Status"}),c.jsx("p",{className:"text-3xl font-black text-yellow-300",children:" KILLER "}),c.jsx("p",{className:"text-xs text-yellow-200 mt-2",children:"Hunting other players..."})]}):c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-200 font-bold mb-2",children:"Progress to Killer"}),c.jsx("div",{className:"w-full bg-white/20 rounded-full h-3 border border-white/40",children:c.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-purple-500 h-3 rounded-full transition-all duration-300",style:{width:`${(i==null?void 0:i.hits)/3*100}%`}})}),c.jsxs("p",{className:"text-center text-sm font-bold mt-2",children:[i==null?void 0:i.hits," / 3 hits"]})]})]}),t==="darts501"&&c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-300",children:"Score"}),c.jsx("p",{className:"text-3xl font-bold",children:i==null?void 0:i.score})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-300",children:"Shots"}),c.jsxs("p",{className:"text-2xl font-bold",children:[i==null?void 0:i.shots,"/3"]})]})]})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-4 border border-white/20",children:[c.jsx("h3",{className:"text-white font-bold mb-3 text-sm",children:"PLAYERS"}),c.jsx("div",{className:"space-y-2",children:(a=e==null?void 0:e.players)==null?void 0:a.map((l,u)=>c.jsxs("div",{className:`p-3 rounded-lg transition border-l-4 ${u===e.currentPlayerIndex?"bg-accent/30 border-accent":l.killer?"bg-yellow-900/30 border-yellow-400 shadow-md shadow-yellow-500/30":"bg-white/5 border-transparent"} ${l.eliminated?"opacity-40 line-through":""}`,children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsxs("span",{className:`font-bold ${l.killer?"text-yellow-400":"text-white"}`,children:[l.name,l.killer&&" ",l.eliminated&&" "]}),c.jsxs("span",{className:"text-lg font-black bg-white/20 px-3 py-1 rounded",children:["#",l.randomNumber]})]}),t==="killer"&&c.jsx("div",{className:"w-full bg-white/20 rounded-full h-2 border border-white/30",children:c.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${l.killer?"bg-gradient-to-r from-yellow-400 to-amber-500":"bg-gradient-to-r from-blue-400 to-purple-500"}`,style:{width:`${l.hits/3*100}%`}})})]},l.id))})]}),(e==null?void 0:e.winner)&&c.jsxs("div",{className:"bg-success/20 border-2 border-success rounded-lg p-4 text-center",children:[c.jsxs("p",{className:"text-success font-bold text-2xl",children:[" ",e.winner.name," Wins!"]}),t==="darts501"&&r&&c.jsx("button",{onClick:r,className:"mt-4 w-full px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg font-bold transition",children:" Neues Leg starten"}),s&&c.jsxs("button",{onClick:s,className:"mt-2 w-full px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white rounded-lg font-bold transition flex items-center justify-center gap-2",children:[c.jsx(_a,{size:18})," Play Again"]}),c.jsx("button",{onClick:n,className:"mt-2 w-full px-4 py-2 bg-success hover:bg-success/80 text-white rounded-lg font-bold transition",children:"Back to Menu"})]}),c.jsxs("button",{onClick:n,className:"w-full px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg font-bold text-white transition flex items-center justify-center gap-2 border border-white/30",children:[c.jsx(ft,{size:18})," Back to Menu"]})]})}function Hg(){const{gameState:e,recordHit:t,endTurn:n,undo:r,history:s,restartGame:i}=jn(),[o,a]=ie.useState(!0),[l,u]=ie.useState("manual");if(ie.useEffect(()=>{if(l!=="camera")return;const h=v=>{const b=v.detail;b&&b.value&&f(b)};window.addEventListener("dartHit",h);const g=setInterval(()=>{try{const v=JSON.parse(localStorage.getItem("mobile_hits")||"[]");v.length>0&&(v.forEach(b=>{b&&b.value&&f(b)}),localStorage.setItem("mobile_hits","[]"))}catch(v){console.error("Error reading hits:",v)}},200);return()=>{window.removeEventListener("dartHit",h),clearInterval(g)}},[l]),!e||e.gamePhase!=="playing"&&e.gamePhase!=="ended")return null;const d=e,p=d.players[d.currentPlayerIndex],f=h=>{o&&new Audio("data:audio/wav;base64,UklGRiYAAABXQVZFZm10IBAAAAABAAEAQB8AAAB9AAACABAAZGF0YQIAAAAAAA==").play().catch(()=>{}),t(h)};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-dark via-red-900 to-dark p-4",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-red-400",children:" Killer Darts"}),c.jsx("button",{onClick:()=>a(!o),className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg text-white transition",children:o?c.jsx(Hi,{size:24}):c.jsx(Vi,{size:24})})]}),c.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2",children:[l==="manual"?c.jsx(ja,{onHit:f,onUndo:r,undoAvailable:s.length>0,disabled:d.gamePhase==="ended"||p.shots>=3}):c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-8 border border-white/20 text-center",children:[c.jsx("div",{className:"text-4xl mb-4",children:""}),c.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Camera Mode Active"}),c.jsx("p",{className:"text-gray-300 mb-4",children:"Open on another device:"}),c.jsxs("p",{className:"bg-blue-900/50 p-4 rounded text-blue-200 font-mono break-all mb-4",children:[window.location.origin,"/#/camera"]}),c.jsx("p",{className:"text-gray-400 text-sm",children:"Detected hits will be registered automatically."})]}),c.jsx("div",{className:"mt-4 grid grid-cols-2 gap-2",children:["manual","camera"].map(h=>c.jsxs("button",{onClick:()=>u(h),className:`px-3 py-2 rounded-lg font-bold text-sm transition ${l===h?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-white/20 hover:bg-white/30 text-white"}`,children:[h==="manual"&&" Manual",h==="camera"&&" Camera"]},h))}),c.jsxs("div",{className:"mt-6 space-y-3",children:[c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-4 border border-white/20",children:[c.jsxs("p",{className:"text-sm text-gray-400 mb-2",children:["Shots This Turn: ",p.shots,"/3"]}),c.jsx("div",{className:"w-full bg-white/20 rounded-full h-2",children:c.jsx("div",{className:"bg-accent h-2 rounded-full transition-all duration-300",style:{width:`${p.shots/3*100}%`}})})]}),p.shots>=3&&c.jsx("button",{onClick:()=>n(),className:"w-full px-4 py-4 bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-700 hover:to-orange-700 rounded-lg font-bold text-white transition text-lg",children:" Next Player"})]})]}),c.jsx("div",{children:c.jsx(rp,{gameState:d,gameType:"killer",onReset:_t,onRestart:i})})]})]})})}function Vg({onStart:e,onBack:t}){return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-dark via-red-900 to-dark p-4 flex items-center justify-center",children:c.jsx("div",{className:"w-full max-w-md",children:c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20 shadow-2xl",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("button",{onClick:t,className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg text-white transition",children:c.jsx(Fi,{size:20})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ns,{size:28,className:"text-red-400"}),c.jsx("h1",{className:"text-2xl font-bold text-white",children:"Killer Darts"})]})]}),c.jsxs("div",{className:"mb-6 p-4 bg-white/5 rounded-lg border border-white/10",children:[c.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Game Rules:"}),c.jsxs("ul",{className:"text-white text-sm space-y-2",children:[c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Each player gets a random number"})," (1-20)"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Hit your number 3x"})," to become a KILLER"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"As KILLER:"})," Hit opponents' numbers to reduce their hits"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"At 0 hits"})," = eliminated"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Last player standing"})," wins!"]})]})]}),c.jsxs("button",{onClick:e,className:"w-full py-4 bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-500 hover:to-orange-500 rounded-xl font-black text-xl text-white transition shadow-lg flex items-center justify-center gap-2",children:[c.jsx(ns,{size:24})," Start Killer!"]})]})})})}function Gg(){const{gameState:e,recordHit:t,endTurn:n,startNewLeg:r,undo:s,history:i,restartGame:o}=jn(),[a,l]=ie.useState(!0),[u,d]=ie.useState("manual");if(ie.useEffect(()=>{if(u!=="camera")return;const g=b=>{const x=b.detail;x&&x.value&&h(x)};window.addEventListener("dartHit",g);const v=setInterval(()=>{try{const b=JSON.parse(localStorage.getItem("mobile_hits")||"[]");b.length>0&&(b.forEach(x=>{x&&x.value&&h(x)}),localStorage.setItem("mobile_hits","[]"))}catch(b){console.error("Error reading hits:",b)}},200);return()=>{window.removeEventListener("dartHit",g),clearInterval(v)}},[u]),!e||e.gamePhase!=="playing"&&e.gamePhase!=="ended")return null;const p=e,f=p.players[p.currentPlayerIndex],h=g=>{a&&new Audio("data:audio/wav;base64,UklGRiYAAABXQVZFZm10IBAAAAABAAEAQB8AAAB9AAACABAAZGF0YQIAAAAAAA==").play().catch(()=>{}),t(g)};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-dark via-blue-900 to-dark p-4",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-2xl font-bold text-accent",children:[" ",p.options.startScore," Darts"]}),c.jsxs("div",{className:"flex gap-2 mt-1",children:[c.jsx("span",{className:"text-xs px-2 py-0.5 bg-green-600/50 text-green-200 rounded",children:p.options.inMode==="straight"?"Straight In":"Double In"}),c.jsx("span",{className:"text-xs px-2 py-0.5 bg-red-600/50 text-red-200 rounded",children:p.options.outMode==="straight"?"Straight Out":p.options.outMode==="double"?"Double Out":"Master Out"})]})]}),c.jsx("button",{onClick:()=>l(!a),className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg text-white transition",children:a?c.jsx(Hi,{size:24}):c.jsx(Vi,{size:24})})]}),c.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6",children:p.players.map((g,v)=>c.jsxs("div",{className:`rounded-xl p-4 text-center transition-all ${v===p.currentPlayerIndex?"bg-gradient-to-r from-blue-600 to-purple-600 ring-2 ring-yellow-400 scale-105":"bg-white/10"}`,children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("p",{className:`text-sm font-medium ${v===p.currentPlayerIndex?"text-yellow-200":"text-gray-400"}`,children:[g.name,v===p.currentPlayerIndex&&" "]}),c.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 px-4 py-2 rounded-full shadow-lg",children:[c.jsx("span",{className:"text-white font-black text-2xl",children:g.legsWon}),c.jsx("span",{className:"text-white/80 text-sm ml-1 font-bold",children:"LEGS"})]})]}),c.jsx("p",{className:`font-black ${v===p.currentPlayerIndex?"text-5xl text-white":"text-4xl text-gray-300"}`,children:g.score}),v===p.currentPlayerIndex&&c.jsxs("div",{className:"mt-2",children:[c.jsx("div",{className:"flex items-center justify-center gap-2",children:[0,1,2].map(b=>c.jsx("div",{className:`w-4 h-4 rounded-full transition-all ${b<g.shots?"bg-yellow-400 shadow-lg shadow-yellow-400/50":"bg-white/20 border border-white/40"}`},b))}),g.turnBusted&&c.jsx("p",{className:"text-red-300 text-xs mt-1 font-bold",children:" BUST!"}),p.options.inMode==="double"&&!g.hasStarted&&!g.turnBusted&&c.jsx("p",{className:"text-yellow-300 text-xs mt-1 font-bold animate-pulse",children:" Double zum Starten!"})]})]},g.id))}),c.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2",children:[u==="manual"?c.jsx(ja,{onHit:h,onUndo:s,undoAvailable:i.length>0,disabled:p.gamePhase==="ended"||f.turnBusted}):c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-8 border border-white/20 text-center",children:[c.jsx("div",{className:"text-4xl mb-4",children:""}),c.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Camera Mode Active"}),c.jsx("p",{className:"text-gray-300 mb-4",children:"Open on another device:"}),c.jsxs("p",{className:"bg-blue-900/50 p-4 rounded text-blue-200 font-mono break-all mb-4",children:[window.location.origin,"/#/camera"]}),c.jsx("p",{className:"text-gray-400 text-sm",children:"Detected hits will be registered automatically."})]}),c.jsx("div",{className:"mt-4 grid grid-cols-2 gap-2",children:["manual","camera"].map(g=>c.jsxs("button",{onClick:()=>d(g),className:`px-3 py-2 rounded-lg font-bold text-sm transition ${u===g?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-white/20 hover:bg-white/30 text-white"}`,children:[g==="manual"&&" Manual",g==="camera"&&" Camera"]},g))}),c.jsx("div",{className:"mt-4",children:f.shots===3&&c.jsx("button",{onClick:()=>n(),className:"w-full px-3 py-2 bg-gradient-to-r from-primary to-accent hover:from-primary/80 hover:to-accent/80 rounded-lg font-bold text-white transition text-sm",children:"End Turn"})})]}),c.jsx("div",{children:c.jsx(rp,{gameState:p,gameType:"darts501",onReset:_t,onNewLeg:r,onRestart:o})})]})]})})}function Yg({onStart:e,onBack:t}){var f,h;const[n,r]=N.useState(501),[s,i]=N.useState("straight"),[o,a]=N.useState("double"),l=[301,501,701],u=[{value:"straight",label:"Straight In",desc:"Sofort punkten"},{value:"double",label:"Double In",desc:"Mit Double starten"}],d=[{value:"straight",label:"Straight Out",desc:"Beliebig auschecken"},{value:"double",label:"Double Out",desc:"Mit Double beenden"},{value:"master",label:"Master Out",desc:"Double oder Triple"}],p=()=>{e({startScore:n,inMode:s,outMode:o})};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-dark via-blue-900 to-dark p-4 flex items-center justify-center",children:c.jsx("div",{className:"w-full max-w-md",children:c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20 shadow-2xl",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("button",{onClick:t,className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg text-white transition",children:c.jsx(Fi,{size:20})}),c.jsx("h1",{className:"text-2xl font-bold text-white",children:" 501 Setup"})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-gray-300 text-sm font-bold mb-3",children:"Startwert"}),c.jsx("div",{className:"grid grid-cols-3 gap-2",children:l.map(g=>c.jsx("button",{onClick:()=>r(g),className:`py-3 rounded-lg font-black text-xl transition ${n===g?"bg-gradient-to-r from-blue-600 to-purple-600 text-white ring-2 ring-yellow-400":"bg-white/10 text-white hover:bg-white/20"}`,children:g},g))})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-gray-300 text-sm font-bold mb-3",children:"Einstieg"}),c.jsx("div",{className:"space-y-2",children:u.map(g=>c.jsxs("button",{onClick:()=>i(g.value),className:`w-full p-3 rounded-lg text-left transition ${s===g.value?"bg-gradient-to-r from-green-600 to-emerald-600 text-white ring-2 ring-yellow-400":"bg-white/10 text-white hover:bg-white/20"}`,children:[c.jsx("div",{className:"font-bold",children:g.label}),c.jsx("div",{className:`text-sm ${s===g.value?"text-green-100":"text-gray-400"}`,children:g.desc})]},g.value))})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-gray-300 text-sm font-bold mb-3",children:"Finish"}),c.jsx("div",{className:"space-y-2",children:d.map(g=>c.jsxs("button",{onClick:()=>a(g.value),className:`w-full p-3 rounded-lg text-left transition ${o===g.value?"bg-gradient-to-r from-red-600 to-orange-600 text-white ring-2 ring-yellow-400":"bg-white/10 text-white hover:bg-white/20"}`,children:[c.jsx("div",{className:"font-bold",children:g.label}),c.jsx("div",{className:`text-sm ${o===g.value?"text-red-100":"text-gray-400"}`,children:g.desc})]},g.value))})]}),c.jsxs("div",{className:"mb-6 p-4 bg-white/5 rounded-lg border border-white/10",children:[c.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Zusammenfassung:"}),c.jsxs("p",{className:"text-white font-bold text-lg",children:[n,"  ",(f=u.find(g=>g.value===s))==null?void 0:f.label,"  ",(h=d.find(g=>g.value===o))==null?void 0:h.label]})]}),c.jsx("button",{onClick:p,className:"w-full py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 rounded-xl font-black text-xl text-white transition shadow-lg",children:" Spiel starten!"})]})})})}const Wg=[20,19,18,17,16,15];function Xg({onHit:e,onUndo:t,undoAvailable:n=!1,disabled:r=!1}){const s=(o,a)=>{r||e({value:o,multiplier:a,points:o*a})},i=()=>{r||e({value:0,multiplier:1,points:0})};return c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/20",children:[c.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:Wg.map(o=>c.jsxs("div",{className:"space-y-1",children:[c.jsx("div",{className:"text-center text-white font-black text-lg mb-1",children:o}),c.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[c.jsx("button",{onClick:()=>s(o,1),disabled:r,className:"py-2 bg-white/20 hover:bg-white/30 rounded text-white font-bold text-sm transition disabled:opacity-50",children:"1x"}),c.jsx("button",{onClick:()=>s(o,2),disabled:r,className:"py-2 bg-green-600/50 hover:bg-green-600/70 rounded text-white font-bold text-sm transition disabled:opacity-50",children:"2x"}),c.jsx("button",{onClick:()=>s(o,3),disabled:r,className:"py-2 bg-red-600/50 hover:bg-red-600/70 rounded text-white font-bold text-sm transition disabled:opacity-50",children:"3x"})]})]},o))}),c.jsxs("div",{className:"border-t border-white/20 pt-4 mb-4",children:[c.jsx("div",{className:"text-center text-white font-black text-lg mb-2",children:"BULL"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsx("button",{onClick:()=>s(25,1),disabled:r,className:"py-3 bg-green-600/50 hover:bg-green-600/70 rounded-lg text-white font-bold transition disabled:opacity-50",children:"Single Bull (25)"}),c.jsx("button",{onClick:()=>s(25,2),disabled:r,className:"py-3 bg-red-600/50 hover:bg-red-600/70 rounded-lg text-white font-bold transition disabled:opacity-50",children:"Bulls Eye (50)"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("button",{onClick:i,disabled:r,className:"py-3 bg-gray-600/50 hover:bg-gray-600/70 rounded-lg text-white font-bold transition flex items-center justify-center gap-2 disabled:opacity-50",children:[c.jsx(Uf,{size:18})," Miss"]}),c.jsxs("button",{onClick:t,disabled:!n||r,className:"py-3 bg-orange-600/50 hover:bg-orange-600/70 rounded-lg text-white font-bold transition flex items-center justify-center gap-2 disabled:opacity-50",children:[c.jsx(fg,{size:18})," Undo"]})]})]})}function Qg({marks:e,isCurrentPlayer:t}){const n=Math.min(e/3*100,100),r=e>=3;return c.jsxs("div",{className:"w-full",children:[c.jsx("div",{className:`h-3 rounded-full overflow-hidden ${t?"bg-blue-900/50":"bg-white/10"}`,children:c.jsx("div",{className:`h-full rounded-full transition-all duration-300 ${r?"bg-gradient-to-r from-green-400 to-emerald-500":t?"bg-gradient-to-r from-yellow-400 to-orange-500":"bg-gradient-to-r from-blue-400 to-purple-500"}`,style:{width:`${n}%`}})}),r&&c.jsx("div",{className:"text-center text-green-400 text-xs mt-0.5 font-bold",children:""})]})}function Kg(){const{gameState:e,recordHit:t,undo:n,history:r,restartGame:s}=jn(),[i,o]=N.useState(!0);if(!e||e.gamePhase!=="playing"&&e.gamePhase!=="ended")return null;const a=e,l=a.players[a.currentPlayerIndex],u=f=>{i&&new Audio("data:audio/wav;base64,UklGRiYAAABXQVZFZm10IBAAAAABAAEAQB8AAAB9AAACABAAZGF0YQIAAAAAAA==").play().catch(()=>{}),t(f)},d=f=>f===25?"BULL":f.toString(),p=f=>a.players.every(h=>h.marks[f]>=3);return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-dark via-green-900 to-dark p-4",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-green-400",children:" Cricket"}),c.jsxs("div",{className:"flex gap-2 mt-1",children:[c.jsx("span",{className:"text-xs px-2 py-0.5 bg-red-600/50 text-red-200 rounded",children:"Lowest points wins!"}),c.jsxs("span",{className:"text-xs px-2 py-0.5 bg-blue-600/50 text-blue-200 rounded",children:["Round ",a.round,"/",a.maxRounds]})]})]}),c.jsx("button",{onClick:()=>o(!i),className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg text-white transition",children:i?c.jsx(Hi,{size:24}):c.jsx(Vi,{size:24})})]}),c.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-4 mb-4",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-blue-200 text-sm",children:"Current Turn:"}),c.jsx("p",{className:"text-white font-black text-2xl",children:l.name})]}),c.jsx("div",{className:"flex items-center gap-2",children:[0,1,2].map(f=>c.jsx("div",{className:`w-5 h-5 rounded-full transition-all ${f<l.shots?"bg-yellow-400 shadow-lg shadow-yellow-400/50":"bg-white/20 border border-white/40"}`},f))})]})}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4 mb-6 border border-white/20",children:[c.jsxs("div",{className:"grid gap-2 mb-3",style:{gridTemplateColumns:`60px repeat(${a.players.length}, 1fr)`},children:[c.jsx("div",{className:"text-center text-gray-400 text-xs font-bold"}),a.players.map((f,h)=>c.jsxs("div",{className:`text-center font-bold truncate px-1 text-sm ${h===a.currentPlayerIndex?"text-yellow-400":"text-white"}`,children:[f.name,h===a.currentPlayerIndex&&" "]},f.id))]}),xi.map((f,h)=>{const g=p(f);return c.jsxs("div",{className:`grid gap-2 py-3 items-center ${g?"opacity-40":""} ${h%2===0?"bg-white/5":""}`,style:{gridTemplateColumns:`60px repeat(${a.players.length}, 1fr)`},children:[c.jsx("div",{className:`text-center font-black text-xl ${g?"text-gray-500 line-through":"text-white"}`,children:d(f)}),a.players.map((v,b)=>c.jsx("div",{className:`px-2 py-1 rounded-lg ${b===a.currentPlayerIndex?"bg-blue-600/20":""}`,children:c.jsx(Qg,{marks:v.marks[f],isCurrentPlayer:b===a.currentPlayerIndex})},v.id))]},f)}),c.jsxs("div",{className:"grid gap-2 py-4 border-t-2 border-white/30 mt-2 items-center",style:{gridTemplateColumns:`60px repeat(${a.players.length}, 1fr)`},children:[c.jsx("div",{className:"text-center text-gray-400 font-bold text-xs",children:"Points"}),a.players.map((f,h)=>c.jsx("div",{className:`text-center font-black text-2xl ${h===a.currentPlayerIndex?"text-yellow-400":"text-red-400"}`,children:f.points},f.id))]})]}),a.gamePhase==="ended"&&(()=>{const f=[...a.players].sort((h,g)=>h.points-g.points);return c.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl p-6 w-full max-w-lg shadow-2xl border border-white/20",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:"text-5xl mb-2",children:""}),c.jsx("h2",{className:"text-2xl font-black text-white",children:"Game Over!"}),c.jsxs("p",{className:"text-gray-400 text-sm",children:["After ",a.maxRounds," rounds"]})]}),c.jsx("div",{className:"space-y-2 mb-6",children:f.map((h,g)=>c.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl ${g===0?"bg-gradient-to-r from-yellow-600/50 to-amber-600/50 border border-yellow-500/50":g===1?"bg-gradient-to-r from-gray-400/30 to-gray-500/30 border border-gray-400/30":g===2?"bg-gradient-to-r from-orange-700/30 to-orange-800/30 border border-orange-600/30":"bg-white/5 border border-white/10"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("span",{className:`text-2xl font-black ${g===0?"text-yellow-400":g===1?"text-gray-300":g===2?"text-orange-400":"text-gray-500"}`,children:["#",g+1]}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-white",children:h.name}),c.jsxs("p",{className:"text-xs text-gray-400",children:[xi.filter(v=>h.marks[v]>=3).length,"/7 closed"]})]})]}),c.jsx("div",{className:"text-right",children:c.jsxs("p",{className:`font-black text-xl ${g===0?"text-green-400":"text-red-400"}`,children:[h.points," pts"]})})]},h.id))}),c.jsxs("button",{onClick:s,className:"w-full px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 rounded-xl font-bold text-white transition flex items-center justify-center gap-2 mb-2",children:[c.jsx(_a,{size:20})," Play Again"]}),c.jsxs("button",{onClick:_t,className:"w-full px-6 py-3 bg-white/20 hover:bg-white/30 rounded-xl font-bold text-white transition flex items-center justify-center gap-2",children:[c.jsx(ft,{size:20})," Back to Menu"]})]})})})(),c.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[c.jsx("div",{className:"lg:col-span-2",children:c.jsx(Xg,{onHit:u,onUndo:n,undoAvailable:r.length>0,disabled:a.gamePhase==="ended"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-4 border border-white/20",children:[c.jsx("h3",{className:"text-white font-bold mb-2",children:"Game Rules"}),c.jsxs("ul",{className:"text-gray-300 text-sm space-y-1",children:[c.jsx("li",{children:" 3 hits = close number"}),c.jsx("li",{children:" Hit closed number = points to opponents!"}),c.jsx("li",{children:" Close all 7 + lowest points = win"})]})]}),c.jsxs("button",{onClick:_t,className:"w-full px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg font-bold text-white transition flex items-center justify-center gap-2 border border-white/30",children:[c.jsx(ft,{size:18})," Back to Menu"]})]})]})]})})}function Jg({onStart:e,onBack:t}){return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-dark via-green-900 to-dark p-4 flex items-center justify-center",children:c.jsx("div",{className:"w-full max-w-md",children:c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20 shadow-2xl",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("button",{onClick:t,className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg text-white transition",children:c.jsx(Fi,{size:20})}),c.jsx("h1",{className:"text-2xl font-bold text-white",children:" Cricket"})]}),c.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-red-600/30 to-orange-600/30 rounded-xl border border-red-500/30",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(ns,{size:24,className:"text-red-400"}),c.jsx("span",{className:"font-bold text-white text-lg",children:"Cut Throat Mode"})]}),c.jsx("p",{className:"text-red-200 text-sm",children:"Points go to opponents - lowest points wins!"})]}),c.jsxs("div",{className:"mb-6 p-4 bg-white/5 rounded-lg border border-white/10",children:[c.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Game Rules:"}),c.jsxs("ul",{className:"text-white text-sm space-y-2",children:[c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Targets:"})," 15, 16, 17, 18, 19, 20, Bull"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"3 hits"})," = number closed"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Hit closed number"})," = points to all opponents!"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Win:"})," Close all 7 + lowest points"]})]})]}),c.jsx("button",{onClick:e,className:"w-full py-4 bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-500 hover:to-orange-500 rounded-xl font-black text-xl text-white transition shadow-lg",children:" Start Cricket!"})]})})})}function Zg(){var p;const{gameState:e,recordHit:t,undo:n,history:r,restartGame:s}=jn(),[i,o]=N.useState(!0),a=e;if(!e||e.gamePhase!=="playing"&&e.gamePhase!=="ended")return null;const l=a.players[a.currentPlayerIndex],u=a.players.filter(f=>f.lives>0),d=f=>{i&&new Audio("data:audio/wav;base64,UklGRiYAAABXQVZFZm10IBAAAAABAAEAQB8AAAB9AAACABAAZGF0YQIAAAAAAA==").play().catch(()=>{}),t(f)};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-dark via-purple-900 to-dark p-4",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-purple-400",children:" Limbo"}),c.jsx("span",{className:"text-xs px-2 py-0.5 bg-purple-600/50 text-purple-200 rounded",children:"How low can you go?"})]}),c.jsx("button",{onClick:()=>o(!i),className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg text-white transition",children:i?c.jsx(Hi,{size:24}):c.jsx(Vi,{size:24})})]}),c.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-orange-600 rounded-2xl p-6 mb-4 text-center relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-black/20"}),c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-200 text-sm mb-1",children:[c.jsx(zf,{size:16}),c.jsx("span",{children:"THROW UNDER"})]}),c.jsx("div",{className:"text-7xl font-black text-white drop-shadow-lg",children:a.currentLimit}),a.lastPlayerWhoSet&&c.jsxs("p",{className:"text-red-200 text-sm mt-2",children:["Set by ",(p=a.players.find(f=>f.id===a.lastPlayerWhoSet))==null?void 0:p.name]})]})]}),c.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-4 mb-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-blue-200 text-sm",children:"Current Turn:"}),c.jsx("p",{className:"text-white font-black text-2xl",children:l.name})]}),c.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:a.maxLives}).map((f,h)=>c.jsx(vi,{size:24,className:h<l.lives?"text-red-500 fill-red-500":"text-gray-600"},h))})]}),c.jsxs("div",{className:"flex items-center justify-between bg-black/20 rounded-lg p-3",children:[c.jsx("div",{className:"flex items-center gap-2",children:[0,1,2].map(f=>c.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center font-bold text-lg transition-all ${f<l.shots?"bg-yellow-400 text-yellow-900 shadow-lg":"bg-white/20 text-white/40 border border-white/30"}`,children:l.currentThrows[f]??"-"},f))}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-blue-200 text-xs",children:"Total"}),c.jsx("p",{className:`font-black text-2xl ${l.currentThrows.reduce((f,h)=>f+h,0)>=a.currentLimit?"text-red-400":"text-green-400"}`,children:l.currentThrows.reduce((f,h)=>f+h,0)})]})]})]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 mb-6",children:a.players.map((f,h)=>c.jsxs("div",{className:`p-3 rounded-xl border transition ${f.lives<=0?"bg-gray-800/50 border-gray-700 opacity-50":h===a.currentPlayerIndex?"bg-blue-600/30 border-blue-500 ring-2 ring-yellow-400":"bg-white/10 border-white/20"}`,children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{className:"flex items-center gap-2",children:[f.lives<=0?c.jsx(ns,{size:16,className:"text-gray-500"}):c.jsx(cs,{size:16,className:"text-purple-400"}),c.jsx("span",{className:`font-bold truncate ${f.lives<=0?"text-gray-500 line-through":"text-white"}`,children:f.name})]})}),c.jsx("div",{className:"flex gap-0.5 mt-2",children:Array.from({length:a.maxLives}).map((g,v)=>c.jsx(vi,{size:14,className:v<f.lives?"text-red-500 fill-red-500":"text-gray-700"},v))}),f.lastThrow!==null&&c.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Last: ",f.lastThrow]})]},f.id))}),a.gamePhase==="ended"&&a.winner&&c.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-pink-600 rounded-2xl p-8 text-center max-w-md mx-4 shadow-2xl",children:[c.jsx("div",{className:"text-6xl mb-4",children:""}),c.jsxs("h2",{className:"text-3xl font-black text-white mb-2",children:[a.winner.name," Wins!"]}),c.jsx("p",{className:"text-purple-200 mb-6",children:"Limbo Master - Last one standing!"}),c.jsxs("button",{onClick:s,className:"w-full px-6 py-3 bg-white text-purple-700 rounded-xl font-bold hover:bg-purple-100 transition flex items-center justify-center gap-2 mb-2",children:[c.jsx(_a,{size:20})," Play Again"]}),c.jsxs("button",{onClick:_t,className:"w-full px-6 py-3 bg-white/20 text-white rounded-xl font-bold hover:bg-white/30 transition flex items-center justify-center gap-2",children:[c.jsx(ft,{size:20})," Back to Menu"]})]})}),c.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[c.jsx("div",{className:"lg:col-span-2",children:c.jsx(ja,{onHit:d,onUndo:n,undoAvailable:r.length>0,disabled:a.gamePhase==="ended"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-4 border border-white/20",children:[c.jsx("h3",{className:"text-white font-bold mb-2",children:"Game Rules"}),c.jsxs("ul",{className:"text-gray-300 text-sm space-y-1",children:[c.jsx("li",{children:" Throw 3 darts per turn"}),c.jsx("li",{children:" Total must be UNDER the limit"}),c.jsx("li",{children:" Your total sets the new limit"}),c.jsxs("li",{children:[" ",c.jsx("span",{className:"text-red-400",children:"Miss = 25 points!"})]}),c.jsx("li",{children:" At/over limit = lose a life"}),c.jsx("li",{children:" Last player standing wins!"})]})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-4 border border-white/20",children:[c.jsx("h3",{className:"text-white font-bold mb-2",children:"Players Alive"}),c.jsxs("p",{className:"text-3xl font-black text-green-400",children:[u.length," / ",a.players.length]})]}),c.jsxs("button",{onClick:_t,className:"w-full px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg font-bold text-white transition flex items-center justify-center gap-2 border border-white/30",children:[c.jsx(ft,{size:18})," Back to Menu"]})]})]})]})})}const qg=[60,80,100,120,150],ey=[1,2,3,4,5];function ty({onStart:e,onBack:t}){const[n,r]=N.useState(120),[s,i]=N.useState(3);return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-dark via-purple-900 to-dark p-4 flex items-center justify-center",children:c.jsx("div",{className:"w-full max-w-md",children:c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20 shadow-2xl",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("button",{onClick:t,className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg text-white transition",children:c.jsx(Fi,{size:20})}),c.jsx("h1",{className:"text-2xl font-bold text-white",children:" Limbo"})]}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-300 text-sm font-bold mb-3",children:[c.jsx(cs,{size:16,className:"text-purple-400"}),"Starting Limit"]}),c.jsx("div",{className:"grid grid-cols-5 gap-2",children:qg.map(o=>c.jsx("button",{onClick:()=>r(o),className:`py-3 rounded-xl font-bold text-lg transition ${n===o?"bg-gradient-to-r from-purple-600 to-pink-600 text-white ring-2 ring-yellow-400":"bg-white/10 text-white hover:bg-white/20"}`,children:o},o))})]}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-300 text-sm font-bold mb-3",children:[c.jsx(vi,{size:16,className:"text-red-400"}),"Lives per Player"]}),c.jsx("div",{className:"grid grid-cols-5 gap-2",children:ey.map(o=>c.jsxs("button",{onClick:()=>i(o),className:`py-3 rounded-xl font-bold text-lg transition flex items-center justify-center gap-1 ${s===o?"bg-gradient-to-r from-red-600 to-orange-600 text-white ring-2 ring-yellow-400":"bg-white/10 text-white hover:bg-white/20"}`,children:[o,c.jsx(vi,{size:14,className:s===o?"fill-white":""})]},o))})]}),c.jsxs("div",{className:"mb-6 p-4 bg-white/5 rounded-lg border border-white/10",children:[c.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Game Rules:"}),c.jsxs("ul",{className:"text-white text-sm space-y-2",children:[c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Throw 3 darts"})," per turn"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Total must be UNDER"})," the current limit"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Your total"})," = new limit for next player"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Miss = 25 points!"})]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"At or over limit"})," = lose a life, reset to ",n]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"Last player standing"})," wins!"]})]})]}),c.jsx("button",{onClick:()=>e(n,s),className:"w-full py-4 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 rounded-xl font-black text-xl text-white transition shadow-lg",children:" Start Limbo!"})]})})})}const su=[20,1,18,4,13,6,10,15,2,17,3,19,7,16,8,11,14,9,12,5],kr=18,iu=.032,ou=.08,lu=.47,au=.54,cu=.89,uu=1,ny=2e3,ry=80,sy=30;function iy(){const e=N.useRef(null),t=N.useRef(null),n=N.useRef(null),[r,s]=N.useState(!1),[i,o]=N.useState(!1),[a,l]=N.useState("auto-detecting"),[u,d]=N.useState(""),[p,f]=N.useState(0),[h,g]=N.useState(null),[v,b]=N.useState(0),[x,m]=N.useState({centerX:0,centerY:0,radiusX:150,radiusY:150,rotation:0}),[y,k]=N.useState(0),S=N.useRef({ellipse:null,isCalibrated:!1,rotationOffset:0}),C=N.useRef(null),w=N.useRef(0),_=N.useRef(0),J=N.useRef([]),P=(j,E,$)=>{j/=255,E/=255,$/=255;const U=Math.max(j,E,$),Y=Math.min(j,E,$),F=U-Y;let M=0;const A=U===0?0:F/U,B=U;if(F!==0)switch(U){case j:M=((E-$)/F+(E<$?6:0))/6;break;case E:M=(($-j)/F+2)/6;break;case $:M=((j-E)/F+4)/6;break}return{h:M*360,s:A*100,v:B*100}},O=N.useCallback(j=>{const{width:E,height:$,data:U}=j,Y=new Uint8ClampedArray(E*$);for(let F=0;F<U.length;F+=4){const M=U[F],A=U[F+1],B=U[F+2],V=F/4,W=P(M,A,B),te=(W.h<15||W.h>345)&&W.s>40&&W.v>30,oe=W.h>80&&W.h<160&&W.s>30&&W.v>25,je=W.v<15&&W.s<30,le=W.s<25&&W.v>60;Y[V]=te||oe||je||le?255:0}return Y},[]),R=N.useCallback((j,E,$,U)=>{const Y=new Uint8ClampedArray(E*$),F=new Uint8ClampedArray(E*$),M=Math.floor(U/2);for(let A=M;A<$-M;A++)for(let B=M;B<E-M;B++){let V=0;for(let W=-M;W<=M;W++)for(let te=-M;te<=M;te++)V=Math.max(V,j[(A+W)*E+(B+te)]);Y[A*E+B]=V}for(let A=M;A<$-M;A++)for(let B=M;B<E-M;B++){let V=255;for(let W=-M;W<=M;W++)for(let te=-M;te<=M;te++)V=Math.min(V,Y[(A+W)*E+(B+te)]);F[A*E+B]=V}return F},[]),L=N.useCallback((j,E,$)=>{const U=new Uint8ClampedArray(E*$);let Y=null,F=0;for(let M=0;M<$;M++)for(let A=0;A<E;A++){const B=M*E+A;if(j[B]>0&&U[B]===0){const V=[],W=[{x:A,y:M}];let te=A,oe=A,je=M,le=M,Ne=0,Be=0;for(;W.length>0;){const q=W.pop(),Tt=q.y*E+q.x;q.x<0||q.x>=E||q.y<0||q.y>=$||U[Tt]!==0||j[Tt]===0||(U[Tt]=1,V.push(q),Ne+=q.x,Be+=q.y,te=Math.min(te,q.x),oe=Math.max(oe,q.x),je=Math.min(je,q.y),le=Math.max(le,q.y),W.push({x:q.x+1,y:q.y}),W.push({x:q.x-1,y:q.y}),W.push({x:q.x,y:q.y+1}),W.push({x:q.x,y:q.y-1}))}V.length>F&&(F=V.length,Y={points:V,area:V.length,boundingBox:{x:te,y:je,width:oe-te,height:le-je},centroid:{x:Ne/V.length,y:Be/V.length}})}}return Y},[]),Z=N.useCallback((j,E,$,U)=>{const Y=[],{boundingBox:F}=U;for(let M=F.y;M<F.y+F.height;M++)for(let A=F.x;A<F.x+F.width;A++){const B=M*E+A;j[B]>0&&(A>0&&j[B-1]===0||A<E-1&&j[B+1]===0||M>0&&j[B-E]===0||M<$-1&&j[B+E]===0)&&Y.push({x:A,y:M})}if(Y.length>200){const M=[],A=Math.floor(Y.length/200);for(let B=0;B<Y.length;B+=A)M.push(Y[B]);return M}return Y},[]),K=N.useCallback(j=>{if(j.length<6)return null;let E=0,$=0;for(const Se of j)E+=Se.x,$+=Se.y;const U=E/j.length,Y=$/j.length;let F=0;for(const Se of j){const us=Math.sqrt((Se.x-U)**2+(Se.y-Y)**2);us>F&&(F=us)}const M=F>0?F:1,A=j.map(Se=>({x:(Se.x-U)/M,y:(Se.y-Y)/M}));let B=A.length,V=0,W=0,te=0,oe=0,je=0;for(const Se of A)V+=Se.x,W+=Se.y,te+=Se.x*Se.x,oe+=Se.y*Se.y,je+=Se.x*Se.y;const le=te/B-(V/B)**2,Ne=oe/B-(W/B)**2,Be=je/B-V/B*(W/B),q=Math.sqrt((le-Ne)**2+4*Be**2),Tt=(le+Ne+q)/2,ve=(le+Ne-q)/2;if(Tt<=0||ve<=0)return null;const Ct=Math.sqrt(Tt)*M*2,Pt=Math.sqrt(ve)*M*2;let ur=0;return Be!==0?ur=.5*Math.atan2(2*Be,le-Ne):le<Ne&&(ur=Math.PI/2),{centerX:U,centerY:Y,radiusX:Math.max(Ct,Pt),radiusY:Math.min(Ct,Pt),rotation:ur}},[]),$e=N.useCallback((j,E,$)=>{const U=Math.min(j.radiusX,j.radiusY)/Math.max(j.radiusX,j.radiusY);if(U<.6||U>1)return 0;const Y=(j.radiusX+j.radiusY)/2,F=Math.min(E,$),M=Y/F;if(M<.1||M>.5)return 0;const A=Math.abs(j.centerX-E/2)/E,B=Math.abs(j.centerY-$/2)/$;if(A>.4||B>.4)return 0;let V=0;return V+=U*40,V+=(1-Math.abs(M-.3)*2)*30,V+=(1-A-B)*30,Math.max(0,Math.min(100,V))},[]),_e=N.useCallback(j=>{const E=J.current;for(E.push(j);E.length>10;)E.shift();if(E.length<3)return j;let $=0,U=0,Y=0,F=0,M=0;for(const A of E)$+=A.centerX,U+=A.centerY,Y+=A.radiusX,F+=A.radiusY,M+=A.rotation;return{centerX:$/E.length,centerY:U/E.length,radiusX:Y/E.length,radiusY:F/E.length,rotation:M/E.length}},[]),I=N.useCallback((j,E)=>{const $=j.x-E.centerX,U=j.y-E.centerY,Y=Math.cos(-E.rotation),F=Math.sin(-E.rotation),M=$*Y-U*F,A=$*F+U*Y,B=M/E.radiusX,V=A/E.radiusY,W=Math.sqrt(B*B+V*V);let te=Math.atan2(B,-V)*(180/Math.PI);return te<0&&(te+=360),te=(te+S.current.rotationOffset+360)%360,{r:W,theta:te}},[]),H=N.useCallback(j=>{const{r:E,theta:$}=j;if(E>uu*1.05)return{value:0,multiplier:0,points:0};if(E<=iu)return{value:50,multiplier:2,points:50};if(E<=ou)return{value:25,multiplier:1,points:25};const U=($+kr/2)%360,Y=Math.floor(U/kr)%20,F=su[Y];let M=1;return E>=cu&&E<=uu?M=2:E>=lu&&E<=au&&(M=3),{value:F,multiplier:M,points:F*M}},[]),G=N.useCallback((j,E,$)=>{const{width:U,height:Y,data:F}=j,M=E.data,A=Math.max($.radiusX,$.radiusY)*1.1,B=Math.max(0,Math.floor($.centerX-A)),V=Math.min(U,Math.ceil($.centerX+A)),W=Math.max(0,Math.floor($.centerY-A)),te=Math.min(Y,Math.ceil($.centerY+A)),oe=[];for(let ve=W;ve<te;ve++)for(let Ct=B;Ct<V;Ct++){const Pt=(ve*U+Ct)*4,ur=Math.abs(F[Pt]-M[Pt]),Se=Math.abs(F[Pt+1]-M[Pt+1]),us=Math.abs(F[Pt+2]-M[Pt+2]);(ur+Se+us)/3>sy&&I({x:Ct,y:ve},$).r<1.1&&oe.push({x:Ct,y:ve})}if(oe.length<ry||oe.length>5e3)return null;let je=0,le=0;for(const ve of oe)je+=ve.x,le+=ve.y;je/oe.length,le/oe.length;const Ne=oe.map(ve=>({point:ve,dist:Math.sqrt((ve.x-$.centerX)**2+(ve.y-$.centerY)**2)})).sort((ve,Ct)=>ve.dist-Ct.dist),Be=Ne.slice(0,Math.max(5,Math.floor(Ne.length*.1)));let q=0,Tt=0;for(const ve of Be)q+=ve.point.x,Tt+=ve.point.y;return{x:q/Be.length,y:Tt/Be.length}},[I]),re=N.useCallback((j,E,$,U)=>{j.save(),j.translate(E.centerX,E.centerY),j.rotate(E.rotation);const Y=$?"rgba(0, 255, 0":"rgba(255, 255, 0";j.strokeStyle=`${Y}, 0.8)`,j.lineWidth=3,j.beginPath(),j.ellipse(0,0,E.radiusX,E.radiusY,0,0,Math.PI*2),j.stroke();const F=[cu,au,lu,ou,iu];j.strokeStyle=`${Y}, 0.4)`,j.lineWidth=1;for(const A of F)j.beginPath(),j.ellipse(0,0,E.radiusX*A,E.radiusY*A,0,0,Math.PI*2),j.stroke();for(let A=0;A<20;A++){const B=(A*kr-U)*Math.PI/180-Math.PI/2;j.beginPath(),j.moveTo(0,0),j.lineTo(Math.cos(B)*E.radiusX,Math.sin(B)*E.radiusY),j.stroke()}j.fillStyle=`${Y}, 0.9)`,j.font=`bold ${Math.round(Math.min(E.radiusX,E.radiusY)*.1)}px Arial`,j.textAlign="center",j.textBaseline="middle";for(let A=0;A<20;A++){const B=(A*kr-U+kr/2)*Math.PI/180-Math.PI/2,V=Math.min(E.radiusX,E.radiusY)*1.15,W=Math.cos(B)*V,te=Math.sin(B)*V;j.fillText(su[A].toString(),W,te)}j.strokeStyle=`${Y}, 0.9)`,j.lineWidth=2;const M=15;j.beginPath(),j.moveTo(-M,0),j.lineTo(M,0),j.moveTo(0,-M),j.lineTo(0,M),j.stroke(),j.restore()},[]),fe=N.useCallback((j,E,$)=>{j.fillStyle="rgba(255, 0, 0, 0.9)",j.beginPath(),j.arc(E.x,E.y,10,0,Math.PI*2),j.fill(),j.strokeStyle="rgba(255, 255, 0, 0.9)",j.lineWidth=3,j.beginPath(),j.arc(E.x,E.y,18,0,Math.PI*2),j.stroke();const U=$.multiplier===3?"T":$.multiplier===2?"D":"";j.fillStyle="white",j.font="bold 18px Arial",j.textAlign="center",j.fillText(`${U}${$.value}`,E.x,E.y-30)},[]),Et=N.useCallback(j=>{try{const E=JSON.parse(localStorage.getItem("mobile_hits")||"[]");E.push(j),localStorage.setItem("mobile_hits",JSON.stringify(E)),window.dispatchEvent(new CustomEvent("dartHit",{detail:j}))}catch(E){console.error("Error sending hit:",E)}},[]);N.useEffect(()=>((async()=>{try{if(window.location.protocol!=="https:"&&window.location.hostname!=="localhost"){d(" HTTPS erforderlich");return}const E=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720},frameRate:{ideal:30}}});e.current&&(e.current.srcObject=E,await e.current.play(),s(!0),o(!0),d(" Kamera aktiv - Dartscheibe wird gesucht..."))}catch(E){o(!1),console.error("Camera error:",E),d(" Kamera-Zugriff verweigert")}})(),()=>{var E;(E=e.current)!=null&&E.srcObject&&e.current.srcObject.getTracks().forEach($=>$.stop())}),[]),N.useEffect(()=>{if(!r)return;const j=t.current,E=n.current;if(!j||!E)return;const $=j.getContext("2d",{willReadFrequently:!0}),U=E.getContext("2d");if(!$||!U)return;let Y;const F=()=>{const M=e.current;if(!M||M.videoWidth===0){Y=requestAnimationFrame(F);return}const A=M.videoWidth,B=M.videoHeight;switch(j.width=A,j.height=B,E.width=A,E.height=B,$.drawImage(M,0,0),U.clearRect(0,0,A,B),_.current++,a){case"auto-detecting":{if(_.current%5===0){const V=$.getImageData(0,0,A,B),W=O(V),te=R(W,A,B,5),oe=L(te,A,B);if(oe&&oe.area>1e3){const je=Z(te,A,B,oe);if(je.length>20){const le=K(je);if(le){const Ne=$e(le,A,B);if(b(Ne),Ne>50){const Be=_e(le);S.current.ellipse=Be,re(U,Be,!1,y),Ne>70?d(" Dartscheibe erkannt! Tippe zum Besttigen"):d(" Dartscheibe wird erkannt...")}}}}else d(" Suche Dartscheibe..."),b(0)}else S.current.ellipse&&re(U,S.current.ellipse,!1,y);break}case"manual-adjust":{re(U,x,!1,y),d(" Ellipse manuell anpassen");break}case"confirming":{const V=S.current.ellipse||x;re(U,V,!1,y),d("Kalibrierung besttigt - Referenzbild wird erstellt..."),C.current=$.getImageData(0,0,A,B),S.current={ellipse:V,isCalibrated:!0,rotationOffset:y},l("active"),d(" Bereit! Wirf deinen Dart!"),setTimeout(()=>d(""),2e3);break}case"active":{const V=S.current.ellipse;if(!V||!C.current){l("auto-detecting");break}re(U,V,!0,S.current.rotationOffset);const W=Date.now();if(W-w.current<ny)break;if(_.current%2===0){const te=$.getImageData(0,0,A,B),oe=G(te,C.current,V);if(oe){const je=I(oe,V),le=H(je);if(le.points>0){const Ne={x:oe.x,y:oe.y,polar:je,...le,timestamp:W};Et(Ne),w.current=W,f(q=>q+1),g(Ne);const Be=le.multiplier===3?"T":le.multiplier===2?"D":"";d(` ${Be}${le.value} = ${le.points} Punkte!`),fe(U,oe,le),setTimeout(()=>{if(e.current&&t.current){const q=t.current.getContext("2d");q&&(q.drawImage(e.current,0,0),C.current=q.getImageData(0,0,A,B))}d("")},2500)}}}break}}Y=requestAnimationFrame(F)};return Y=requestAnimationFrame(F),()=>cancelAnimationFrame(Y)},[r,a,y,x,O,R,L,Z,K,$e,_e,re,fe,G,I,H,Et]);const it=()=>{a==="auto-detecting"&&S.current.ellipse?l("confirming"):a==="manual-adjust"&&(S.current.ellipse=x,l("confirming"))},cr=()=>{const j=e.current;j&&m({centerX:j.videoWidth/2,centerY:j.videoHeight/2,radiusX:Math.min(j.videoWidth,j.videoHeight)*.35,radiusY:Math.min(j.videoWidth,j.videoHeight)*.35,rotation:0}),l("manual-adjust")},kt=()=>{S.current={ellipse:null,isCalibrated:!1,rotationOffset:0},C.current=null,J.current=[],l("auto-detecting"),b(0),d(" Suche Dartscheibe...")},Ze=(j,E)=>{m($=>({...$,[j]:$[j]+E}))};return c.jsxs("div",{className:"h-screen w-screen bg-black flex flex-col overflow-hidden",children:[c.jsxs("div",{className:"bg-gray-900 px-4 py-2 flex items-center justify-between flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ts,{size:20,className:"text-accent"}),c.jsx("span",{className:"text-white font-bold text-sm",children:"Dart Camera V3"}),v>0&&a==="auto-detecting"&&c.jsxs("span",{className:`text-xs px-2 py-0.5 rounded ${v>70?"bg-green-600":v>50?"bg-yellow-600":"bg-red-600"}`,children:[Math.round(v),"%"]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[i?c.jsx(ki,{size:18,className:"text-green-500"}):c.jsx(Bf,{size:18,className:"text-red-500"}),c.jsxs("span",{className:"text-green-400 font-mono text-sm",children:[p," Hits"]})]})]}),c.jsxs("div",{className:"flex-1 relative bg-black overflow-hidden",children:[c.jsx("video",{ref:e,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),c.jsx("canvas",{ref:t,className:"hidden"}),c.jsx("canvas",{ref:n,className:"absolute inset-0 w-full h-full pointer-events-none"}),u&&c.jsx("div",{className:`absolute top-2 left-2 right-2 px-4 py-2 rounded-lg text-center font-bold text-sm ${a==="active"?"bg-green-600 text-white":"bg-yellow-500 text-black"}`,children:u}),h&&a==="active"&&c.jsx("div",{className:"absolute bottom-20 left-4 right-4 bg-gray-900/90 text-white px-4 py-3 rounded-lg",children:c.jsxs("div",{className:"text-center",children:[c.jsxs("span",{className:"text-2xl font-bold text-yellow-400",children:[h.multiplier===3?"T":h.multiplier===2?"D":"",h.value]}),c.jsxs("span",{className:"text-xl ml-2",children:["= ",h.points," Punkte"]})]})})]}),a==="manual-adjust"&&c.jsxs("div",{className:"bg-gray-900 px-4 py-3 border-t border-gray-700 space-y-3 flex-shrink-0",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsxs("button",{onClick:()=>Ze("centerX",-10),className:"p-2 bg-gray-700 rounded",children:[c.jsx(Ts,{size:16,className:"mx-auto"})," "]}),c.jsxs("button",{onClick:()=>Ze("centerY",-10),className:"p-2 bg-gray-700 rounded",children:[c.jsx(Ts,{size:16,className:"mx-auto"})," "]}),c.jsxs("button",{onClick:()=>Ze("centerX",10),className:"p-2 bg-gray-700 rounded",children:[c.jsx(Ts,{size:16,className:"mx-auto"})," "]}),c.jsxs("button",{onClick:()=>Ze("radiusX",-10),className:"p-2 bg-gray-700 rounded",children:[c.jsx(Kc,{size:16,className:"mx-auto"})," W"]}),c.jsxs("button",{onClick:()=>Ze("centerY",10),className:"p-2 bg-gray-700 rounded",children:[c.jsx(Ts,{size:16,className:"mx-auto"})," "]}),c.jsxs("button",{onClick:()=>Ze("radiusX",10),className:"p-2 bg-gray-700 rounded",children:[c.jsx(Qc,{size:16,className:"mx-auto"})," W"]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>Ze("radiusY",-10),className:"flex-1 p-2 bg-gray-700 rounded text-sm",children:[c.jsx(Kc,{size:14,className:"inline mr-1"})," Hhe"]}),c.jsxs("button",{onClick:()=>Ze("radiusY",10),className:"flex-1 p-2 bg-gray-700 rounded text-sm",children:[c.jsx(Qc,{size:14,className:"inline mr-1"})," Hhe"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-white text-sm",children:"20 bei:"}),c.jsx("input",{type:"range",min:"0",max:"360",value:y,onChange:j=>k(parseInt(j.target.value)),className:"flex-1"}),c.jsxs("span",{className:"text-white text-sm w-12",children:[y,""]})]})]}),c.jsxs("div",{className:"bg-gray-900 px-4 py-3 border-t border-gray-700 flex-shrink-0",children:[a==="auto-detecting"&&c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:it,disabled:v<50,className:"flex-1 py-3 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 disabled:text-gray-400 text-white font-bold rounded-lg flex items-center justify-center gap-2",children:[c.jsx(ir,{size:18})," Besttigen"]}),c.jsxs("button",{onClick:cr,className:"flex-1 py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg flex items-center justify-center gap-2",children:[c.jsx(cs,{size:18})," Manuell"]})]}),a==="manual-adjust"&&c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:it,className:"flex-1 py-3 bg-green-600 hover:bg-green-700 text-white font-bold rounded-lg flex items-center justify-center gap-2",children:[c.jsx(ir,{size:18})," Besttigen"]}),c.jsx("button",{onClick:kt,className:"py-3 px-4 bg-gray-600 hover:bg-gray-500 text-white font-medium rounded-lg",children:c.jsx(ft,{size:18})})]}),a==="active"&&c.jsx("div",{className:"flex gap-2",children:c.jsxs("button",{onClick:kt,className:"flex-1 py-3 bg-gray-700 hover:bg-gray-600 text-white font-medium rounded-lg flex items-center justify-center gap-2",children:[c.jsx(ft,{size:18})," Neu kalibrieren"]})})]})]})}class oy{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(t){this.flush(),this._parts.push(t)}append(t){this._pieces.push(t)}flush(){if(this._pieces.length>0){const t=new Uint8Array(this._pieces);this._parts.push(t),this._pieces=[]}}toArrayBuffer(){const t=[];for(const n of this._parts)t.push(n);return ly(t).buffer}}function ly(e){let t=0;for(const s of e)t+=s.byteLength;const n=new Uint8Array(t);let r=0;for(const s of e){const i=new Uint8Array(s.buffer,s.byteOffset,s.byteLength);n.set(i,r),r+=s.byteLength}return n}function sp(e){return new ay(e).unpack()}function ip(e){const t=new cy,n=t.pack(e);return n instanceof Promise?n.then(()=>t.getBuffer()):t.getBuffer()}class ay{constructor(t){this.index=0,this.dataBuffer=t,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const t=this.unpack_uint8();if(t<128)return t;if((t^224)<32)return(t^224)-32;let n;if((n=t^160)<=15)return this.unpack_raw(n);if((n=t^176)<=15)return this.unpack_string(n);if((n=t^144)<=15)return this.unpack_array(n);if((n=t^128)<=15)return this.unpack_map(n);switch(t){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return n=this.unpack_uint16(),this.unpack_string(n);case 217:return n=this.unpack_uint32(),this.unpack_string(n);case 218:return n=this.unpack_uint16(),this.unpack_raw(n);case 219:return n=this.unpack_uint32(),this.unpack_raw(n);case 220:return n=this.unpack_uint16(),this.unpack_array(n);case 221:return n=this.unpack_uint32(),this.unpack_array(n);case 222:return n=this.unpack_uint16(),this.unpack_map(n);case 223:return n=this.unpack_uint32(),this.unpack_map(n)}}unpack_uint8(){const t=this.dataView[this.index]&255;return this.index++,t}unpack_uint16(){const t=this.read(2),n=(t[0]&255)*256+(t[1]&255);return this.index+=2,n}unpack_uint32(){const t=this.read(4),n=((t[0]*256+t[1])*256+t[2])*256+t[3];return this.index+=4,n}unpack_uint64(){const t=this.read(8),n=((((((t[0]*256+t[1])*256+t[2])*256+t[3])*256+t[4])*256+t[5])*256+t[6])*256+t[7];return this.index+=8,n}unpack_int8(){const t=this.unpack_uint8();return t<128?t:t-256}unpack_int16(){const t=this.unpack_uint16();return t<32768?t:t-65536}unpack_int32(){const t=this.unpack_uint32();return t<2**31?t:t-2**32}unpack_int64(){const t=this.unpack_uint64();return t<2**63?t:t-2**64}unpack_raw(t){if(this.length<this.index+t)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${t} ${this.length}`);const n=this.dataBuffer.slice(this.index,this.index+t);return this.index+=t,n}unpack_string(t){const n=this.read(t);let r=0,s="",i,o;for(;r<t;)i=n[r],i<160?(o=i,r++):(i^192)<32?(o=(i&31)<<6|n[r+1]&63,r+=2):(i^224)<16?(o=(i&15)<<12|(n[r+1]&63)<<6|n[r+2]&63,r+=3):(o=(i&7)<<18|(n[r+1]&63)<<12|(n[r+2]&63)<<6|n[r+3]&63,r+=4),s+=String.fromCodePoint(o);return this.index+=t,s}unpack_array(t){const n=new Array(t);for(let r=0;r<t;r++)n[r]=this.unpack();return n}unpack_map(t){const n={};for(let r=0;r<t;r++){const s=this.unpack();n[s]=this.unpack()}return n}unpack_float(){const t=this.unpack_uint32(),n=t>>31,r=(t>>23&255)-127,s=t&8388607|8388608;return(n===0?1:-1)*s*2**(r-23)}unpack_double(){const t=this.unpack_uint32(),n=this.unpack_uint32(),r=t>>31,s=(t>>20&2047)-1023,o=(t&1048575|1048576)*2**(s-20)+n*2**(s-52);return(r===0?1:-1)*o}read(t){const n=this.index;if(n+t<=this.length)return this.dataView.subarray(n,n+t);throw new Error("BinaryPackFailure: read index out of range")}}class cy{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(t){if(typeof t=="string")this.pack_string(t);else if(typeof t=="number")Math.floor(t)===t?this.pack_integer(t):this.pack_double(t);else if(typeof t=="boolean")t===!0?this._bufferBuilder.append(195):t===!1&&this._bufferBuilder.append(194);else if(t===void 0)this._bufferBuilder.append(192);else if(typeof t=="object")if(t===null)this._bufferBuilder.append(192);else{const n=t.constructor;if(t instanceof Array){const r=this.pack_array(t);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else if(t instanceof ArrayBuffer)this.pack_bin(new Uint8Array(t));else if("BYTES_PER_ELEMENT"in t){const r=t;this.pack_bin(new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}else if(t instanceof Date)this.pack_string(t.toString());else{if(t instanceof Blob)return t.arrayBuffer().then(r=>{this.pack_bin(new Uint8Array(r)),this._bufferBuilder.flush()});if(n==Object||n.toString().startsWith("class")){const r=this.pack_object(t);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${n.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof t}" not yet supported`);this._bufferBuilder.flush()}pack_bin(t){const n=t.length;if(n<=15)this.pack_uint8(160+n);else if(n<=65535)this._bufferBuilder.append(218),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(t)}pack_string(t){const n=this._textEncoder.encode(t),r=n.length;if(r<=15)this.pack_uint8(176+r);else if(r<=65535)this._bufferBuilder.append(216),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(r);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_array(t){const n=t.length;if(n<=15)this.pack_uint8(144+n);else if(n<=65535)this._bufferBuilder.append(220),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(n);else throw new Error("Invalid length");const r=s=>{if(s<n){const i=this.pack(t[s]);return i instanceof Promise?i.then(()=>r(s+1)):r(s+1)}};return r(0)}pack_integer(t){if(t>=-32&&t<=127)this._bufferBuilder.append(t&255);else if(t>=0&&t<=255)this._bufferBuilder.append(204),this.pack_uint8(t);else if(t>=-128&&t<=127)this._bufferBuilder.append(208),this.pack_int8(t);else if(t>=0&&t<=65535)this._bufferBuilder.append(205),this.pack_uint16(t);else if(t>=-32768&&t<=32767)this._bufferBuilder.append(209),this.pack_int16(t);else if(t>=0&&t<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(t);else if(t>=-2147483648&&t<=2147483647)this._bufferBuilder.append(210),this.pack_int32(t);else if(t>=-9223372036854776e3&&t<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(t);else if(t>=0&&t<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(t);else throw new Error("Invalid integer")}pack_double(t){let n=0;t<0&&(n=1,t=-t);const r=Math.floor(Math.log(t)/Math.LN2),s=t/2**r-1,i=Math.floor(s*2**52),o=2**32,a=n<<31|r+1023<<20|i/o&1048575,l=i%o;this._bufferBuilder.append(203),this.pack_int32(a),this.pack_int32(l)}pack_object(t){const n=Object.keys(t),r=n.length;if(r<=15)this.pack_uint8(128+r);else if(r<=65535)this._bufferBuilder.append(222),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(r);else throw new Error("Invalid length");const s=i=>{if(i<n.length){const o=n[i];if(t.hasOwnProperty(o)){this.pack(o);const a=this.pack(t[o]);if(a instanceof Promise)return a.then(()=>s(i+1))}return s(i+1)}};return s(0)}pack_uint8(t){this._bufferBuilder.append(t)}pack_uint16(t){this._bufferBuilder.append(t>>8),this._bufferBuilder.append(t&255)}pack_uint32(t){const n=t&4294967295;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_uint64(t){const n=t/4294967296,r=t%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}pack_int8(t){this._bufferBuilder.append(t&255)}pack_int16(t){this._bufferBuilder.append((t&65280)>>8),this._bufferBuilder.append(t&255)}pack_int32(t){this._bufferBuilder.append(t>>>24&255),this._bufferBuilder.append((t&16711680)>>>16),this._bufferBuilder.append((t&65280)>>>8),this._bufferBuilder.append(t&255)}pack_int64(t){const n=Math.floor(t/4294967296),r=t%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}constructor(){this._bufferBuilder=new oy,this._textEncoder=new TextEncoder}}let op=!0,lp=!0;function jr(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseFloat(r[n],10)}function Nn(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,s=r.addEventListener;r.addEventListener=function(o,a){if(o!==t)return s.apply(this,arguments);const l=u=>{const d=n(u);d&&(a.handleEvent?a.handleEvent(d):a(d))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(a,l),s.apply(this,[o,l])};const i=r.removeEventListener;r.removeEventListener=function(o,a){if(o!==t||!this._eventMap||!this._eventMap[t])return i.apply(this,arguments);if(!this._eventMap[t].has(a))return i.apply(this,arguments);const l=this._eventMap[t].get(a);return this._eventMap[t].delete(a),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,i.apply(this,[o,l])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(o){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),o&&this.addEventListener(t,this["_on"+t]=o)},enumerable:!0,configurable:!0})}function uy(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(op=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function dy(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(lp=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function ap(){if(typeof window=="object"){if(op)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Na(e,t){lp&&console.warn(e+" is deprecated, please use "+t+" instead.")}function fy(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.userAgentData&&n.userAgentData.brands){const r=n.userAgentData.brands.find(s=>s.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(n.mozGetUserMedia)t.browser="firefox",t.version=parseInt(jr(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=parseInt(jr(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(e.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=parseInt(jr(n.userAgent,/AppleWebKit\/(\d+)\./,1)),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype,t._safariVersion=jr(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return t.browser="Not a supported browser.",t;return t}function du(e){return Object.prototype.toString.call(e)==="[object Object]"}function cp(e){return du(e)?Object.keys(e).reduce(function(t,n){const r=du(e[n]),s=r?cp(e[n]):e[n],i=r&&!Object.keys(s).length;return s===void 0||i?t:Object.assign(t,{[n]:s})},{}):e}function vl(e,t,n){!t||n.has(t.id)||(n.set(t.id,t),Object.keys(t).forEach(r=>{r.endsWith("Id")?vl(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach(s=>{vl(e,e.get(s),n)})}))}function fu(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",s=new Map;if(t===null)return s;const i=[];return e.forEach(o=>{o.type==="track"&&o.trackIdentifier===t.id&&i.push(o)}),i.forEach(o=>{e.forEach(a=>{a.type===r&&a.trackId===o.id&&vl(e,a,s)})}),s}const pu=ap;function up(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const l={};return Object.keys(a).forEach(u=>{if(u==="require"||u==="advanced"||u==="mediaSource")return;const d=typeof a[u]=="object"?a[u]:{ideal:a[u]};d.exact!==void 0&&typeof d.exact=="number"&&(d.min=d.max=d.exact);const p=function(f,h){return f?f+h.charAt(0).toUpperCase()+h.slice(1):h==="deviceId"?"sourceId":h};if(d.ideal!==void 0){l.optional=l.optional||[];let f={};typeof d.ideal=="number"?(f[p("min",u)]=d.ideal,l.optional.push(f),f={},f[p("max",u)]=d.ideal,l.optional.push(f)):(f[p("",u)]=d.ideal,l.optional.push(f))}d.exact!==void 0&&typeof d.exact!="number"?(l.mandatory=l.mandatory||{},l.mandatory[p("",u)]=d.exact):["min","max"].forEach(f=>{d[f]!==void 0&&(l.mandatory=l.mandatory||{},l.mandatory[p(f,u)]=d[f])})}),a.advanced&&(l.optional=(l.optional||[]).concat(a.advanced)),l},s=function(a,l){if(t.version>=61)return l(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){const u=function(d,p,f){p in d&&!(f in d)&&(d[f]=d[p],delete d[p])};a=JSON.parse(JSON.stringify(a)),u(a.audio,"autoGainControl","googAutoGainControl"),u(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=r(a.audio)}if(a&&typeof a.video=="object"){let u=a.video.facingMode;u=u&&(typeof u=="object"?u:{ideal:u});const d=t.version<66;if(u&&(u.exact==="user"||u.exact==="environment"||u.ideal==="user"||u.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!d)){delete a.video.facingMode;let p;if(u.exact==="environment"||u.ideal==="environment"?p=["back","rear"]:(u.exact==="user"||u.ideal==="user")&&(p=["front"]),p)return n.mediaDevices.enumerateDevices().then(f=>{f=f.filter(g=>g.kind==="videoinput");let h=f.find(g=>p.some(v=>g.label.toLowerCase().includes(v)));return!h&&f.length&&p.includes("back")&&(h=f[f.length-1]),h&&(a.video.deviceId=u.exact?{exact:h.deviceId}:{ideal:h.deviceId}),a.video=r(a.video),pu("chrome: "+JSON.stringify(a)),l(a)})}a.video=r(a.video)}return pu("chrome: "+JSON.stringify(a)),l(a)},i=function(a){return t.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},o=function(a,l,u){s(a,d=>{n.webkitGetUserMedia(d,l,p=>{u&&u(i(p))})})};if(n.getUserMedia=o.bind(n),n.mediaDevices.getUserMedia){const a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(l){return s(l,u=>a(u).then(d=>{if(u.audio&&!d.getAudioTracks().length||u.video&&!d.getVideoTracks().length)throw d.getTracks().forEach(p=>{p.stop()}),new DOMException("","NotFoundError");return d},d=>Promise.reject(i(d))))}}}function dp(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function fp(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",s=>{let i;e.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(a=>a.track&&a.track.id===s.track.id):i={track:s.track};const o=new Event("track");o.track=s.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[r.stream],this.dispatchEvent(o)}),r.stream.getTracks().forEach(s=>{let i;e.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(a=>a.track&&a.track.id===s.id):i={track:s};const o=new Event("track");o.track=s,o.receiver=i,o.transceiver={receiver:i},o.streams=[r.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else Nn(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function pp(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(s,i){return{track:i,get dtmf(){return this._dtmf===void 0&&(i.kind==="audio"?this._dtmf=s.createDTMFSender(i):this._dtmf=null),this._dtmf},_pc:s}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const s=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(a,l){let u=s.apply(this,arguments);return u||(u=t(this,a),this._senders.push(u)),u};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(a){i.apply(this,arguments);const l=this._senders.indexOf(a);l!==-1&&this._senders.splice(l,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(i){this._senders=this._senders||[],n.apply(this,[i]),i.getTracks().forEach(o=>{this._senders.push(t(this,o))})};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(i){this._senders=this._senders||[],r.apply(this,[i]),i.getTracks().forEach(o=>{const a=this._senders.find(l=>l.track===o);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const r=t.apply(this,[]);return r.forEach(s=>s._pc=this),r},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function hp(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const n=e.RTCPeerConnection.prototype.getSenders;n&&(e.RTCPeerConnection.prototype.getSenders=function(){const i=n.apply(this,[]);return i.forEach(o=>o._pc=this),i});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const i=r.apply(this,arguments);return i._pc=this,i}),e.RTCRtpSender.prototype.getStats=function(){const i=this;return this._pc.getStats().then(o=>fu(o,i.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){const s=n.apply(this,[]);return s.forEach(i=>i._pc=this),s}),Nn(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){const s=this;return this._pc.getStats().then(i=>fu(i,s.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const r=arguments[0];let s,i,o;return this.getSenders().forEach(a=>{a.track===r&&(s?o=!0:s=a)}),this.getReceivers().forEach(a=>(a.track===r&&(i?o=!0:i=a),a.track===r)),o||s&&i?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):s?s.getStats():i?i.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function mp(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(o,a){if(!a)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const l=t.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(l)===-1&&this._shimmedLocalStreams[a.id].push(l):this._shimmedLocalStreams[a.id]=[a,l],l};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(u=>{if(this.getSenders().find(p=>p.track===u))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();n.apply(this,arguments);const l=this.getSenders().filter(u=>a.indexOf(u)===-1);this._shimmedLocalStreams[o.id]=[o].concat(l)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],r.apply(this,arguments)};const s=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const l=this._shimmedLocalStreams[a].indexOf(o);l!==-1&&this._shimmedLocalStreams[a].splice(l,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),s.apply(this,arguments)}}function gp(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return mp(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const d=n.apply(this);return this._reverseStreams=this._reverseStreams||{},d.map(p=>this._reverseStreams[p.id])};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(d){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},d.getTracks().forEach(p=>{if(this.getSenders().find(h=>h.track===p))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[d.id]){const p=new e.MediaStream(d.getTracks());this._streams[d.id]=p,this._reverseStreams[p.id]=d,d=p}r.apply(this,[d])};const s=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(d){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},s.apply(this,[this._streams[d.id]||d]),delete this._reverseStreams[this._streams[d.id]?this._streams[d.id].id:d.id],delete this._streams[d.id]},e.RTCPeerConnection.prototype.addTrack=function(d,p){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const f=[].slice.call(arguments,1);if(f.length!==1||!f[0].getTracks().find(v=>v===d))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(v=>v.track===d))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const g=this._streams[p.id];if(g)g.addTrack(d),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const v=new e.MediaStream([d]);this._streams[p.id]=v,this._reverseStreams[v.id]=p,this.addStream(v)}return this.getSenders().find(v=>v.track===d)};function i(u,d){let p=d.sdp;return Object.keys(u._reverseStreams||[]).forEach(f=>{const h=u._reverseStreams[f],g=u._streams[h.id];p=p.replace(new RegExp(g.id,"g"),h.id)}),new RTCSessionDescription({type:d.type,sdp:p})}function o(u,d){let p=d.sdp;return Object.keys(u._reverseStreams||[]).forEach(f=>{const h=u._reverseStreams[f],g=u._streams[h.id];p=p.replace(new RegExp(h.id,"g"),g.id)}),new RTCSessionDescription({type:d.type,sdp:p})}["createOffer","createAnswer"].forEach(function(u){const d=e.RTCPeerConnection.prototype[u],p={[u](){const f=arguments;return arguments.length&&typeof arguments[0]=="function"?d.apply(this,[g=>{const v=i(this,g);f[0].apply(null,[v])},g=>{f[1]&&f[1].apply(null,g)},arguments[2]]):d.apply(this,arguments).then(g=>i(this,g))}};e.RTCPeerConnection.prototype[u]=p[u]});const a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=o(this,arguments[0]),a.apply(this,arguments))};const l=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const u=l.get.apply(this);return u.type===""?u:i(this,u)}}),e.RTCPeerConnection.prototype.removeTrack=function(d){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!d._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(d._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let f;Object.keys(this._streams).forEach(h=>{this._streams[h].getTracks().find(v=>d.track===v)&&(f=this._streams[h])}),f&&(f.getTracks().length===1?this.removeStream(this._reverseStreams[f.id]):f.removeTrack(d.track),this.dispatchEvent(new Event("negotiationneeded")))}}function kl(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=e.RTCPeerConnection.prototype[n],s={[n](){return arguments[0]=new(n==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[n]=s[n]})}function yp(e,t){Nn(e,"negotiationneeded",n=>{const r=n.target;if(!((t.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const hu=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:yp,shimAddTrackRemoveTrack:gp,shimAddTrackRemoveTrackWithNative:mp,shimGetSendersWithDtmf:pp,shimGetUserMedia:up,shimMediaStream:dp,shimOnTrack:fp,shimPeerConnection:kl,shimSenderReceiverGetStats:hp},Symbol.toStringTag,{value:"Module"}));function xp(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(s,i,o){Na("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(s).then(i,o)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const s=function(o,a,l){a in o&&!(l in o)&&(o[l]=o[a],delete o[a])},i=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(o){return typeof o=="object"&&typeof o.audio=="object"&&(o=JSON.parse(JSON.stringify(o)),s(o.audio,"autoGainControl","mozAutoGainControl"),s(o.audio,"noiseSuppression","mozNoiseSuppression")),i(o)},r&&r.prototype.getSettings){const o=r.prototype.getSettings;r.prototype.getSettings=function(){const a=o.apply(this,arguments);return s(a,"mozAutoGainControl","autoGainControl"),s(a,"mozNoiseSuppression","noiseSuppression"),a}}if(r&&r.prototype.applyConstraints){const o=r.prototype.applyConstraints;r.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),s(a,"autoGainControl","mozAutoGainControl"),s(a,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[a])}}}}function py(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const s=new DOMException("getDisplayMedia without video constraints is undefined");return s.name="NotFoundError",s.code=8,Promise.reject(s)}return r.video===!0?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}function vp(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Cl(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(s){const i=e.RTCPeerConnection.prototype[s],o={[s](){return arguments[0]=new(s==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};e.RTCPeerConnection.prototype[s]=o[s]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[i,o,a]=arguments;return r.apply(this,[i||null]).then(l=>{if(t.version<53&&!o)try{l.forEach(u=>{u.type=n[u.type]||u.type})}catch(u){if(u.name!=="TypeError")throw u;l.forEach((d,p)=>{l.set(p,Object.assign({},d,{type:n[d.type]||d.type}))})}return l}).then(o,a)}}function kp(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const s=t.apply(this,[]);return s.forEach(i=>i._pc=this),s});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const s=n.apply(this,arguments);return s._pc=this,s}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Cp(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const r=t.apply(this,[]);return r.forEach(s=>s._pc=this),r}),Nn(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Sp(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){Na("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function bp(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function wp(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const s=r.length>0;s&&r.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const i=t.apply(this,arguments);if(s){const{sender:o}=i,a=o.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=r,o.sendEncodings=r,this.setParametersPromises.push(o.setParameters(a).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return i})}function _p(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const r=t.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function jp(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function Np(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const mu=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:wp,shimCreateAnswer:Np,shimCreateOffer:jp,shimGetDisplayMedia:py,shimGetParameters:_p,shimGetUserMedia:xp,shimOnTrack:vp,shimPeerConnection:Cl,shimRTCDataChannel:bp,shimReceiverGetStats:Cp,shimRemoveStream:Sp,shimSenderGetStats:kp},Symbol.toStringTag,{value:"Module"}));function Ep(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(s=>t.call(this,s,r)),r.getVideoTracks().forEach(s=>t.call(this,s,r))},e.RTCPeerConnection.prototype.addTrack=function(r,...s){return s&&s.forEach(i=>{this._localStreams?this._localStreams.includes(i)||this._localStreams.push(i):this._localStreams=[i]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const s=n.getTracks();this.getSenders().forEach(i=>{s.includes(i.track)&&this.removeTrack(i)})})}}function Tp(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(s=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(s))return;this._remoteStreams.push(s);const i=new Event("addstream");i.stream=s,this.dispatchEvent(i)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(s){s.streams.forEach(i=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(i)>=0)return;r._remoteStreams.push(i);const o=new Event("addstream");o.stream=i,r.dispatchEvent(o)})}),t.apply(r,arguments)}}}function Pp(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,s=t.setLocalDescription,i=t.setRemoteDescription,o=t.addIceCandidate;t.createOffer=function(u,d){const p=arguments.length>=2?arguments[2]:arguments[0],f=n.apply(this,[p]);return d?(f.then(u,d),Promise.resolve()):f},t.createAnswer=function(u,d){const p=arguments.length>=2?arguments[2]:arguments[0],f=r.apply(this,[p]);return d?(f.then(u,d),Promise.resolve()):f};let a=function(l,u,d){const p=s.apply(this,[l]);return d?(p.then(u,d),Promise.resolve()):p};t.setLocalDescription=a,a=function(l,u,d){const p=i.apply(this,[l]);return d?(p.then(u,d),Promise.resolve()):p},t.setRemoteDescription=a,a=function(l,u,d){const p=o.apply(this,[l]);return d?(p.then(u,d),Promise.resolve()):p},t.addIceCandidate=a}function Rp(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=s=>r(Mp(s))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(r,s,i){t.mediaDevices.getUserMedia(r).then(s,i)}).bind(t))}function Mp(e){return e&&e.video!==void 0?Object.assign({},e,{video:cp(e.video)}):e}function Ip(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(r,s){if(r&&r.iceServers){const i=[];for(let o=0;o<r.iceServers.length;o++){let a=r.iceServers[o];a.urls===void 0&&a.url?(Na("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,i.push(a)):i.push(r.iceServers[o])}r.iceServers=i}return new t(r,s)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function Ap(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Dp(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const s=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):r.offerToReceiveAudio===!0&&!s&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const i=this.getTransceivers().find(o=>o.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveVideo===!0&&!i&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function Op(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const gu=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:Op,shimCallbacksAPI:Pp,shimConstraints:Mp,shimCreateOfferLegacy:Dp,shimGetUserMedia:Rp,shimLocalStreamsAPI:Ep,shimRTCIceServerUrls:Ip,shimRemoteStreamsAPI:Tp,shimTrackEventTransceiver:Ap},Symbol.toStringTag,{value:"Module"}));var Lp={exports:{}};(function(e){const t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},t.splitSections=function(n){return n.split(`
m=`).map((s,i)=>(i>0?"m="+s:s).trim()+`\r
`)},t.getDescription=function(n){const r=t.splitSections(n);return r&&r[0]},t.getMediaSections=function(n){const r=t.splitSections(n);return r.shift(),r},t.matchPrefix=function(n,r){return t.splitLines(n).filter(s=>s.indexOf(r)===0)},t.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const s={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let i=8;i<r.length;i+=2)switch(r[i]){case"raddr":s.relatedAddress=r[i+1];break;case"rport":s.relatedPort=parseInt(r[i+1],10);break;case"tcptype":s.tcpType=r[i+1];break;case"ufrag":s.ufrag=r[i+1],s.usernameFragment=r[i+1];break;default:s[r[i]]===void 0&&(s[r[i]]=r[i+1]);break}return s},t.writeCandidate=function(n){const r=[];r.push(n.foundation);const s=n.component;s==="rtp"?r.push(1):s==="rtcp"?r.push(2):r.push(s),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const i=n.type;return r.push("typ"),r.push(i),i!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},t.parseIceOptions=function(n){return n.substring(14).split(" ")},t.parseRtpMap=function(n){let r=n.substring(9).split(" ");const s={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),s.name=r[0],s.clockRate=parseInt(r[1],10),s.channels=r.length===3?parseInt(r[2],10):1,s.numChannels=s.channels,s},t.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const s=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(s!==1?"/"+s:"")+`\r
`},t.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},t.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},t.parseFmtp=function(n){const r={};let s;const i=n.substring(n.indexOf(" ")+1).split(";");for(let o=0;o<i.length;o++)s=i[o].trim().split("="),r[s[0].trim()]=s[1];return r},t.writeFmtp=function(n){let r="",s=n.payloadType;if(n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const i=[];Object.keys(n.parameters).forEach(o=>{n.parameters[o]!==void 0?i.push(o+"="+n.parameters[o]):i.push(o)}),r+="a=fmtp:"+s+" "+i.join(";")+`\r
`}return r},t.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},t.writeRtcpFb=function(n){let r="",s=n.payloadType;return n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(i=>{r+="a=rtcp-fb:"+s+" "+i.type+(i.parameter&&i.parameter.length?" "+i.parameter:"")+`\r
`}),r},t.parseSsrcMedia=function(n){const r=n.indexOf(" "),s={ssrc:parseInt(n.substring(7,r),10)},i=n.indexOf(":",r);return i>-1?(s.attribute=n.substring(r+1,i),s.value=n.substring(i+1)):s.attribute=n.substring(r+1),s},t.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(s=>parseInt(s,10))}},t.getMid=function(n){const r=t.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},t.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},t.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:t.matchPrefix(n+r,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(n,r){let s="a=setup:"+r+`\r
`;return n.fingerprints.forEach(i=>{s+="a=fingerprint:"+i.algorithm+" "+i.value+`\r
`}),s},t.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},t.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?t.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},t.getCryptoParameters=function(n,r){return t.matchPrefix(n+r,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(n,r){const s=t.matchPrefix(n+r,"a=ice-ufrag:")[0],i=t.matchPrefix(n+r,"a=ice-pwd:")[0];return s&&i?{usernameFragment:s.substring(12),password:i.substring(10)}:null},t.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},t.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=t.splitLines(n)[0].split(" ");r.profile=i[2];for(let a=3;a<i.length;a++){const l=i[a],u=t.matchPrefix(n,"a=rtpmap:"+l+" ")[0];if(u){const d=t.parseRtpMap(u),p=t.matchPrefix(n,"a=fmtp:"+l+" ");switch(d.parameters=p.length?t.parseFmtp(p[0]):{},d.rtcpFeedback=t.matchPrefix(n,"a=rtcp-fb:"+l+" ").map(t.parseRtcpFb),r.codecs.push(d),d.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(d.name.toUpperCase());break}}}t.matchPrefix(n,"a=extmap:").forEach(a=>{r.headerExtensions.push(t.parseExtmap(a))});const o=t.matchPrefix(n,"a=rtcp-fb:* ").map(t.parseRtcpFb);return r.codecs.forEach(a=>{o.forEach(l=>{a.rtcpFeedback.find(d=>d.type===l.type&&d.parameter===l.parameter)||a.rtcpFeedback.push(l)})}),r},t.writeRtpDescription=function(n,r){let s="";s+="m="+n+" ",s+=r.codecs.length>0?"9":"0",s+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",s+=r.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,s+=`c=IN IP4 0.0.0.0\r
`,s+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(o=>{s+=t.writeRtpMap(o),s+=t.writeFmtp(o),s+=t.writeRtcpFb(o)});let i=0;return r.codecs.forEach(o=>{o.maxptime>i&&(i=o.maxptime)}),i>0&&(s+="a=maxptime:"+i+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(o=>{s+=t.writeExtmap(o)}),s},t.parseRtpEncodingParameters=function(n){const r=[],s=t.parseRtpParameters(n),i=s.fecMechanisms.indexOf("RED")!==-1,o=s.fecMechanisms.indexOf("ULPFEC")!==-1,a=t.matchPrefix(n,"a=ssrc:").map(f=>t.parseSsrcMedia(f)).filter(f=>f.attribute==="cname"),l=a.length>0&&a[0].ssrc;let u;const d=t.matchPrefix(n,"a=ssrc-group:FID").map(f=>f.substring(17).split(" ").map(g=>parseInt(g,10)));d.length>0&&d[0].length>1&&d[0][0]===l&&(u=d[0][1]),s.codecs.forEach(f=>{if(f.name.toUpperCase()==="RTX"&&f.parameters.apt){let h={ssrc:l,codecPayloadType:parseInt(f.parameters.apt,10)};l&&u&&(h.rtx={ssrc:u}),r.push(h),i&&(h=JSON.parse(JSON.stringify(h)),h.fec={ssrc:l,mechanism:o?"red+ulpfec":"red"},r.push(h))}}),r.length===0&&l&&r.push({ssrc:l});let p=t.matchPrefix(n,"b=");return p.length&&(p[0].indexOf("b=TIAS:")===0?p=parseInt(p[0].substring(7),10):p[0].indexOf("b=AS:")===0?p=parseInt(p[0].substring(5),10)*1e3*.95-50*40*8:p=void 0,r.forEach(f=>{f.maxBitrate=p})),r},t.parseRtcpParameters=function(n){const r={},s=t.matchPrefix(n,"a=ssrc:").map(a=>t.parseSsrcMedia(a)).filter(a=>a.attribute==="cname")[0];s&&(r.cname=s.value,r.ssrc=s.ssrc);const i=t.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=i.length>0,r.compound=i.length===0;const o=t.matchPrefix(n,"a=rtcp-mux");return r.mux=o.length>0,r},t.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},t.parseMsid=function(n){let r;const s=t.matchPrefix(n,"a=msid:");if(s.length===1)return r=s[0].substring(7).split(" "),{stream:r[0],track:r[1]};const i=t.matchPrefix(n,"a=ssrc:").map(o=>t.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(i.length>0)return r=i[0].value.split(" "),{stream:r[0],track:r[1]}},t.parseSctpDescription=function(n){const r=t.parseMLine(n),s=t.matchPrefix(n,"a=max-message-size:");let i;s.length>0&&(i=parseInt(s[0].substring(19),10)),isNaN(i)&&(i=65536);const o=t.matchPrefix(n,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:r.fmt,maxMessageSize:i};const a=t.matchPrefix(n,"a=sctpmap:");if(a.length>0){const l=a[0].substring(10).split(" ");return{port:parseInt(l[0],10),protocol:l[1],maxMessageSize:i}}},t.writeSctpDescription=function(n,r){let s=[];return n.protocol!=="DTLS/SCTP"?s=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:s=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&s.push("a=max-message-size:"+r.maxMessageSize+`\r
`),s.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(n,r,s){let i;const o=r!==void 0?r:2;return n?i=n:i=t.generateSessionId(),`v=0\r
o=`+(s||"thisisadapterortc")+" "+i+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(n,r){const s=t.splitLines(n);for(let i=0;i<s.length;i++)switch(s[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return s[i].substring(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(n){return t.splitLines(n)[0].split(" ")[0].substring(2)},t.isRejected=function(n){return n.split(" ",2)[1]==="0"},t.parseMLine=function(n){const s=t.splitLines(n)[0].substring(2).split(" ");return{kind:s[0],port:parseInt(s[1],10),protocol:s[2],fmt:s.slice(3).join(" ")}},t.parseOLine=function(n){const s=t.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:s[0],sessionId:s[1],sessionVersion:parseInt(s[2],10),netType:s[3],addressType:s[4],address:s[5]}},t.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=t.splitLines(n);for(let s=0;s<r.length;s++)if(r[s].length<2||r[s].charAt(1)!=="=")return!1;return!0},e.exports=t})(Lp);var zp=Lp.exports;const Kn=wi(zp),hy=Wp({__proto__:null,default:Kn},[zp]);function Fs(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const s=new t(r),i=Kn.parseCandidate(r.candidate);for(const o in i)o in s||Object.defineProperty(s,o,{value:i[o]});return s.toJSON=function(){return{candidate:s.candidate,sdpMid:s.sdpMid,sdpMLineIndex:s.sdpMLineIndex,usernameFragment:s.usernameFragment}},s}return new t(r)},e.RTCIceCandidate.prototype=t.prototype,Nn(e,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new e.RTCIceCandidate(n.candidate),writable:"false"}),n))}function Sl(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||Nn(e,"icecandidate",t=>{if(t.candidate){const n=Kn.parseCandidate(t.candidate.candidate);n.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return t})}function Hs(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(a){if(!a||!a.sdp)return!1;const l=Kn.splitSections(a.sdp);return l.shift(),l.some(u=>{const d=Kn.parseMLine(u);return d&&d.kind==="application"&&d.protocol.indexOf("SCTP")!==-1})},r=function(a){const l=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(l===null||l.length<2)return-1;const u=parseInt(l[1],10);return u!==u?-1:u},s=function(a){let l=65536;return t.browser==="firefox"&&(t.version<57?a===-1?l=16384:l=2147483637:t.version<60?l=t.version===57?65535:65536:l=2147483637),l},i=function(a,l){let u=65536;t.browser==="firefox"&&t.version===57&&(u=65535);const d=Kn.matchPrefix(a.sdp,"a=max-message-size:");return d.length>0?u=parseInt(d[0].substring(19),10):t.browser==="firefox"&&l!==-1&&(u=2147483637),u},o=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:l}=this.getConfiguration();l==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const l=r(arguments[0]),u=s(l),d=i(arguments[0],l);let p;u===0&&d===0?p=Number.POSITIVE_INFINITY:u===0||d===0?p=Math.max(u,d):p=Math.min(u,d);const f={};Object.defineProperty(f,"maxMessageSize",{get(){return p}}),this._sctp=f}return o.apply(this,arguments)}}function Vs(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(r,s){const i=r.send;r.send=function(){const a=arguments[0],l=a.length||a.size||a.byteLength;if(r.readyState==="open"&&s.sctp&&l>s.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+s.sctp.maxMessageSize+" bytes)");return i.apply(r,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const s=n.apply(this,arguments);return t(s,this),s},Nn(e,"datachannel",r=>(t(r.channel,r.target),r))}function bl(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=t[n];t[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=s=>{const i=s.target;if(i._lastConnectionState!==i.connectionState){i._lastConnectionState=i.connectionState;const o=new Event("connectionstatechange",s);i.dispatchEvent(o)}return s},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function wl(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t._safariVersion>=13.1)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(s){if(s&&s.sdp&&s.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const i=s.sdp.split(`
`).filter(o=>o.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&s instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:s.type,sdp:i}):s.sdp=i}return n.apply(this,arguments)}}function Gs(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Ys(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const n=e.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(e.RTCPeerConnection.prototype.setLocalDescription=function(){let s=arguments[0]||{};if(typeof s!="object"||s.type&&s.sdp)return n.apply(this,arguments);if(s={type:s.type,sdp:s.sdp},!s.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":s.type="offer";break;default:s.type="answer";break}return s.sdp||s.type!=="offer"&&s.type!=="answer"?n.apply(this,[s]):(s.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>n.apply(this,[o]))})}const my=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:wl,shimAddIceCandidateNullOrEmpty:Gs,shimConnectionState:bl,shimMaxMessageSize:Hs,shimParameterlessSetLocalDescription:Ys,shimRTCIceCandidate:Fs,shimRTCIceCandidateRelayProtocol:Sl,shimSendThrowTypeError:Vs},Symbol.toStringTag,{value:"Module"}));function gy({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=ap,r=fy(e),s={browserDetails:r,commonShim:my,extractVersion:jr,disableLog:uy,disableWarnings:dy,sdp:hy};switch(r.browser){case"chrome":if(!hu||!kl||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),s;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),s;n("adapter.js shimming chrome."),s.browserShim=hu,Gs(e,r),Ys(e),up(e,r),dp(e),kl(e,r),fp(e),gp(e,r),pp(e),hp(e),yp(e,r),Fs(e),Sl(e),bl(e),Hs(e,r),Vs(e),wl(e,r);break;case"firefox":if(!mu||!Cl||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),s;n("adapter.js shimming firefox."),s.browserShim=mu,Gs(e,r),Ys(e),xp(e,r),Cl(e,r),vp(e),Sp(e),kp(e),Cp(e),bp(e),wp(e),_p(e),jp(e),Np(e),Fs(e),bl(e),Hs(e,r),Vs(e);break;case"safari":if(!gu||!t.shimSafari)return n("Safari shim is not included in this adapter release."),s;n("adapter.js shimming safari."),s.browserShim=gu,Gs(e,r),Ys(e),Ip(e),Dp(e),Pp(e),Ep(e),Tp(e),Ap(e),Rp(e),Op(e),Fs(e),Sl(e),Hs(e,r),Vs(e),wl(e,r);break;default:n("Unsupported browser!");break}return s}const yu=gy({window:typeof window>"u"?void 0:window});function En(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}class $p{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=t=>{const n=[],r=t.byteLength,s=Math.ceil(r/this.chunkedMTU);let i=0,o=0;for(;o<r;){const a=Math.min(r,o+this.chunkedMTU),l=t.slice(o,a),u={__peerData:this._dataCount,n:i,data:l,total:s};n.push(u),o=a,i++}return this._dataCount++,n}}}function yy(e){let t=0;for(const s of e)t+=s.byteLength;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.byteLength;return n}const Co=yu.default||yu,Cr=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const e=this.getBrowser(),t=this.getVersion();return this.supportedBrowsers.includes(e)?e==="chrome"?t>=this.minChromeVersion:e==="firefox"?t>=this.minFirefoxVersion:e==="safari"?!this.isIOS&&t>=this.minSafariVersion:!1:!1}getBrowser(){return Co.browserDetails.browser}getVersion(){return Co.browserDetails.version||0}isUnifiedPlanSupported(){const e=this.getBrowser(),t=Co.browserDetails.version||0;if(e==="chrome"&&t<this.minChromeVersion)return!1;if(e==="firefox"&&t>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,r=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),r=!0}catch{}finally{n&&n.close()}return r}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},xy=e=>!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e),Bp=()=>Math.random().toString(36).slice(2),xu={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class vy extends $p{noop(){}blobToArrayBuffer(t,n){const r=new FileReader;return r.onload=function(s){s.target&&n(s.target.result)},r.readAsArrayBuffer(t),r}binaryStringToArrayBuffer(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r)&255;return n.buffer}isSecure(){return location.protocol==="https:"}constructor(...t){super(...t),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=xu,this.browser=Cr.getBrowser(),this.browserVersion=Cr.getVersion(),this.pack=ip,this.unpack=sp,this.supports=function(){const n={browser:Cr.isBrowserSupported(),webRTC:Cr.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!n.webRTC)return n;let r;try{r=new RTCPeerConnection(xu),n.audioVideo=!0;let s;try{s=r.createDataChannel("_PEERJSTEST",{ordered:!0}),n.data=!0,n.reliable=!!s.ordered;try{s.binaryType="blob",n.binaryBlob=!Cr.isIOS}catch{}}catch{}finally{s&&s.close()}}catch{}finally{r&&r.close()}return n}(),this.validateId=xy,this.randomToken=Bp}}const Ye=new vy,ky="PeerJS: ";class Cy{get logLevel(){return this._logLevel}set logLevel(t){this._logLevel=t}log(...t){this._logLevel>=3&&this._print(3,...t)}warn(...t){this._logLevel>=2&&this._print(2,...t)}error(...t){this._logLevel>=1&&this._print(1,...t)}setLogFunction(t){this._print=t}_print(t,...n){const r=[ky,...n];for(const s in r)r[s]instanceof Error&&(r[s]="("+r[s].name+") "+r[s].message);t>=3?console.log(...r):t>=2?console.warn("WARNING",...r):t>=1&&console.error("ERROR",...r)}constructor(){this._logLevel=0}}var z=new Cy,Ea={},Sy=Object.prototype.hasOwnProperty,He="~";function rs(){}Object.create&&(rs.prototype=Object.create(null),new rs().__proto__||(He=!1));function by(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function Up(e,t,n,r,s){if(typeof n!="function")throw new TypeError("The listener must be a function");var i=new by(n,r||e,s),o=He?He+t:t;return e._events[o]?e._events[o].fn?e._events[o]=[e._events[o],i]:e._events[o].push(i):(e._events[o]=i,e._eventsCount++),e}function Ws(e,t){--e._eventsCount===0?e._events=new rs:delete e._events[t]}function ze(){this._events=new rs,this._eventsCount=0}ze.prototype.eventNames=function(){var t=[],n,r;if(this._eventsCount===0)return t;for(r in n=this._events)Sy.call(n,r)&&t.push(He?r.slice(1):r);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t};ze.prototype.listeners=function(t){var n=He?He+t:t,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var s=0,i=r.length,o=new Array(i);s<i;s++)o[s]=r[s].fn;return o};ze.prototype.listenerCount=function(t){var n=He?He+t:t,r=this._events[n];return r?r.fn?1:r.length:0};ze.prototype.emit=function(t,n,r,s,i,o){var a=He?He+t:t;if(!this._events[a])return!1;var l=this._events[a],u=arguments.length,d,p;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),u){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,n),!0;case 3:return l.fn.call(l.context,n,r),!0;case 4:return l.fn.call(l.context,n,r,s),!0;case 5:return l.fn.call(l.context,n,r,s,i),!0;case 6:return l.fn.call(l.context,n,r,s,i,o),!0}for(p=1,d=new Array(u-1);p<u;p++)d[p-1]=arguments[p];l.fn.apply(l.context,d)}else{var f=l.length,h;for(p=0;p<f;p++)switch(l[p].once&&this.removeListener(t,l[p].fn,void 0,!0),u){case 1:l[p].fn.call(l[p].context);break;case 2:l[p].fn.call(l[p].context,n);break;case 3:l[p].fn.call(l[p].context,n,r);break;case 4:l[p].fn.call(l[p].context,n,r,s);break;default:if(!d)for(h=1,d=new Array(u-1);h<u;h++)d[h-1]=arguments[h];l[p].fn.apply(l[p].context,d)}}return!0};ze.prototype.on=function(t,n,r){return Up(this,t,n,r,!1)};ze.prototype.once=function(t,n,r){return Up(this,t,n,r,!0)};ze.prototype.removeListener=function(t,n,r,s){var i=He?He+t:t;if(!this._events[i])return this;if(!n)return Ws(this,i),this;var o=this._events[i];if(o.fn)o.fn===n&&(!s||o.once)&&(!r||o.context===r)&&Ws(this,i);else{for(var a=0,l=[],u=o.length;a<u;a++)(o[a].fn!==n||s&&!o[a].once||r&&o[a].context!==r)&&l.push(o[a]);l.length?this._events[i]=l.length===1?l[0]:l:Ws(this,i)}return this};ze.prototype.removeAllListeners=function(t){var n;return t?(n=He?He+t:t,this._events[n]&&Ws(this,n)):(this._events=new rs,this._eventsCount=0),this};ze.prototype.off=ze.prototype.removeListener;ze.prototype.addListener=ze.prototype.on;ze.prefixed=He;ze.EventEmitter=ze;Ea=ze;var Tn={};En(Tn,"ConnectionType",()=>rn);En(Tn,"PeerErrorType",()=>ke);En(Tn,"BaseConnectionErrorType",()=>_l);En(Tn,"DataConnectionErrorType",()=>Ta);En(Tn,"SerializationType",()=>Gi);En(Tn,"SocketEventType",()=>Xt);En(Tn,"ServerMessageType",()=>De);var rn=function(e){return e.Data="data",e.Media="media",e}({}),ke=function(e){return e.BrowserIncompatible="browser-incompatible",e.Disconnected="disconnected",e.InvalidID="invalid-id",e.InvalidKey="invalid-key",e.Network="network",e.PeerUnavailable="peer-unavailable",e.SslUnavailable="ssl-unavailable",e.ServerError="server-error",e.SocketError="socket-error",e.SocketClosed="socket-closed",e.UnavailableID="unavailable-id",e.WebRTC="webrtc",e}({}),_l=function(e){return e.NegotiationFailed="negotiation-failed",e.ConnectionClosed="connection-closed",e}({}),Ta=function(e){return e.NotOpenYet="not-open-yet",e.MessageToBig="message-too-big",e}({}),Gi=function(e){return e.Binary="binary",e.BinaryUTF8="binary-utf8",e.JSON="json",e.None="raw",e}({}),Xt=function(e){return e.Message="message",e.Disconnected="disconnected",e.Error="error",e.Close="close",e}({}),De=function(e){return e.Heartbeat="HEARTBEAT",e.Candidate="CANDIDATE",e.Offer="OFFER",e.Answer="ANSWER",e.Open="OPEN",e.Error="ERROR",e.IdTaken="ID-TAKEN",e.InvalidKey="INVALID-KEY",e.Leave="LEAVE",e.Expire="EXPIRE",e}({});const Fp="1.5.5";class wy extends Ea.EventEmitter{constructor(t,n,r,s,i,o=5e3){super(),this.pingInterval=o,this._disconnected=!0,this._messagesQueue=[];const a=t?"wss://":"ws://";this._baseUrl=a+n+":"+r+s+"peerjs?key="+i}start(t,n){this._id=t;const r=`${this._baseUrl}&id=${t}&token=${n}`;this._socket||!this._disconnected||(this._socket=new WebSocket(r+"&version="+Fp),this._disconnected=!1,this._socket.onmessage=s=>{let i;try{i=JSON.parse(s.data),z.log("Server message received:",i)}catch{z.log("Invalid server message",s.data);return}this.emit(Xt.Message,i)},this._socket.onclose=s=>{this._disconnected||(z.log("Socket closed.",s),this._cleanup(),this._disconnected=!0,this.emit(Xt.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),z.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){z.log("Cannot send heartbeat, because socket closed");return}const t=JSON.stringify({type:De.Heartbeat});this._socket.send(t),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const t=[...this._messagesQueue];this._messagesQueue=[];for(const n of t)this.send(n)}send(t){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(t);return}if(!t.type){this.emit(Xt.Error,"Invalid message");return}if(!this._wsOpen())return;const n=JSON.stringify(t);this._socket.send(n)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class Hp{constructor(t){this.connection=t}startConnection(t){const n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===rn.Media&&t._stream&&this._addTracksToConnection(t._stream,n),t.originator){const r=this.connection,s={ordered:!!t.reliable},i=n.createDataChannel(r.label,s);r._initializeDataChannel(i),this._makeOffer()}else this.handleSDP("OFFER",t.sdp)}_startPeerConnection(){z.log("Creating RTCPeerConnection.");const t=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(t),t}_setupListeners(t){const n=this.connection.peer,r=this.connection.connectionId,s=this.connection.type,i=this.connection.provider;z.log("Listening for ICE candidates."),t.onicecandidate=o=>{!o.candidate||!o.candidate.candidate||(z.log(`Received ICE candidates for ${n}:`,o.candidate),i.socket.send({type:De.Candidate,payload:{candidate:o.candidate,type:s,connectionId:r},dst:n}))},t.oniceconnectionstatechange=()=>{switch(t.iceConnectionState){case"failed":z.log("iceConnectionState is failed, closing connections to "+n),this.connection.emitError(_l.NegotiationFailed,"Negotiation of connection to "+n+" failed."),this.connection.close();break;case"closed":z.log("iceConnectionState is closed, closing connections to "+n),this.connection.emitError(_l.ConnectionClosed,"Connection to "+n+" closed."),this.connection.close();break;case"disconnected":z.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":t.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",t.iceConnectionState)},z.log("Listening for data channel"),t.ondatachannel=o=>{z.log("Received data channel");const a=o.channel;i.getConnection(n,r)._initializeDataChannel(a)},z.log("Listening for remote stream"),t.ontrack=o=>{z.log("Received remote stream");const a=o.streams[0],l=i.getConnection(n,r);if(l.type===rn.Media){const u=l;this._addStreamToMediaConnection(a,u)}}}cleanup(){z.log("Cleaning up PeerConnection to "+this.connection.peer);const t=this.connection.peerConnection;if(!t)return;this.connection.peerConnection=null,t.onicecandidate=t.oniceconnectionstatechange=t.ondatachannel=t.ontrack=()=>{};const n=t.signalingState!=="closed";let r=!1;const s=this.connection.dataChannel;s&&(r=!!s.readyState&&s.readyState!=="closed"),(n||r)&&t.close()}async _makeOffer(){const t=this.connection.peerConnection,n=this.connection.provider;try{const r=await t.createOffer(this.connection.options.constraints);z.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await t.setLocalDescription(r),z.log("Set localDescription:",r,`for:${this.connection.peer}`);let s={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===rn.Data){const i=this.connection;s={...s,label:i.label,reliable:i.reliable,serialization:i.serialization}}n.socket.send({type:De.Offer,payload:s,dst:this.connection.peer})}catch(s){s!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(ke.WebRTC,s),z.log("Failed to setLocalDescription, ",s))}}catch(r){n.emitError(ke.WebRTC,r),z.log("Failed to createOffer, ",r)}}async _makeAnswer(){const t=this.connection.peerConnection,n=this.connection.provider;try{const r=await t.createAnswer();z.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await t.setLocalDescription(r),z.log("Set localDescription:",r,`for:${this.connection.peer}`),n.socket.send({type:De.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(s){n.emitError(ke.WebRTC,s),z.log("Failed to setLocalDescription, ",s)}}catch(r){n.emitError(ke.WebRTC,r),z.log("Failed to create answer, ",r)}}async handleSDP(t,n){n=new RTCSessionDescription(n);const r=this.connection.peerConnection,s=this.connection.provider;z.log("Setting remote description",n);const i=this;try{await r.setRemoteDescription(n),z.log(`Set remoteDescription:${t} for:${this.connection.peer}`),t==="OFFER"&&await i._makeAnswer()}catch(o){s.emitError(ke.WebRTC,o),z.log("Failed to setRemoteDescription, ",o)}}async handleCandidate(t){z.log("handleCandidate:",t);try{await this.connection.peerConnection.addIceCandidate(t),z.log(`Added ICE candidate for:${this.connection.peer}`)}catch(n){this.connection.provider.emitError(ke.WebRTC,n),z.log("Failed to handleCandidate, ",n)}}_addTracksToConnection(t,n){if(z.log(`add tracks from stream ${t.id} to peer connection`),!n.addTrack)return z.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");t.getTracks().forEach(r=>{n.addTrack(r,t)})}_addStreamToMediaConnection(t,n){z.log(`add stream ${t.id} to media connection ${n.connectionId}`),n.addStream(t)}}class Vp extends Ea.EventEmitter{emitError(t,n){z.error("Error:",n),this.emit("error",new _y(`${t}`,n))}}class _y extends Error{constructor(t,n){typeof n=="string"?super(n):(super(),Object.assign(this,n)),this.type=t}}class Gp extends Vp{get open(){return this._open}constructor(t,n,r){super(),this.peer=t,this.provider=n,this.options=r,this._open=!1,this.metadata=r.metadata}}var Nl;const Or=class Or extends Gp{get type(){return rn.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(t,n,r){super(t,n,r),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Or.ID_PREFIX+Ye.randomToken(),this._negotiator=new Hp(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{z.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{z.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(t){z.log("Receiving stream",t),this._remoteStream=t,super.emit("stream",t)}handleMessage(t){const n=t.type,r=t.payload;switch(t.type){case De.Answer:this._negotiator.handleSDP(n,r.sdp),this._open=!0;break;case De.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:z.warn(`Unrecognized message type:${n} from peer:${this.peer}`);break}}answer(t,n={}){if(this._localStream){z.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=t,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:t});const r=this.provider._getMessages(this.connectionId);for(const s of r)this.handleMessage(s);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};Nl=new WeakMap,dr(Or,Nl,Or.ID_PREFIX="mc_");let Si=Or;class jy{constructor(t){this._options=t}_buildRequest(t){const n=this._options.secure?"https":"http",{host:r,port:s,path:i,key:o}=this._options,a=new URL(`${n}://${r}:${s}${i}${o}/${t}`);return a.searchParams.set("ts",`${Date.now()}${Math.random()}`),a.searchParams.set("version",Fp),fetch(a.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const t=await this._buildRequest("id");if(t.status!==200)throw new Error(`Error. Status:${t.status}`);return t.text()}catch(t){z.error("Error retrieving ID",t);let n="";throw this._options.path==="/"&&this._options.host!==Ye.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}}async listAllPeers(){try{const t=await this._buildRequest("peers");if(t.status!==200){if(t.status===401){let n="";throw this._options.host===Ye.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${t.status}`)}return t.json()}catch(t){throw z.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t)}}}var El,Tl;const fn=class fn extends Gp{get type(){return rn.Data}constructor(t,n,r){super(t,n,r),this.connectionId=this.options.connectionId||fn.ID_PREFIX+Bp(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new Hp(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(t){this.dataChannel=t,this.dataChannel.onopen=()=>{z.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=n=>{z.log(`DC#${this.connectionId} dc onmessage:`,n.data)},this.dataChannel.onclose=()=>{z.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(t){if(t!=null&&t.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(t,n=!1){if(!this.open){this.emitError(Ta.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(t,n)}async handleMessage(t){const n=t.payload;switch(t.type){case De.Answer:await this._negotiator.handleSDP(t.type,n.sdp);break;case De.Candidate:await this._negotiator.handleCandidate(n.candidate);break;default:z.warn("Unrecognized message type:",t.type,"from peer:",this.peer);break}}};El=new WeakMap,Tl=new WeakMap,dr(fn,El,fn.ID_PREFIX="dc_"),dr(fn,Tl,fn.MAX_BUFFERED_AMOUNT=8388608);let bi=fn;class Pa extends bi{get bufferSize(){return this._bufferSize}_initializeDataChannel(t){super._initializeDataChannel(t),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",n=>this._handleDataMessage(n))}_bufferedSend(t){(this._buffering||!this._trySend(t))&&(this._buffer.push(t),this._bufferSize=this._buffer.length)}_trySend(t){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>bi.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(t)}catch(n){return z.error(`DC#:${this.connectionId} Error when sending:`,n),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const t=this._buffer[0];this._trySend(t)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(t){if(t!=null&&t.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...t){super(...t),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class So extends Pa{close(t){super.close(t),this._chunkedData={}}constructor(t,n,r){super(t,n,r),this.chunker=new $p,this.serialization=Gi.Binary,this._chunkedData={}}_handleDataMessage({data:t}){const n=sp(t),r=n.__peerData;if(r){if(r.type==="close"){this.close();return}this._handleChunk(n);return}this.emit("data",n)}_handleChunk(t){const n=t.__peerData,r=this._chunkedData[n]||{data:[],count:0,total:t.total};if(r.data[t.n]=new Uint8Array(t.data),r.count++,this._chunkedData[n]=r,r.total===r.count){delete this._chunkedData[n];const s=yy(r.data);this._handleDataMessage({data:s})}}_send(t,n){const r=ip(t);if(r instanceof Promise)return this._send_blob(r);if(!n&&r.byteLength>this.chunker.chunkedMTU){this._sendChunks(r);return}this._bufferedSend(r)}async _send_blob(t){const n=await t;if(n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}_sendChunks(t){const n=this.chunker.chunk(t);z.log(`DC#${this.connectionId} Try to send ${n.length} chunks...`);for(const r of n)this.send(r,!0)}}class Ny extends Pa{_handleDataMessage({data:t}){super.emit("data",t)}_send(t,n){this._bufferedSend(t)}constructor(...t){super(...t),this.serialization=Gi.None}}class Ey extends Pa{_handleDataMessage({data:t}){const n=this.parse(this.decoder.decode(t)),r=n.__peerData;if(r&&r.type==="close"){this.close();return}this.emit("data",n)}_send(t,n){const r=this.encoder.encode(this.stringify(t));if(r.byteLength>=Ye.chunkedMTU){this.emitError(Ta.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(r)}constructor(...t){super(...t),this.serialization=Gi.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}var Pl;const Lr=class Lr extends Vp{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const t=Object.create(null);for(const[n,r]of this._connections)t[n]=r;return t}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(t,n){super(),this._serializers={raw:Ny,json:Ey,binary:So,"binary-utf8":So,default:So},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let r;if(t&&t.constructor==Object?n=t:t&&(r=t.toString()),n={debug:0,host:Ye.CLOUD_HOST,port:Ye.CLOUD_PORT,path:"/",key:Lr.DEFAULT_KEY,token:Ye.randomToken(),config:Ye.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...n},this._options=n,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Ye.CLOUD_HOST?this._options.secure=Ye.isSecure():this._options.host==Ye.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&z.setLogFunction(this._options.logFunction),z.logLevel=this._options.debug||0,this._api=new jy(n),this._socket=this._createServerConnection(),!Ye.supports.audioVideo&&!Ye.supports.data){this._delayedAbort(ke.BrowserIncompatible,"The current browser does not support WebRTC");return}if(r&&!Ye.validateId(r)){this._delayedAbort(ke.InvalidID,`ID "${r}" is invalid`);return}r?this._initialize(r):this._api.retrieveId().then(s=>this._initialize(s)).catch(s=>this._abort(ke.ServerError,s))}_createServerConnection(){const t=new wy(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return t.on(Xt.Message,n=>{this._handleMessage(n)}),t.on(Xt.Error,n=>{this._abort(ke.SocketError,n)}),t.on(Xt.Disconnected,()=>{this.disconnected||(this.emitError(ke.Network,"Lost connection to server."),this.disconnect())}),t.on(Xt.Close,()=>{this.disconnected||this._abort(ke.SocketClosed,"Underlying socket is already closed.")}),t}_initialize(t){this._id=t,this.socket.start(t,this._options.token)}_handleMessage(t){const n=t.type,r=t.payload,s=t.src;switch(n){case De.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case De.Error:this._abort(ke.ServerError,r.msg);break;case De.IdTaken:this._abort(ke.UnavailableID,`ID "${this.id}" is taken`);break;case De.InvalidKey:this._abort(ke.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case De.Leave:z.log(`Received leave message from ${s}`),this._cleanupPeer(s),this._connections.delete(s);break;case De.Expire:this.emitError(ke.PeerUnavailable,`Could not connect to peer ${s}`);break;case De.Offer:{const i=r.connectionId;let o=this.getConnection(s,i);if(o&&(o.close(),z.warn(`Offer received for existing Connection ID:${i}`)),r.type===rn.Media){const l=new Si(s,this,{connectionId:i,_payload:r,metadata:r.metadata});o=l,this._addConnection(s,o),this.emit("call",l)}else if(r.type===rn.Data){const l=new this._serializers[r.serialization](s,this,{connectionId:i,_payload:r,metadata:r.metadata,label:r.label,serialization:r.serialization,reliable:r.reliable});o=l,this._addConnection(s,o),this.emit("connection",l)}else{z.warn(`Received malformed connection type:${r.type}`);return}const a=this._getMessages(i);for(const l of a)o.handleMessage(l);break}default:{if(!r){z.warn(`You received a malformed message from ${s} of type ${n}`);return}const i=r.connectionId,o=this.getConnection(s,i);o&&o.peerConnection?o.handleMessage(t):i?this._storeMessage(i,t):z.warn("You received an unrecognized message:",t);break}}}_storeMessage(t,n){this._lostMessages.has(t)||this._lostMessages.set(t,[]),this._lostMessages.get(t).push(n)}_getMessages(t){const n=this._lostMessages.get(t);return n?(this._lostMessages.delete(t),n):[]}connect(t,n={}){if(n={serialization:"default",...n},this.disconnected){z.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(ke.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const r=new this._serializers[n.serialization](t,this,n);return this._addConnection(t,r),r}call(t,n,r={}){if(this.disconnected){z.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(ke.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){z.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const s=new Si(t,this,{...r,_stream:n});return this._addConnection(t,s),s}_addConnection(t,n){z.log(`add connection ${n.type}:${n.connectionId} to peerId:${t}`),this._connections.has(t)||this._connections.set(t,[]),this._connections.get(t).push(n)}_removeConnection(t){const n=this._connections.get(t.peer);if(n){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}this._lostMessages.delete(t.connectionId)}getConnection(t,n){const r=this._connections.get(t);if(!r)return null;for(const s of r)if(s.connectionId===n)return s;return null}_delayedAbort(t,n){setTimeout(()=>{this._abort(t,n)},0)}_abort(t,n){z.error("Aborting!"),this.emitError(t,n),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(z.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const t of this._connections.keys())this._cleanupPeer(t),this._connections.delete(t);this.socket.removeAllListeners()}_cleanupPeer(t){const n=this._connections.get(t);if(n)for(const r of n)r.close()}disconnect(){if(this.disconnected)return;const t=this.id;z.log(`Disconnect peer with ID:${t}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=t,this._id=null,this.emit("disconnected",t)}reconnect(){if(this.disconnected&&!this.destroyed)z.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)z.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(t=n=>{}){this._api.listAllPeers().then(n=>t(n)).catch(n=>this._abort(ke.ServerError,n))}};Pl=new WeakMap,dr(Lr,Pl,Lr.DEFAULT_KEY="peerjs");let jl=Lr;var Ty=jl;function Py(){const e=N.useRef(null),t=N.useRef(null),n=N.useRef(null),r=N.useRef(null),s=N.useRef(null),[i,o]=N.useState("initializing"),[a,l]=N.useState(""),[u,d]=N.useState(""),[p,f]=N.useState(!1);N.useEffect(()=>{const m=window.location.hash;console.log("WebRTCCamera: Full hash:",m);const y=m.includes("?")?m.split("?")[1]:"";console.log("WebRTCCamera: Hash params:",y);const S=new URLSearchParams(y).get("session");console.log("WebRTCCamera: Extracted session:",S),S?l(S):(d("Keine Session-ID gefunden. Bitte QR-Code erneut scannen."),o("error"))},[]);const h=N.useCallback(async()=>{try{o("camera_request");const m=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280,min:640},height:{ideal:720,min:480},frameRate:{ideal:30,min:15}},audio:!1});s.current=m,e.current&&(e.current.srcObject=m,await e.current.play()),o("camera_ready")}catch(m){console.error("Camera error:",m),d("Kamera-Zugriff verweigert. Bitte Berechtigung erteilen."),o("error")}},[]),g=N.useCallback(()=>{if(!a||!s.current){d("Kamera nicht bereit oder keine Session.");return}o("connecting");const m=`dart-desktop-${a}`,y=`dart-camera-${a}-${Date.now()}`,k=new Ty(y,{debug:2,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"},{urls:"stun:stun4.l.google.com:19302"}]}});t.current=k,k.on("open",()=>{console.log("Camera peer ready, connecting to:",m);const S=k.connect(m,{reliable:!0});n.current=S,S.on("open",()=>{console.log("Data connection established to:",m);const C=s.current;if(C){const w=k.call(m,C);r.current=w,w.on("stream",()=>{}),w.on("close",()=>{console.log("Media connection closed"),f(!1),o("camera_ready")}),w.on("error",_=>{console.error("Media error:",_)}),f(!0),o("connected"),S.send({type:"camera_connected",timestamp:Date.now()})}}),S.on("data",C=>{console.log("Received from desktop:",C),C.type==="ping"&&S.send({type:"pong",timestamp:C.timestamp})}),S.on("close",()=>{console.log("Data connection closed"),o("camera_ready"),f(!1)}),S.on("error",C=>{console.error("Data connection error:",C)})}),k.on("error",S=>{console.error("Peer error:",S),d(`Verbindungsfehler: ${S.message}`),o("error")}),k.on("disconnected",()=>{console.log("Peer disconnected"),o("camera_ready"),f(!1)})},[a]);N.useEffect(()=>{a&&h()},[a,h]),N.useEffect(()=>{if(i==="camera_ready"&&s.current&&!t.current){console.log("Auto-connecting to desktop in 500ms...");const m=setTimeout(()=>{s.current&&!t.current&&(console.log("Auto-connect: executing connectToDesktop"),g())},500);return()=>clearTimeout(m)}},[i,g]),N.useEffect(()=>()=>{s.current&&s.current.getTracks().forEach(m=>m.stop()),t.current&&t.current.destroy()},[]);const v=()=>{r.current&&r.current.close(),n.current&&n.current.close(),t.current&&(t.current.destroy(),t.current=null),f(!1),o("camera_ready")},b=()=>{switch(i){case"connected":return"bg-green-600";case"connecting":return"bg-yellow-600";case"camera_ready":return"bg-blue-600";case"error":return"bg-red-600";default:return"bg-gray-600"}},x=()=>{switch(i){case"initializing":return"Initialisiere...";case"camera_request":return"Kamera-Zugriff anfordern...";case"camera_ready":return"Kamera bereit - Verbinde...";case"connecting":return"Verbinde mit Desktop...";case"connected":return"Verbunden & Streaming";case"error":return"Fehler"}};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-900 flex flex-col",children:[c.jsxs("div",{className:"p-4 flex items-center justify-between",children:[c.jsxs("h1",{className:"text-xl font-bold text-white flex items-center gap-2",children:[c.jsx(ts,{size:24,className:"text-blue-400"}),"Dart Kamera"]}),c.jsxs("div",{className:`px-3 py-1 rounded-full text-white text-sm font-medium flex items-center gap-2 ${b()}`,children:[i==="connecting"&&c.jsx(Xc,{size:14,className:"animate-spin"}),i==="connected"&&c.jsx(ki,{size:14}),i==="error"&&c.jsx(Bf,{size:14}),x()]})]}),c.jsxs("div",{className:"flex-1 relative bg-black",children:[c.jsx("video",{ref:e,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),i==="camera_request"&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/80",children:c.jsxs("div",{className:"text-center text-white",children:[c.jsx(Xc,{size:48,className:"animate-spin mx-auto mb-4"}),c.jsx("p",{children:"Kamera-Zugriff wird angefordert..."}),c.jsx("p",{className:"text-sm text-gray-400 mt-2",children:'Bitte "Erlauben" tippen'})]})}),p&&c.jsxs("div",{className:"absolute top-4 left-4 px-3 py-1 bg-red-600 rounded-full text-white text-sm font-bold flex items-center gap-2",children:[c.jsx("span",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),"LIVE"]})]}),c.jsxs("div",{className:"p-4 space-y-3",children:[a&&c.jsxs("div",{className:"bg-white/10 rounded-lg p-3 text-center",children:[c.jsx("p",{className:"text-gray-400 text-xs",children:"Session:"}),c.jsx("p",{className:"text-white font-mono font-bold text-lg",children:a})]}),u&&c.jsx("div",{className:"bg-red-600/20 border border-red-500 rounded-lg p-3 text-center",children:c.jsx("p",{className:"text-red-400 text-sm",children:u})}),i==="camera_ready"&&c.jsxs("button",{onClick:g,className:"w-full py-4 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 rounded-xl text-white font-bold text-lg flex items-center justify-center gap-2 transition",children:[c.jsx($f,{size:24}),"Mit Desktop verbinden"]}),i==="connected"&&c.jsxs("button",{onClick:v,className:"w-full py-4 bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-500 hover:to-orange-500 rounded-xl text-white font-bold text-lg flex items-center justify-center gap-2 transition",children:[c.jsx(pg,{size:24}),"Trennen"]}),i==="error"&&c.jsxs("button",{onClick:()=>window.location.reload(),className:"w-full py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 rounded-xl text-white font-bold text-lg flex items-center justify-center gap-2 transition",children:[c.jsx(ft,{size:24}),"Neu laden"]})]})]})}function vu(){return window.location.hash.replace("#","").replace("/","").split("?")[0].toLowerCase()}function Ry(e){window.location.hash=`#/${e}`}function _t(){window.location.hash=""}function My(){const{currentGame:e,gameState:t,players:n,recordHit:r,initializeDarts501:s,initializeCricket:i,initializeLimbo:o,setCurrentGame:a,initializeGame:l,resetGame:u}=jn(),d=vu(),p=d==="camera",f=d.startsWith("camera-webrtc"),h=d==="manual-camera";return N.useEffect(()=>{const g=()=>{const v=vu();v==="killer"&&e!=="killer"?a("killer"):v==="darts501"&&e!=="darts501"?a("darts501"):v==="cricket"&&e!=="cricket"?a("cricket"):v==="limbo"&&e!=="limbo"?a("limbo"):v===""&&e!==null&&u()};return window.addEventListener("hashchange",g),g(),()=>window.removeEventListener("hashchange",g)},[e,n,l,a,u]),N.useEffect(()=>{const g=b=>{const x=b;x.detail&&r(x.detail)};window.addEventListener("dartHit",g);const v=setInterval(()=>{try{const b=JSON.parse(localStorage.getItem("mobile_hits")||"[]");if(b.length>0){const x=b[b.length-1],m=localStorage.getItem("last_hit_timestamp");(!m||x.timestamp>parseInt(m))&&(r(x),localStorage.setItem("last_hit_timestamp",x.timestamp.toString()))}}catch(b){console.error("Sync error:",b)}},500);return()=>{window.removeEventListener("dartHit",g),clearInterval(v)}},[r]),p?c.jsx(iy,{}):f?c.jsx(Py,{}):h?c.jsx(np,{mode:"camera"}):n.length===0?c.jsx(mg,{}):e?e==="killer"?t?c.jsx(Hg,{}):c.jsx(Vg,{onStart:()=>l("killer",n),onBack:()=>_t()}):e==="darts501"?t?c.jsx(Gg,{}):c.jsx(Yg,{onStart:g=>s(n,g),onBack:()=>_t()}):e==="cricket"?t?c.jsx(Kg,{}):c.jsx(Jg,{onStart:()=>i(n),onBack:()=>_t()}):e==="limbo"?t?c.jsx(Zg,{}):c.jsx(ty,{onStart:(g,v)=>o(n,g,v),onBack:()=>_t()}):c.jsx("div",{children:"Game not found"}):c.jsx(Fg,{})}bo.createRoot(document.getElementById("root")).render(c.jsx(ie.StrictMode,{children:c.jsx(My,{})}));
